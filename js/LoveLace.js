function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}var _typeof=function(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;};var MAXI=1024;var STAP="(S.T.A.P.) Stopped To Avoid Phailures";Object.defineProperty(this,"never",{get:function(){throw "Unexhuastive pattern matching | 'never' was reached";}});var keyboardKeysArray=['AltLeft','AltRight','ArrowDown','ArrowLeft','ArrowRight','ArrowUp','Backquote','Backslash','Backspace','BracketLeft','BracketRight','CapsLock','Comma','ControlLeft','ControlRight','Delete','NumpadAdd','NumpadDecimal','NumpadDivide','NumpadEnter','NumpadMultiply','NumpadSubtract','PageUp','Pagedown','Period','Quote','Semicolon','ShiftLeft','ShiftRight','Slash','End','Enter','Equal','Home','Insert','Minus','Space','Tab','Digit0','Digit1','Digit2','Digit3','Digit4','Digit5','Digit6','Digit7','Digit8','Digit9','Numpad0','Numpad1','Numpad2','Numpad3','Numpad4','Numpad5','Numpad6','Numpad7','Numpad8','Numpad9','KeyA','KeyB','KeyC','KeyD','KeyE','KeyF','KeyG','KeyH','KeyI','KeyJ','KeyK','KeyL','KeyM','KeyN','KeyO','KeyP','KeyQ','KeyR','KeyS','KeyT','KeyU','KeyV','KeyW','KeyX','KeyY','KeyZ'];var eq=function(leftside){return function(rightside){return leftside.eq(rightside);};};var Vertical;(function(Vertical1){Vertical1["Downward"]='Vertical.Downward : Vertical';Vertical1["Down"]='Vertical.Down : Vertical';Vertical1["Rest"]='Vertical.Rest : Vertical';Vertical1["Upward"]='Vertical.Upward : Vertical';Vertical1["Up"]='Vertical.Up : Vertical';})(Vertical||(Vertical={}));var LineCap;(function(LineCap1){LineCap1["Butt"]='LineCap.Butt : LineCap';LineCap1["Round"]='LineCap.Round : LineCap';LineCap1["Square"]='LineCap.Square : LineCap';})(LineCap||(LineCap={}));var LineJoin;(function(LineJoin1){LineJoin1["Round"]='LineJoin.Round : LineJoin';LineJoin1["Bevel"]='LineJoin.Bevel : LineJoin';LineJoin1["Miter"]='LineJoin.Miter : LineJoin';})(LineJoin||(LineJoin={}));var TextAlign;(function(TextAlign1){TextAlign1["Start"]='TextAlign.Start : TextAlign';TextAlign1["End"]='TextAlign.End : TextAlign';TextAlign1["Leftside"]='TextAlign.Leftside : TextAlign';TextAlign1["Rightside"]='TextAlign.Rightside : TextAlign';TextAlign1["Center"]='TextAlign.Center : TextAlign';})(TextAlign||(TextAlign={}));var TextBaseline;(function(TextBaseline1){TextBaseline1["Top"]='TextBaseline.Top : TextBaseline';TextBaseline1["Hanging"]='TextBaseline.Hanging : TextBaseline';TextBaseline1["Middle"]='TextBaseline.Middle : TextBaseline';TextBaseline1["Alphabetic"]='TextBaseline.Alphabetic : TextBaseline';TextBaseline1["Ideographic"]='TextBaseline.Ideographic : TextBaseline';TextBaseline1["Bottom"]='TextBaseline.Bottom : TextBaseline';})(TextBaseline||(TextBaseline={}));var Composition;(function(Composition1){Composition1["SourceOver"]='Composition.SourceOver : Composition';Composition1["SourceAtop"]='Composition.SourceAtop : Composition';Composition1["SourceIn"]='Composition.SourceIn : Composition';Composition1["SourceOut"]='Composition.SourceOut : Composition';Composition1["DestinationOver"]='Composition.DestinationOver : Composition';Composition1["DestinationAtop"]='Composition.DestinationAtop : Composition';Composition1["DestinationIn"]='Composition.DestinationIn : Composition';Composition1["DestinationOut"]='Composition.DestinationOut : Composition';Composition1["Lighter"]='Composition.Lighter : Composition';Composition1["Xor"]='Composition.Xor : Composition';Composition1["Copy"]='Composition.Copy : Composition';Composition1["Multiply"]='Composition.Multiply : Composition';Composition1["Screen"]='Composition.Screen : Composition';Composition1["Overlay"]='Composition.Overlay : Composition';Composition1["Darken"]='Composition.Darken : Composition';Composition1["Lighten"]='Composition.Lighten : Composition';Composition1["ColorDodge"]='Composition.ColorDodge : Composition';Composition1["ColorBurn"]='Composition.ColorBurn : Composition';Composition1["HardLight"]='Composition.HardLight : Composition';Composition1["SoftLight"]='Composition.SoftLight : Composition';Composition1["Difference"]='Composition.Difference : Composition';Composition1["Exclusion"]='Composition.Exclusion : Composition';Composition1["Hue"]='Composition.Hue : Composition';Composition1["Saturation"]='Composition.Saturation : Composition';Composition1["Color"]='Composition.Color : Composition';Composition1["Luminosity"]='Composition.Luminosity : Composition';})(Composition||(Composition={}));var e=2.718281828459045;var ln2=0.6931471805599453;var ln10=2.302585092994046;var log2e=1.4426950408889634;var log10e=0.4342944819032518;var pi=3.141592653589793;var piDiv180=0.017453292519943295;var invPiDiv180=57.29577951308232;var tau=6.283185307179586;var sqrt2=1.4142135623730951;var invSqrt2=0.7071067811865476;var abs=Math.abs;var acos=Math.acos;var acosh=Math.acosh;var asin=Math.asin;var asinh=Math.asinh;var atan=Math.atan;var atan2=function(y){return function(x){return Math.atan2(y,x);};};var ratan2=function(x){return function(y){return Math.atan2(y,x);};};var atanh=Math.atanh;var cbrt=Math.cbrt;var ceil=Math.ceil;var clz32=Math.clz32;var cos=Math.cos;var cosh=Math.cosh;var exp=Math.exp;var expm1=Math.expm1;var floor=Math.floor;var fround=Math.fround;var hypot=function(x){return function(y){return Math.hypot(x,y);};};var ln=Math.log;var log10=Math.log10;var lnp1=Math.log1p;var log2=Math.log2;var max=function(x){return function(y){return Math.max(x,y);};};var min=function(x){return function(y){return Math.min(x,y);};};var roundInt=Math.round;var roundStr=function(x){return function(amount){return x.toFixed(amount);};};var rroundStr=function(amount){return function(x){return x.toFixed(amount);};};var sign=Math.sign;var sin=Math.sin;var sinh=Math.sinh;var sqrt=Math.sqrt;var tan=Math.tan;var tanh=Math.tanh;var trunc=function(x){return ~~x;};var negate=function(x){return -x;};var reciprocate=function(x){return 1/x;};var add=function(x){return function(y){return x+y;};};var sub=function(x){return function(y){return x-y;};};var rsub=function(y){return function(x){return x-y;};};var mul=function(x){return function(y){return x*y;};};var div=function(x){return function(y){return x/y;};};var rdiv=function(y){return function(x){return x/y;};};var idiv=function(x){return function(y){return ~~(x/y);};};var ridiv=function(y){return function(x){return ~~(x/y);};};var pow=function(x){return function(y){return Math.pow(x,y);};};var rpow=function(y){return function(x){return Math.pow(x,y);};};var mod=function(x){return function(y){return x%y;};};var rmod=function(y){return function(x){return x%y;};};var modulo=function(x){return function(y){return (x%y+y)%y;};};var rmodulo=function(y){return function(x){return (x%y+y)%y;};};var bit=function(b){return +b;};var bNOT=function(x){return ~x;};var bLSHIFT=function(x){return function(amount){return x<<amount;};};var rbLSHIFT=function(amount){return function(x){return x<<amount;};};var bRSHIFT=function(x){return function(amount){return x>>amount;};};var rbRSHIFT=function(amount){return function(x){return x>>amount;};};var bURSHIFT=function(x){return function(amount){return x>>>amount;};};var rbURSHIFT=function(amount){return function(x){return x>>>amount;};};var bAND=function(x){return function(y){return x&y;};};var bNAND=function(x){return function(y){return ~(x&y);};};var bOR=function(x){return function(y){return x|y;};};var bNOR=function(x){return function(y){return ~(x|y);};};var bXOR=function(x){return function(y){return x^y;};};var bNXOR=function(x){return function(y){return ~(x^y);};};var not=function(b){return !b;};var and=function(b){return function(d){return b&&d;};};var nand=function(b){return function(d){return !(b&&d);};};var or=function(b){return function(d){return b||d;};};var nor=function(b){return function(d){return !(b||d);};};var xor=function(b){return function(d){return b!==d;};};var nxor=function(b){return function(d){return b===d;};};var lt=function(x){return function(y){return x<y;};};var lte=function(x){return function(y){return x<=y;};};var gt=function(x){return function(y){return x>=y;};};var gte=function(x){return function(y){return x>=y;};};var less=function(x){return function(y){return y<x;};};var lessEqual=function(x){return function(y){return y<=x;};};var greater=function(x){return function(y){return y>x;};};var greaterEqual=function(x){return function(y){return y>=x;};};var approx=function(amount){return function(x){return function(y){return Math.abs(x-y)<amount;};};};var napprox=function(amount){return function(x){return function(y){return Math.abs(x-y)>amount;};};};var diff=function(x){return function(y){return Math.abs(x-y);};};var lerp=function(t){return function(x){return function(y){return x+(y-x)*t;};};};var even=function(x){return x%2===0;};var odd=function(x){return Math.abs(x)%2===1;};var toDegrees=function(degrees){return degrees*invPiDiv180;};var toRadians=function(degrees){return degrees*piDiv180;};var toHexColor=function(decimal){return "#".concat((~~Math.abs(decimal)%16777216).toString(16).padStart(6,'0'));};var id=function(x){return x;};var apply=id;var rapply=function(x){return function(f){return f(x);};};var flip=function(f){return function(y){return function(x){return f(x)(y);};};};var notf=function(predicate){return function(value){return !predicate(value);};};var until=function(predicate){return function(endomorphism){return function(initial){while(!predicate(initial))initial=endomorphism(initial);return initial;};};};var bound=function(lower){return function(upper){return function(x){return Math.min(Math.max(lower,x),upper);};};};var isIn=function(lower){return function(upper){return function(n){return lower<n&&n<upper;};};};var isInRect=function(rx){return function(ry){return function(rw){return function(rh){return function(x){return function(y){return rx<x&&x<rx+rw&&ry<y&&y<ry+rh;};};};};};};var isInCircle=function(r){return function(cx){return function(cy){return function(x){return function(y){return (x-cx)**2+(y-cy)**2<r**2;};};};};};var _index;var match=function(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++){values[_key]=arguments[_key];}return function(index){return (_index=values[index])!==null&&_index!== void 0?_index:error("'match' takes non-negative integers in interval [0, ".concat(values.length,"); instead received '").concat(index,"'"));};};var quadraticCurve=function(x){return x<0.5?2*x**2:1-2*(1-x)**2;};var quarticCurve=function(x){return x<0.5?8*x**4:1-8*(1-x)**4;};var show=function(value){return "".concat(value);};var error=function(message){throw message;};var warn=function(message){return function(value){return console.warn(message),value;};};Boolean.prototype.pipe=function(f){return f(!!this);};Number.prototype.pipe=function(f){return f(+this);};String.prototype.pipe=function(f){return f(this.toString());};Boolean.prototype.eq=function(x){return !!this===x;};Number.prototype.eq=function(x){return +this===x;};String.prototype.eq=function(x){return this.toString()===x;};var IO=function(effect){return {variation:'IO',effect:effect,pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(effect()).effect();});},fmap:function(f){return IO(function(){return f(effect());});},bindto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($).effect()));});};},fmapto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($)));});};},then:function(io){return IO(function(){return effect(),io.effect();});},also:function(f){return IO(function(){var x=effect();return f(x).effect(),x;});},side:function(io){return IO(function(){var x=effect();return io.effect(),x;});},cast:function(x){return IO(function(){return effect(),x;});}};};var Process=function(computation){return {variation:'Process',computation:computation,pipe:function(f){return f(this);},bind:function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return f(second).computation(first);});},fmap:function(f){return Process(function(s){return fsnd(f)(computation(s));});},bindto:function(k){return function(f){return Process(function(s){var ref=computation(s),first0=ref.fst,second0=ref.snd;var ref1=f(second0).computation(first0),first1=ref1.fst,second1=ref1.snd;return Pair(first1,_objectSpread({},second0,_defineProperty({},k,second1)));});};},fmapto:function(k){return function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(first,_objectSpread({},second,_defineProperty({},k,f(second))));});};},then:function(p){return Process(function(s){return p.computation(computation(s).fst);});},also:function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(f(second).computation(first).fst,second);});},side:function(p){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(p.computation(first).fst,second);});},cast:function(x){return Process(function(s){return Pair(computation(s).fst,x);});}};};var Nil={variation:'Nil',get $REVERSE (){return this;},$LEN:0,fmap:function(_){return Nil;},bind:function(_){return Nil;},fmapto:function(_){return function(_1){return Nil;};},bindto:function(_){return function(_1){return Nil;};},pipe:function(f){return f(Nil);},link:id,eq:function(xs){return xs===Nil;}};var Cons=(function(lfirst){return (function(lrest){return {variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=lfirst();},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=lrest();},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(Cons).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(Cons).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(Cons).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var List=function(){for(var _len=arguments.length,elements=new Array(_len),_key=0;_key<_len;_key++){elements[_key]=arguments[_key];}var xs=Nil;for(var i=elements.length-1;~i;--i)xs=prepend(elements[i])(xs);return xs;};var Nothing={variation:'Nothing',pipe:function(f){return f(Nothing);},eq:function(m){return m===Nothing;},bind:function(_){return Nothing;},fmap:function(_){return Nothing;},bindto:function(_){return function(_1){return Nothing;};},fmapto:function(_){return function(_1){return Nothing;};}};var Just=function(value){return {variation:'Just',value:value,pipe:function(f){return f(this);},eq:function(m){return m.variation==='Just'&&m.value.eq(value);},bind:rapply(value),fmap:function(f){return Just(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return Just(_objectSpread({},value,_defineProperty({},k,f(value))));};}};};var Pair=function(first,second){return {variation:'Pair',fst:first,snd:second,pipe:function(f){return f(this);},eq:function(p){return p.fst.eq(first)&&p.snd.eq(second);}};};var Left=function(value){return {variation:'Left',value:value,pipe:function(f){return f(this);},eq:function(x){return x.variation==='Left'&&x.value.eq(value);}};};var Right=function(value){return {variation:'Right',value:value,pipe:function(f){return f(this);},eq:function(x){return x.variation==='Right'&&x.value.eq(value);}};};var Vector2=function(x,y){return {variation:'Vector2',x:x,y:y,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y;}};};var Vector3=function(x,y,z){return {variation:'Vector3',x:x,y:y,z:z,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z;}};};var Vector4=function(x,y,z,w){return {variation:'Vector4',x:x,y:y,z:z,w:w,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z&&v.w===w;}};};var Matrix2=function(ix,jx,iy,jy){return {variation:'Matrix2',ix:ix,jx:jx,iy:iy,jy:jy,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.iy===iy&&m.jy===jy;}};};var Matrix3=function(ix,jx,kx,iy,jy,ky,iz,jz,kz){return {variation:'Matrix3',ix:ix,jx:jx,kx:kx,iy:iy,jy:jy,ky:ky,iz:iz,jz:jz,kz:kz,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.kx===kx&&m.iy===iy&&m.jy===jy&&m.ky===ky&&m.iz===iz&&m.jz===jz&&m.kz===kz;}};};var Matrix4=function(ix,jx,kx,lx,iy,jy,ky,ly,iz,jz,kz,lz,iw,jw,kw,lw){return {variation:'Matrix4',ix:ix,jx:jx,kx:kx,lx:lx,iy:iy,jy:jy,ky:ky,ly:ly,iz:iz,jz:jz,kz:kz,lz:lz,iw:iw,jw:jw,kw:kw,lw:lw,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.kx===kx&&m.lx===lx&&m.iy===iy&&m.jy===jy&&m.ky===ky&&m.ly===ly&&m.iz===iz&&m.jz===jz&&m.kz===kz&&m.lz===lz&&m.iw===iw&&m.jw===jw&&m.kw===kw&&m.lw===lw;}};};var send=function(value){return {variation:'IO',effect:function(){return value;},pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(value).effect();});},fmap:function(f){return IO(function(){return f(value);});},bindto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value).effect()));});};},fmapto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));});};},then:id,also:function(f){return IO(function(){return f(value).effect(),value;});},side:function(io){return IO(function(){return io.effect(),value;});},cast:send};};var idle={variation:'IO',effect:function(){return null;},pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(null).effect();});},fmap:function(f){return IO(function(){return f(null);});},bindto:function(_){return function(_1){return error("'(idle).bindto' was caught used incorrectly; use the Do syntax");};},fmapto:function(_){return function(_1){return error("'(idle).fmapto' was caught used incorrectly; use the Do syntax");};},then:id,also:function(f){return IO(function(){return f(null).effect(),null;});},side:function(io){return IO(function(){return io.effect(),null;});},cast:send};var executing=function(){for(var _len=arguments.length,ios=new Array(_len),_key=0;_key<_len;_key++){ios[_key]=arguments[_key];}return IO(function(){return ios.forEach(function(io){return io.effect();}),null;});};var put=function(replacement){return function(process){return Process(function(s){return Pair(replacement,process.computation(s).snd);});};};var get=function(process){return Process(function(s){return same(process.computation(s).fst);});};var runProcess=function(process){return process.computation;};var execProcess=function(process){return function(state){return process.computation(state).fst;};};var evalProcess=function(process){return function(state){return process.computation(state).snd;};};var mapProcess=function(morphism){return function(process){return Process(function(s){return morphism(process.computation(s));});};};var endomapState=function(endomorphism){return function(process){return Process(function(s){return ffst(endomorphism)(process.computation(s));});};};var isNil=function(xs){return xs.variation==='Nil';};var isCons=function(xs){return xs.variation==='Cons';};var head=function(xs){return xs.variation==='Cons'?xs.head:error("'head' received a Nil value");};var tail=function(xs){return xs.variation==='Cons'?xs.tail:error("'tail' received a Nil value");};var link=function(xs){return function(ys){return xs.link(ys);};};var listToArray=function(xs){var ys=[];for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)return warn("'toArray' reached the maximum amount of elements allowed (".concat(MAXI,"); ").concat(STAP))(ys);else ys.push(xs.head),xs=xs.tail;return ys;};var unchars=function(xs){var str="";for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)return warn("'toString' reached the maximum amount of characters allowed (".concat(MAXI,"); ").concat(STAP))(str);else str+=xs.head,xs=xs.tail;return str;};var chars=function(str){return List.apply(null,str.split(''));};var prepend=function(first){return function(rest){return rest.variation==='Nil'?singleton(first):{variation:'Cons',head:first,tail:rest,$HEAD:first,$TAIL:rest,$LAST:rest.$LAST,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(first))xs=xs.tail;else return false;var ys=rest;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(prepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(first);var ys=rest;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(prepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(first);})(function(){return rest.fmap(f);});},bindto:function(k){return (function(f){var ys=this;var xs=f(first);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(prepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return function(f){return Cons(function(){return _objectSpread({},first,_defineProperty({},k,f(first)));})(function(){return rest.fmapto(k)(f);});};},link:function(xs){return xs.variation==='Nil'?this:Cons(function(){return first;})(function(){return rest.link(xs);});}};};};var llprepend=(function(lfirst){return (function(rest){return {variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=lfirst();},tail:rest,$TAIL:rest,$LAST:rest.$LAST,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(this.head))xs=xs.tail;else return false;var ys=rest;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=rest;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))(function(){return rest.fmap(f);});},bindto:function(k){return (function(f){var ys=this;var xs=f(this.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))(function(){return rest.fmapto(k)(f);});}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))(function(){return rest.link(xs);});}};}).bind(this);}).bind(this);var lrprepend=(function(first){return (function(lrest){return {variation:'Cons',head:first,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=lrest();},$HEAD:first,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(first))xs=xs.tail;else return false;var ys=this.tail;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(first);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(first);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(first);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},first,_defineProperty({},k,f(first)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lrprepend(first)((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var append=(function(value){return (function(rest){return rest.variation==='Nil'?singleton(value):{variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=rest.head;},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=append(value)(rest.tail);},$HEAD:rest.$HEAD,$LAST:value,$INIT:rest,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(append).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(append).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(append).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var singleton=(function(value){return {variation:'Cons',head:value,tail:Nil,$HEAD:value,$TAIL:Nil,$LAST:value,$INIT:Nil,get $REVERSE (){return this;},$LEN:1,pipe:function(f){return f(this);},eq:function(xs){return xs.variation==='Cons'&&xs.tail.variation==='Nil'&&xs.head.eq(value);},bind:rapply(value),fmap:function(f){return singleton(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return singleton(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:prepend(value)};}).bind(this);var repeat=(function(value){return {variation:'Cons',head:value,get tail (){return this;},$HEAD:value,get $TAIL (){return this;},get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(repeat).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))xs=xs.tail;else return false;return false;},bind:function(f){var xs=f(value);return xs.variation==='Nil'?error("'(repeat).bind' received an operation that returned Nil"):cycle(xs);},fmap:function(f){return repeat(f(value));},bindto:function(k){return function(f){var xs=f(value);return xs.variation==='Nil'?error("'(repeat).bindto' received an operation that returned Nil"):cycle(xs.fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));}));};},fmapto:function(k){return function(f){return repeat(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(_){return this;}};}).bind(this);var cycle=(function(pattern){return pattern.variation==='Nil'?error("'cycle' received a Nil list"):{variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=pattern.head;},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=pattern.tail.link(this);},get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(cycle).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return false;},bind:function(f){return cycle(pattern.bind(f));},fmap:function(f){return cycle(pattern.fmap(f));},bindto:function(k){return function(f){return cycle(pattern.bindto(k)(f));};},fmapto:function(k){return function(f){return cycle(pattern.fmapto(k)(f));};},link:function(_){return this;}};}).bind(this);var iterate=(function(endomorphism){return (function(initial){return {variation:'Cons',head:initial,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=iterate(endomorphism)(endomorphism(initial));},$HEAD:initial,get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(iterate).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return false;},bind:function(f){var xs=f(initial);var ys=this.tail;for(var i=0;xs.variation==='Nil';++i)if(i===MAXI)error("'(iterate).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(initial);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(iterate).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},initial,_defineProperty({},k,f(initial)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lrprepend(initial)((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var replicate=(function(amount){return (function(value){return amount>0?{variation:'Cons',head:value,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=replicate(amount-1)(value);},$HEAD:value,pipe:function(f){return f(this);},eq:function(xs){for(var i=0;i<amount&&xs.variation==='Cons';++i)if(i===MAXI)error("'(replicate).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))xs=xs.tail;else return false;return xs.variation==='Nil';},bind:function(f){return concat(replicate(amount)(f(value)));},fmap:function(f){return replicate(amount)(f(value));},bindto:function(k){return function(f){return concat(replicate(amount)(f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));})));};},fmapto:function(k){return function(f){return replicate(amount)(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(xs){return xs.variation==='Nil'?this:lrprepend(value)((function(){return this.tail.link(xs);}).bind(this));}}:Nil;}).bind(this);}).bind(this);var countBy=(function(step){return (function(start){return {variation:'Cons',head:start,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=countBy(step)(start+step);},$HEAD:start,get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(countBy).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(start+step*i))xs=xs.tail;else return false;return false;},bind:function(f){var i=0;var xs=f(start);while(xs.variation==='Nil')if(i===MAXI)error("'(countBy).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else++i,xs=f(start+step*i);return Cons(function(){return xs.head;})(function(){return xs.tail.link(countBy(step)(start+step*i).bind(f));});},fmap:function(f){return Cons(function(){return f(start);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(_){return error("'(countBy).bindto' was caught used incorrectly; use the Do syntax");},fmapto:function(_){return error("'(countBy).fmapto' was caught used incorrectly; use the Do syntax");},link:function(_){return this;}};}).bind(this);}).bind(this);var countDown=countBy(-1);var countUp=countBy(1);var naturals=countUp(0);var concat=function(xss){if(xss.variation==='Nil')return Nil;var xs=xss.head;var ys=xss.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'concat' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=ys.head,ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(concat(ys));}):xs;};var all=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'all' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))xs=xs.tail;else return false;return true;};};var any=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'any' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return true;else xs=xs.tail;return false;};};var at=function(index){return function(xs){if(!Number.isInteger(index)||index<0)error("'at' received index '".concat(index,"'; must be a non-negative integer"));var i=0;while(xs.variation==='Cons')if(i===index)return xs.head;else xs=xs.tail,++i;return error("'at' received index '".concat(index,"' for list of length ").concat(i,"; must be a non-negative integer less than ").concat(i));};};var indexing=function(xs){return function(index){if(!Number.isInteger(index)||index<0)error("'indexing' received index '".concat(index,"'; must be a non-negative integer"));var i=0;var ys=xs;while(ys.variation==='Cons')if(i===index)return ys.head;else ys=ys.tail,++i;return error("'indexing' received index '".concat(index,"' for list of length ").concat(i,"; must be a non-negative integer less than ").concat(i));};};var len=function(xs){if(xs.$LEN!==undefined)return xs.$LEN;var i=0;var ys=xs;while(ys.variation==='Cons')if(i===MAXI)error("'len' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else++i,ys=ys.tail;return xs.$LEN=i;};var last=function(xs){if(xs.$LAST!==undefined)return xs.$LAST;if(xs.variation==='Nil')error("'last' received a Nil list");for(var i=0;xs.tail.variation==='Cons';++i)if(i===MAXI)error("'last' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs=xs.tail;return xs.$LAST=xs.head;};var init=function(xs){if(xs.$INIT!==undefined)return xs.$INIT;if(xs.variation==='Nil')error("'init' received a Nil list");return xs.$INIT=xs.tail.variation==='Nil'?Nil:Cons(function(){return xs.head;})(function(){return init(xs.tail);});};var reverse=function(xs){if(xs.$REVERSE!==undefined)return xs.$REVERSE;var ys=Nil;var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'reverse' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;return ys.$REVERSE=xs,xs.$REVERSE=ys;};var map=function(morphism){return function(xs){return xs.fmap(morphism);};};var imap=function(imorphism){return function(xs){return xs.variation==='Nil'?Nil:Cons(function(){return imorphism(0)(xs.head);})(function(){return imap(function(i){return imorphism(i+1);})(xs.tail);});};};var intersperse=function(delimiter){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return prepend(delimiter)(xs.tail);});};};var foldl=function(operation){return function(initial){return function(xs){var x=initial;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'foldl' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else x=operation(x)(xs.head),xs=xs.tail;return x;};};};var foldl1=function(operation){return function(xs){if(xs.variation==='Nil')error("'fold1' received a Nil list");var x=xs.head;for(var i=0;(xs=xs.tail).variation==='Cons';++i)if(i===MAXI)error("'foldl1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else x=operation(x)(xs.head);return x;};};var foldr=function(operation){return function(initial){return function(xs){var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'foldr' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var x=initial;while(ys.variation==='Cons')x=operation(ys.head)(x),ys=ys.tail;return x;};};};var foldr1=function(operation){return function(xs){if(xs.variation==='Nil')error("'foldr1' received a Nil list");var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'foldr1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var x=ys.head;while((ys=ys.tail).variation==='Cons')x=operation(ys.head)(x);return x;};};var scanl=function(operation){return function(initial){return function(xs){return xs.variation==='Nil'?singleton(initial):lrprepend(initial)(function(){return scanl(operation)(operation(initial)(xs.head))(xs.tail);});};};};var scanl1=function(operation){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return scanl(operation)(operation(xs.head)(xs.tail.head))(xs.tail.tail);});};};var scanr=function(operation){return function(initial){return function(xs){var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'scanr' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var zs=singleton(initial);while(ys.variation==='Cons')zs=prepend(operation(ys.head)(zs.head))(zs),ys=ys.tail;return zs;};};};var scanr1=function(operation){return function(xs){if(xs.variation==='Nil'||xs.tail.variation==='Nil')return xs;var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'scanr1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var zs=singleton(ys.head);while((ys=ys.tail).variation==='Cons')zs=prepend(operation(ys.head)(zs.head))(zs);return zs;};};var take=function(amount){return function(xs){return xs.$LEN<=amount?xs:xs.variation==='Nil'||amount<1?Nil:Cons(function(){return xs.head;})(function(){return take(amount-1)(xs.tail);});};};var drop=function(amount){return function(xs){if(xs.$LEN<=amount)return Nil;for(var i=1;i<=amount&&xs.variation==='Cons';++i)if(i===MAXI)error("'drop' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs=xs.tail;return xs;};};var splitAt=function(index){return function(xs){if(index>=MAXI)error("'splitAt' would be traversing too many elements (".concat(MAXI,"); ").concat(STAP));if(xs.$LEN<=index)return Pair(Nil,xs);if(index<1)return Pair(xs,Nil);var ys=Nil;for(var i=1;i<=index&&xs.variation==='Cons';++i)ys=prepend(xs.head)(ys),xs=xs.tail;var zs=Nil;while(ys.variation==='Cons')zs=prepend(ys.head)(zs),ys=ys.tail;return Pair(zs,xs);};};var takeWhile=function(predicate){return function(xs){return xs.variation==='Cons'&&predicate(xs.head)?lrprepend(xs.head)(function(){return takeWhile(predicate)(xs.tail);}):Nil;};};var dropWhile=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("''dropWhile' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))xs=xs.tail;else return xs;return Nil;};};var span=function(predicate){return function(xs){var ys=Nil;for(var i=0;xs.variation==='Cons'&&predicate(xs.head);++i)if(i===MAXI)error("'span' traversed too many elements ".concat(MAXI,"; ").concat(STAP));else ys=prepend(xs.head)(ys),xs=xs.tail;var zs=Nil;while(ys.variation==='Cons')zs=prepend(ys.head)(zs),ys=ys.tail;return Pair(zs,xs);};};var elem=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'elem' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return true;else xs=xs.tail;return false;};};var nelem=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'nelem' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return false;else xs=xs.tail;return true;};};var filter=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'filter' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return lrprepend(xs.head)(function(){return filter(predicate)(xs.tail);});else xs=xs.tail;return Nil;};};var partition=function(predicate){return function(xs){return Pair(filter(predicate)(xs),filter(notf(predicate))(xs));};};var elemIndices=function(value){return function(xs){var _loop=function(i){if(i===MAXI)error("'elemIndices' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return {v:lrprepend(i)(function(){return elemIndices(value)(xs.tail).fmap(add(i+1));})};else xs=xs.tail;};for(var i=0;xs.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};var findIndices=function(predicate){return function(xs){var _loop=function(i){if(i===MAXI)error("'findIndices' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return {v:lrprepend(i)(function(){return findIndices(predicate)(xs.tail).fmap(add(i+1));})};else xs=xs.tail;};for(var i=0;xs.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};var zip=function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return Pair(firsts.head,seconds.head);})(function(){return zip(firsts.tail)(seconds.tail);});};};var zipWith=function(zipper){return function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return zipper(firsts.head)(seconds.head);})(function(){return zipWith(zipper)(firsts.tail)(seconds.tail);});};};};var unzip=function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));};var unzipWith=function(unzipper){return function(xs){return xs.fmap(unzipper).pipe(function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));});};};var lowercases=chars('abcdefghijklmnopqrstuvwxyz');var uppercases=chars('ABCDEFGHIJKLMNOPQRSTUVWXYZ');var isNothing=function(maybe){return maybe.variation==='Nothing';};var isJust=function(maybe){return maybe.variation==='Just';};var ffromJust=function(fallback){return function(morphism){return function(maybe){return maybe.variation==='Just'?morphism(maybe.value):fallback;};};};var fromJust=function(fallback){return function(maybe){return maybe.variation==='Just'?maybe.value:fallback;};};var extractJust=function(maybe){return maybe.variation==='Just'?maybe.value:error("'extractJust' received a Nothing value");};var ensure=function(predicate){return function(value){return predicate(value)?Just(value):Nothing;};};var maybeIO=function(maybe){return maybe.variation==='Nothing'?idle:maybe.value.cast(null);};var eqMaybe=function(maybe){return function(value){return maybe.variation==='Just'&&maybe.value.eq(value);};};var checkMaybe=function(predicate){return function(maybe){return maybe.variation==='Just'&&predicate(maybe.value);};};var fst=function(pair){return pair.fst;};var snd=function(pair){return pair.snd;};var fboth=function(morphism){return function(pair){return Pair(morphism(pair.fst),morphism(pair.snd));};};var ffst=function(morphism){return function(pair){return Pair(morphism(pair.fst),pair.snd);};};var fsnd=function(morphism){return function(pair){return Pair(pair.fst,morphism(pair.snd));};};var swap=function(pair){return Pair(pair.snd,pair.fst);};var same=function(value){return Pair(value,value);};var pick=function(bool){return bool?fst:snd;};var curry=function(f){return function(first){return function(second){return f(Pair(first,second));};};};var uncurry=function(f){return function(parameters){return f(parameters.fst)(parameters.snd);};};var pairToArray=function(pair){return [pair.fst,pair.snd];};var isLeft=function(either){return either.variation==='Left';};var isRight=function(either){return either.variation==='Right';};var mapLeft=function(lf){return function(either){return either.variation==='Left'?Left(lf(either.value)):either;};};var mapRight=function(rf){return function(either){return either.variation==='Right'?Right(rf(either.value)):either;};};var fromEither=function(lf){return function(rf){return function(either){return either.variation==='Left'?lf(either.value):rf(either.value);};};};var fromLeft=function(fallback){return function(either){return either.variation==='Left'?either.value:fallback;};};var fromRight=function(fallback){return function(either){return either.variation==='Right'?either.value:fallback;};};var extractLeft=function(either){return either.variation==='Left'?either.value:error("'fromLeft' received a Right value");};var extractRight=function(either){return either.variation==='Right'?either.value:error("'fromRight' received a Left value");};var V2;(function(V21){V21.zero=Vector2(0,0);V21.half=Vector2(0.5,0.5);V21.unit=Vector2(1,1);V21.promoteV3=function(v){return Vector3(v.x,v.y,0);};V21.promoteV4=function(v){return Vector4(v.x,v.y,0,0);};V21.translateX=function(dx){return function(v){return Vector2(v.x+dx,v.y);};};V21.translateY=function(dy){return function(v){return Vector2(v.x,v.y+dy);};};V21.translateXY=function(dx){return function(dy){return function(v){return Vector2(v.x+dx,v.y+dy);};};};V21.untranslateX=function(dx){return function(v){return Vector2(v.x-dx,v.y);};};V21.untranslateY=function(dy){return function(v){return Vector2(v.x,v.y-dy);};};V21.untranslateXY=function(dx){return function(dy){return function(v){return Vector2(v.x-dx,v.y-dy);};};};V21.scaleX=function(kx){return function(v){return Vector2(v.x*kx,v.y);};};V21.scaleY=function(ky){return function(v){return Vector2(v.x,v.y*ky);};};V21.scaleXY=function(kx){return function(ky){return function(v){return Vector2(v.x*kx,v.y*ky);};};};V21.unscaleX=function(kx){return function(v){return Vector2(v.x/kx,v.y);};};V21.unscaleY=function(ky){return function(v){return Vector2(v.x,v.y/ky);};};V21.unscaleXY=function(kx){return function(ky){return function(v){return Vector2(v.x/kx,v.y/ky);};};};V21.scale=function(k){return function(v){return Vector2(v.x*k,v.y*k);};};V21.unscale=function(k){return function(v){return Vector2(v.x/k,v.y/k);};};V21.translate=function(v){return function(w){return Vector2(v.x+w.x,v.y+w.y);};};V21.untranslate=function(v){return function(w){return Vector2(w.x-v.x,w.y-v.y);};};V21.negate=function(v){return Vector2(-v.x,-v.y);};V21.reciprocate=function(v){return Vector2(1/v.x,1/v.y);};V21.norm=function(v){return Math.sqrt(v.x**2+v.y**2);};V21.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2);return x===0?V2.zero:Vector2(v.x/x,v.y/x);};V21.dot=function(v){return function(w){return v.x*w.x+v.y*w.y;};};V21.transform=function(m){return function(v){return Vector2(m.ix*v.x+m.jx*v.y,m.iy*v.x+m.jy*v.y);};};V21.map=function(f){return function(v){return Vector2(f(v.x),f(v.y));};};V21.each=function(f){return function(v){return function(w){return Vector2(f(v.x)(w.x),f(v.y)(w.y));};};};V21.isInRect=function(rxy){return function(rwh){return function(xy){return rxy.x<xy.x&&xy.x<rxy.x+rwh.x&&rxy.y<xy.y&&xy.y<rxy.y+rwh.y;};};};V21.isInCircle=function(r){return function(cxy){return function(xy){return (xy.x-cxy.x)**2+(xy.y-cxy.y)**2<r**2;};};};})(V2||(V2={}));var V3;(function(V31){V31.zero=Vector3(0,0,0);V31.half=Vector3(0.5,0.5,0.5);V31.unit=Vector3(1,1,1);V31.demoteV2=function(v){return Vector2(v.x,v.y);};V31.promoteV4=function(v){return Vector4(v.x,v.y,v.z,0);};V31.translateX=function(dx){return function(v){return Vector3(v.x+dx,v.y,v.z);};};V31.translateY=function(dy){return function(v){return Vector3(v.x,v.y+dy,v.z);};};V31.translateZ=function(dz){return function(v){return Vector3(v.x,v.y,v.z+dz);};};V31.translateXYZ=function(dx){return function(dy){return function(dz){return function(v){return Vector3(v.x+dx,v.y+dy,v.z+dz);};};};};V31.untranslateX=function(dx){return function(v){return Vector3(v.x-dx,v.y,v.z);};};V31.untranslateY=function(dy){return function(v){return Vector3(v.x,v.y-dy,v.z);};};V31.untranslateZ=function(dz){return function(v){return Vector3(v.x,v.y,v.z-dz);};};V31.untranslateXYZ=function(dx){return function(dy){return function(dz){return function(v){return Vector3(v.x-dx,v.y-dy,v.z-dz);};};};};V31.scaleX=function(kx){return function(v){return Vector3(v.x*kx,v.y,v.z);};};V31.scaleY=function(ky){return function(v){return Vector3(v.x,v.y*ky,v.z);};};V31.scaleZ=function(kz){return function(v){return Vector3(v.x,v.y,v.z*kz);};};V31.scaleXYZ=function(kx){return function(ky){return function(kz){return function(v){return Vector3(v.x*kx,v.y*ky,v.z*kz);};};};};V31.unscaleX=function(kx){return function(v){return Vector3(v.x/kx,v.y,v.z);};};V31.unscaleY=function(ky){return function(v){return Vector3(v.x,v.y/ky,v.z);};};V31.unscaleZ=function(kz){return function(v){return Vector3(v.x,v.y,v.z/kz);};};V31.unscaleXYZ=function(kx){return function(ky){return function(kz){return function(v){return Vector3(v.x/kx,v.y/ky,v.z/kz);};};};};V31.scale=function(k){return function(v){return Vector3(v.x*k,v.y*k,v.z*k);};};V31.unscale=function(k){return function(v){return Vector3(v.x/k,v.y/k,v.z/k);};};V31.translate=function(v){return function(w){return Vector3(v.x+w.x,v.y+w.y,v.z+w.z);};};V31.untranslate=function(v){return function(w){return Vector3(w.x-v.x,w.y-v.y,w.z-v.z);};};V31.negate=function(v){return Vector3(-v.x,-v.y,-v.z);};V31.reciprocate=function(v){return Vector3(1/v.x,1/v.y,1/v.z);};V31.norm=function(v){return Math.sqrt(v.x**2+v.y**2+v.z**2);};V31.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2+v.z**2);return x===0?V3.zero:Vector3(v.x/x,v.y/x,v.z/x);};V31.dot=function(v){return function(w){return v.x*w.x+v.y*w.y+v.z*w.z;};};V31.transform=function(m){return function(v){return Vector3(m.ix*v.x+m.jx*v.y+m.kx*v.z,m.iy*v.x+m.jy*v.y+m.ky*v.z,m.iz*v.x+m.jz*v.y+m.kz*v.z);};};V31.map=function(endomorphism){return function(v){return Vector3(endomorphism(v.x),endomorphism(v.y),endomorphism(v.z));};};V31.each=function(f){return function(v){return function(w){return Vector3(f(v.x)(w.x),f(v.y)(w.y),f(v.z)(w.z));};};};})(V3||(V3={}));var V4;(function(V41){V41.zero=Vector4(0,0,0,0);V41.half=Vector4(0.5,0.5,0.5,0.5);V41.unit=Vector4(1,1,1,1);V41.demoteV2=function(v){return Vector2(v.x,v.y);};V41.demoteV4=function(v){return Vector3(v.x,v.y,v.z);};V41.translateX=function(dx){return function(v){return Vector4(v.x+dx,v.y,v.z,v.w);};};V41.translateY=function(dy){return function(v){return Vector4(v.x,v.y+dy,v.z,v.w);};};V41.translateZ=function(dz){return function(v){return Vector4(v.x,v.y,v.z+dz,v.w);};};V41.translateW=function(dw){return function(v){return Vector4(v.x,v.y,v.z,v.w+dw);};};V41.translateXYZW=function(dx){return function(dy){return function(dz){return function(dw){return function(v){return Vector4(v.x+dx,v.y+dy,v.z+dz,v.w+dw);};};};};};V41.untranslateX=function(dx){return function(v){return Vector4(v.x-dx,v.y,v.z,v.w);};};V41.untranslateY=function(dy){return function(v){return Vector4(v.x,v.y-dy,v.z,v.w);};};V41.untranslateZ=function(dz){return function(v){return Vector4(v.x,v.y,v.z-dz,v.w);};};V41.untranslateW=function(dz){return function(v){return Vector4(v.x,v.y,v.z,v.w-dz);};};V41.untranslateXYZW=function(dx){return function(dy){return function(dz){return function(dw){return function(v){return Vector4(v.x-dx,v.y-dy,v.z-dz,v.w-dw);};};};};};V41.scaleX=function(kx){return function(v){return Vector4(v.x*kx,v.y,v.z,v.w);};};V41.scaleY=function(ky){return function(v){return Vector4(v.x,v.y*ky,v.z,v.w);};};V41.scaleZ=function(kz){return function(v){return Vector4(v.x,v.y,v.z*kz,v.w);};};V41.scaleW=function(kw){return function(v){return Vector4(v.x,v.y,v.z,v.w*kw);};};V41.scaleXYZW=function(kx){return function(ky){return function(kz){return function(kw){return function(v){return Vector4(v.x*kx,v.y*ky,v.z*kz,v.w*kw);};};};};};V41.unscaleX=function(kx){return function(v){return Vector4(v.x/kx,v.y,v.z,v.w);};};V41.unscaleY=function(ky){return function(v){return Vector4(v.x,v.y/ky,v.z,v.w);};};V41.unscaleZ=function(kz){return function(v){return Vector4(v.x,v.y,v.z/kz,v.w);};};V41.unscaleW=function(kw){return function(v){return Vector4(v.x,v.y,v.z,v.w/kw);};};V41.unscaleXYZW=function(kx){return function(ky){return function(kz){return function(kw){return function(v){return Vector4(v.x/kx,v.y/ky,v.z/kz,v.w/kw);};};};};};V41.scale=function(k){return function(v){return Vector4(v.x*k,v.y*k,v.z*k,v.w*k);};};V41.unscale=function(k){return function(v){return Vector4(v.x/k,v.y/k,v.z/k,v.w/k);};};V41.translate=function(v){return function(w){return Vector4(v.x+w.x,v.y+w.y,v.z+w.z,v.w+w.w);};};V41.untranslate=function(v){return function(w){return Vector4(w.x-v.x,w.y-v.y,w.z-v.z,w.w-v.w);};};V41.negate=function(v){return Vector4(-v.x,-v.y,-v.z,v.w);};V41.reciprocate=function(v){return Vector4(1/v.x,1/v.y,1/v.z,1/v.w);};V41.norm=function(v){return Math.sqrt(v.x**2+v.y**2+v.z**2+v.w**2);};V41.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2+v.z**2+v.w**2);return x===0?V4.zero:Vector4(v.x/x,v.y/x,v.z/x,v.w/x);};V41.dot=function(v){return function(w){return v.x*w.x+v.y*w.y+v.z*w.z+v.w*w.w;};};V41.transform=function(m){return function(v){return Vector4(m.ix*v.x+m.jx*v.y+m.kx*v.z+m.lx*v.w,m.iy*v.x+m.jy*v.y+m.ky*v.z+m.ly*v.w,m.iz*v.x+m.jz*v.y+m.kz*v.z+m.lz*v.w,m.iw*v.x+m.jw*v.y+m.kw*v.z+m.lw*v.w);};};V41.map=function(endomorphism){return function(v){return Vector4(endomorphism(v.x),endomorphism(v.y),endomorphism(v.z),endomorphism(v.w));};};V41.each=function(f){return function(v){return function(w){return Vector4(f(v.x)(w.x),f(v.y)(w.y),f(v.z)(w.z),f(v.w)(w.w));};};};})(V4||(V4={}));var M2;(function(M21){M21.identity=Matrix2(1,0,0,1);M21.basis=function(i,j){return Matrix2(i.x,j.x,i.y,j.y);};M21.compose=function(m){return function(n){return Matrix2(m.ix*n.ix+m.jx*n.iy,m.ix*n.jx+m.jx*n.jy,m.iy*n.ix+m.jy*n.iy,m.iy*n.jx+m.jy*n.jy);};};})(M2||(M2={}));var M3;(function(M31){M31.identity=Matrix3(1,0,0,0,1,0,0,0,1);M31.basis=function(i,j,k){return Matrix3(i.x,j.x,k.x,i.y,j.y,k.y,i.z,j.z,k.z);};M31.compose=function(m){return function(n){return Matrix3(m.ix*n.ix+m.jx*n.iy+m.kx*n.iz,m.ix*n.jx+m.jx*n.jy+m.kx*n.jz,m.ix*n.kx+m.jx*n.ky+m.kx*n.kz,m.iy*n.ix+m.jy*n.iy+m.ky*n.iz,m.iy*n.jx+m.jy*n.jy+m.ky*n.jz,m.iy*n.kx+m.jy*n.ky+m.ky*n.kz,m.iz*n.ix+m.jz*n.iy+m.kz*n.iz,m.iz*n.jx+m.jz*n.jy+m.kz*n.jz,m.iz*n.kx+m.jz*n.ky+m.kz*n.kz);};};})(M3||(M3={}));var M4;(function(M41){M41.identity=Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);M41.basis=function(i,j,k,l){return Matrix4(i.x,j.x,k.x,l.x,i.y,j.y,k.y,l.y,i.z,j.z,k.z,l.z,i.w,j.w,k.w,l.w);};M41.compose=function(m){return function(n){return Matrix4(m.ix*n.ix+m.jx*n.iy+m.kx*n.iz+m.lx*n.iw,m.ix*n.jx+m.jx*n.jy+m.kx*n.jz+m.lx*n.jw,m.ix*n.kx+m.jx*n.ky+m.kx*n.kz+m.lx*n.kw,m.ix*n.lx+m.jx*n.ly+m.kx*n.lz+m.lx*n.lw,m.iy*n.ix+m.jy*n.iy+m.ky*n.iz+m.ly*n.iw,m.iy*n.jx+m.jy*n.jy+m.ky*n.jz+m.ly*n.jw,m.iy*n.kx+m.jy*n.ky+m.ky*n.kz+m.ly*n.kw,m.iy*n.lx+m.jy*n.ly+m.ky*n.lz+m.ly*n.lw,m.iz*n.ix+m.jz*n.iy+m.kz*n.iz+m.lz*n.iw,m.iz*n.jx+m.jz*n.jy+m.kz*n.jz+m.lz*n.jw,m.iz*n.kx+m.jz*n.ky+m.kz*n.kz+m.lz*n.kw,m.iz*n.lx+m.jz*n.ly+m.kz*n.lz+m.lz*n.lw,m.iw*n.ix+m.jw*n.iy+m.kw*n.iz+m.lw*n.iw,m.iw*n.jx+m.jw*n.jy+m.kw*n.jz+m.lw*n.jw,m.iw*n.kx+m.jw*n.ky+m.kw*n.kz+m.lw*n.kw,m.iw*n.lx+m.jw*n.ly+m.kw*n.lz+m.lw*n.lw);};};})(M4||(M4={}));var isDown=function(vertical){return vertical===Vertical.Downward||vertical===Vertical.Down;};var isUp=function(vertical){return vertical===Vertical.Upward||vertical===Vertical.Up;};var relaxVertical=function(vertical){return vertical===Vertical.Downward?Vertical.Down:vertical===Vertical.Upward?Vertical.Up:vertical;};var signVertical=function(vertical){return vertical===Vertical.Downward||vertical===Vertical.Down?-1:vertical===Vertical.Upward||vertical===Vertical.Up?1:0;};var sequenceIOs=function(ios){return IO(function(){return ios.fmap(function(io){return io.effect();});});};var executeIOs=function(ios){return IO(function(){for(var i=0,xs=ios;xs.variation==='Cons';++i)if(i===MAXI)error("'executeIOs' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs.head.effect(),xs=xs.tail;return null;});};var maybeHead=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.head);};var maybeLast=function(xs){return xs.variation==='Nil'?Nothing:Just(last(xs));};var maybeTail=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.tail);};var maybeInit=function(xs){return xs.variation==='Nil'?Nothing:Just(init(xs));};var maybeSingleton=function(maybe){return maybe.variation==='Nothing'?Nil:singleton(maybe.value);};var pairToVector=function(pair){return Vector2(pair.fst,pair.snd);};var vectorToPair=function(v){return Pair(v.x,v.y);};var pairOfMaybes=function(pair){return pair.fst.variation==='Just'&&pair.snd.variation==='Just'?Just(Pair(pair.fst.value,pair.snd.value)):Nothing;};var find=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'find' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return Just(xs.head);else xs=xs.tail;return Nothing;};};var elemIndex=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'elemIndex' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return Just(i);else xs=xs.tail;return Nothing;};};var findIndex=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'findIndex' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return Just(i);else xs=xs.tail;return Nothing;};};var flattenMaybes=function(maybes){for(var i=0;maybes.variation==='Cons';++i)if(i===MAXI)error("'flattenMaybes' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(maybes.head.variation==='Just')return lrprepend(maybes.head.value)(function(){return flattenMaybes(maybes.tail);});else maybes=maybes.tail;return Nil;};var mapMaybe=function(mapping){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'mapMaybe' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else{var x=mapping(xs.head);if(x.variation==='Just')return lrprepend(x.value)(function(){return mapMaybe(mapping)(xs.tail);});xs=xs.tail;}return Nil;};};var lefts=function(eithers){for(var i=0;eithers.variation==='Cons';++i)if(i===MAXI)error("'lefts' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(eithers.head.variation==='Left')return lrprepend(eithers.head.value)(function(){return lefts(eithers.tail);});else eithers=eithers.tail;return Nil;};var rights=function(eithers){for(var i=0;eithers.variation==='Cons';++i)if(i===MAXI)error("'rights' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(eithers.head.variation==='Right')return lrprepend(eithers.head.value)(function(){return rights(eithers.tail);});else eithers=eithers.tail;return Nil;};var maybeAt=function(index){return function(xs){if(index>MAXI)error("'maybeAt' would be traversing too many elements (".concat(MAXI,"); ").concat(STAP));if(index<0|| !Number.isInteger(index))return Nothing;for(var i=0;xs.variation==='Cons';++i)if(i===index)return Just(xs.head);else xs=xs.tail;return Nothing;};};var processToList=function(process){return function(state){var p=process.computation(state);return lrprepend(p.snd)(function(){return processToList(process)(p.fst);});};};var pairProcess=function(process){return Process(function(s){var p=process.computation(s);var q=process.computation(p.fst);return Pair(q.fst,Pair(p.snd,q.snd));});};var repeatProcess=function(process){return Process(function(s){return Pair(s,processToList(process)(s));});};var pickOut=function(predicate){return function(xs){var ys=xs;var zs=Nil;for(var i=0;ys.variation==='Cons';++i)if(i===MAXI)error("'pickOut' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(ys.head)){var ws=Nil;while(zs.variation==='Cons')ws=prepend(zs.head)(ws),zs=zs.tail;return Pair(Just(ys.head),ws.link(ys.tail));}else zs=prepend(ys.head)(zs),ys=ys.tail;return Pair(Nothing,xs);};};var random=Process(function(s){return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,Math.abs(s**3%23+248*s**2%34+112*s-528)%2048/2048);});var randomFloatRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(698*s**3-471*s**2+295*s-77)%16777215,Math.abs(s**3%196+989*s**2%786+534*s-571)%2048/2048*(upper-lower)+lower);});};};var randomIntRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(852*s**3-274*s**2+345*s-558)%16777215,~~(abs(71*s**3%71+570*s**2%39+509*s-72)%2048/2048*(upper-lower))+lower);});};};var randomV2=Process(function(s){return Pair(Math.abs(84*s**3+729*s**2+215*s+1015)%16777215,Vector2(Math.abs(304*s**3%582+204*s**2%288+254*s-617)%2048/2048,Math.abs(906*s**3%717+518*s**2%38+112*s-581)%2048/2048));});var randomV3=Process(function(s){return Pair(Math.abs(390*s**3-329*s**2+22*s+41)%16777215,Vector3(Math.abs(407*s**3%594+70*s**2%61+s-5283)%2048/2048,Math.abs(109*s**3%200+23*s**2%8+69940*s-558)%2048/2048,Math.abs(273*s**3%286+23*s**2%60+36*s-184)%2048/2048));});var randomV4=Process(function(s){return Pair(abs(350*s**3-7527*s**2+639*s-1011)%16777215,Vector4(Math.abs(881*s**3%461+213*s**2%16+s-519)%2048/2048,Math.abs(75*s**3%516+75459*s**2%19+67*s-693)%2048/2048,Math.abs(3498*s**3%242+590*s**2%27+50*s-3039)%2048/2048,Math.abs(8641*s**3%256+613*s**2%28+12*s-62)%2048/2048));});var randomDirectionV2=Process(function(s){var angle=Math.abs(2474*s**3%2676+369*s**2%3871+267628*s%6048+744)%tau;return Pair(Math.abs(372*s**3-566*s**2+21713*s+36769)%16777215,Vector2(Math.cos(angle),Math.sin(angle)));});var randomDirectionV3=Process(function(s){var angle0=Math.abs(s**3%198+378*s**2%86+s-16)%tau;var angle1=Math.abs(116*s**3-3168*s**2+258*s-901)%tau;var c=Math.sin(angle0);return Pair(Math.abs(414*s**3-607*s**2+889*s-888)%16777215,Vector3(Math.cos(angle0),c*Math.cos(angle1),c*Math.sin(angle1)));});var randomDirectionV4=Process(function(s){var angle0=Math.abs(905*s**3%2312+633*s**2%94975+208*s-250)%tau;var angle1=Math.abs(189*s**3%2641-466*s**2%44291+224*s-917)%tau;var angle2=Math.abs(417*s**3%2354-262*s**2%29516+41*s-529)%tau;var c0=Math.sin(angle0);var c1=c0*Math.sin(angle1);return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,Vector4(Math.cos(angle0),c0*Math.cos(angle1),c1*Math.cos(angle2),c1*Math.sin(angle2)));});var randomLowercase=Process(function(s){return Pair(Math.abs(28721*s**3%2999-712*s**2+3778*s-558)%16777215,String.fromCharCode(Math.abs(3252*s**3%3598+945*s**2%878+503*s%379+826)%1028/1028*26+97));});var randomUppercase=Process(function(s){return Pair(Math.abs(363*s**3%384-31*s**2+67*s-793)%16777215,String.fromCharCode(Math.abs(3252*s**3%3598+778*s**2%878+13*s%1701+871)%1028/1028*26+65));});var randomElem=function(xs){if(xs.variation==='Nil')error("'randomElem' cannot pseudo-randomly pick an element out of Nil");var length=xs.$LEN;var ys=xs;if(length===undefined){while(ys.variation==='Cons')if(length===MAXI)error("'randomElem' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else++length,ys=ys.tail;xs.$LEN=length;}return Process(function(s){var i=~~(Math.abs(71*s**3%71+570*s**2%39+177*s-59)%1028/1028*length);ys=xs;while(i)--i,ys=ys.tail;return Pair(Math.abs(146*s**3-2481*s**2+804*s-4099)%16777215,ys.head);});};var randomChar=function(str){return str===''?error("'randomChar' cannot pseudo-randomly pick a character out of an empty string"):Process(function(s){return Pair(Math.abs(554*s**3+88*s**2+1048*s+48)%16777215,str[~~((2927*s**3%2291-920*s**2%36+194*s%33+556)**2%1024/1024*str.length)]);});};var randomChance=function(probability){return Process(function(s){return Pair(Math.abs(462*s**3+261*s**2-778*s-1510)%16777215,Math.abs(1310*s**3%9228-2461*s**2%568+8562*s%234+2827)%2048/2048<probability);});};var strictRandomShuffle=function(xs){return Process(function(s){var ys=[];for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)return error("'strictRandomShuffle' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys.push(xs.head),xs=xs.tail;var zs=Nil;while(ys.length){s=Math.abs(103282*s**3%340858-6319*s**2%152+8596*s%854+52732)%2048/2048;zs=prepend(ys.splice(Math.floor(s*=ys.length),1)[0])(zs);}return Pair(Math.abs(3119*s**3%654340-699585*s**2%60418+85319*s%8152+52732)%16777215,zs);});};var Do={IO:IO(function(){return Object.create(null);}),Process:function(){return Process(function(s){return Pair(s,Object.create(null));});},Process_Random:Process(function(s){return Pair(s,Object.create(null));}),List:singleton(Object.create(null)),Maybe:Just(Object.create(null))};var Ψ={MUTABLE:{},ctxs:[],ctx:undefined,resizeID:undefined,isResized:false,isPointerLocked:false,seed:(Math.random()-0.5)*Date.now()%2048,debugCounter:0,image:Object.create(null),audio:Object.create(null),mouseSX:0,mouseSY:0,mouseWX:0,mouseWY:0,mouseCX:0,mouseCY:0,mouseDX:0,mouseDY:0,mouseScroll:Vertical.Rest,mouseButtons:Array(5).fill(Vertical.Up),keyboard:keyboardKeysArray.reduce(function($,k){return _objectSpread({},$,_defineProperty({},k,Vertical.Up));},Object.create(null))};var __MACRO_nonexisting_image_path__=function(org,path){return error("'".concat(org,"' received an unloaded (possibly non-existing) image at path: '").concat(path,"'"));};var __MACRO_nonexisting_audio_path__=function(org,path){return error("'".concat(org,"' received an unloaded (possibly non-existing) audio at path: '").concat(path,"'"));};var __MACRO_invalid_index_range=function(org,i,upper){return error("'".concat(org,"' received index of '").concat(i,"'; must be a integer in interval [0, ").concat(upper,")"));};var __MACRO_clickx__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Ψ.mouseCX):Nothing;});};var __MACRO_clicky__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Ψ.mouseCY):Nothing;});};var __MACRO_clickv__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Vector2(Ψ.mouseCX,Ψ.mouseCY)):Nothing;});};var __MACRO_n_clickx__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Ψ.mouseCX/Ψ.ctx.canvas.width):Nothing;});};var __MACRO_n_clicky__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Ψ.mouseCY/Ψ.ctx.canvas.height):Nothing;});};var __MACRO_n_clickv__=function(i){return IO(function(){return Ψ.mouseButtons[i]===Vertical.Downward?Just(Vector2(Ψ.mouseCX/Ψ.ctx.canvas.width,Ψ.mouseCY/Ψ.ctx.canvas.height)):Nothing;});};var n_mouseScreenPositionX=IO(function(){return Ψ.mouseSX/screen.width;});var n_mouseScreenPositionY=IO(function(){return Ψ.mouseSY/screen.height;});var n_mouseScreenPosition=IO(function(){return Vector2(Ψ.mouseSX/screen.width,Ψ.mouseSY/screen.height);});var mouseScreenPositionX=IO(function(){return Ψ.mouseSX;});var mouseScreenPositionY=IO(function(){return Ψ.mouseSY;});var mouseScreenPosition=IO(function(){return Vector2(Ψ.mouseSX,Ψ.mouseSY);});var n_mouseWindowPositionX=IO(function(){return Ψ.mouseWX/innerWidth;});var n_mouseWindowPositionY=IO(function(){return Ψ.mouseWY/innerHeight;});var n_mouseWindowPosition=IO(function(){return Vector2(Ψ.mouseWX/innerWidth,Ψ.mouseWY/innerHeight);});var mouseWindowPositionX=IO(function(){return Ψ.mouseWX;});var mouseWindowPositionY=IO(function(){return Ψ.mouseWY;});var mouseWindowPosition=IO(function(){return Vector2(Ψ.mouseWX,Ψ.mouseWY);});var n_mouseCanvasPositionX=IO(function(){return Ψ.mouseCX/Ψ.ctx.canvas.width;});var n_mouseCanvasPositionY=IO(function(){return Ψ.mouseCY/Ψ.ctx.canvas.height;});var n_mouseCanvasPosition=IO(function(){return Vector2(Ψ.mouseCX/Ψ.ctx.canvas.width,Ψ.mouseCY/Ψ.ctx.canvas.height);});var mouseCanvasPositionX=IO(function(){return Ψ.mouseCX;});var mouseCanvasPositionY=IO(function(){return Ψ.mouseCY;});var mouseCanvasPosition=IO(function(){return Vector2(Ψ.mouseCX,Ψ.mouseCY);});var n_mouseDeltaX=IO(function(){return Ψ.mouseDX/Ψ.ctx.canvas.width;});var n_mouseDeltaY=IO(function(){return Ψ.mouseDY/Ψ.ctx.canvas.height;});var n_mouseDelta=IO(function(){return Vector2(Ψ.mouseDX/Ψ.ctx.canvas.width,Ψ.mouseDY/Ψ.ctx.canvas.height);});var mouseDeltaX=IO(function(){return Ψ.mouseDX;});var mouseDeltaY=IO(function(){return Ψ.mouseDY;});var mouseDelta=IO(function(){return Vector2(Ψ.mouseDX,Ψ.mouseDY);});var mouseScroll=IO(function(){return Ψ.mouseScroll;});var mouseLeft=IO(function(){return Ψ.mouseButtons[0];});var mouseMiddle=IO(function(){return Ψ.mouseButtons[1];});var mouseRight=IO(function(){return Ψ.mouseButtons[2];});var mouse4th=IO(function(){return Ψ.mouseButtons[3];});var mouse5th=IO(function(){return Ψ.mouseButtons[4];});var n_mouseLeftClickCoordinateX=__MACRO_n_clickx__(0);var n_mouseLeftClickCoordinateY=__MACRO_n_clicky__(0);var n_mouseLeftClickCoordinates=__MACRO_n_clickv__(0);var mouseLeftClickCoordinateX=__MACRO_clickx__(0);var mouseLeftClickCoordinateY=__MACRO_clicky__(0);var mouseLeftClickCoordinates=__MACRO_clickv__(0);var n_mouseMiddleClickCoordinateX=__MACRO_n_clickx__(1);var n_mouseMiddleClickCoordinateY=__MACRO_n_clicky__(1);var n_mouseMiddleClickCoordinates=__MACRO_n_clickv__(1);var mouseMiddleClickCoordinateX=__MACRO_clickx__(1);var mouseMiddleClickCoordinateY=__MACRO_clicky__(1);var mouseMiddleClickCoordinates=__MACRO_clickv__(1);var n_mouseRightClickCoordinateX=__MACRO_n_clickx__(2);var n_mouseRightClickCoordinateY=__MACRO_n_clicky__(2);var n_mouseRightClickCoordinates=__MACRO_n_clickv__(2);var mouseRighClickCoordinateX=__MACRO_clickx__(2);var mouseRighClickCoordinateY=__MACRO_clicky__(2);var mouseRighClickCoordinates=__MACRO_clickv__(2);var n_mouse4thClickCoordinateX=__MACRO_n_clickx__(3);var n_mouse4thClickCoordinateY=__MACRO_n_clicky__(3);var n_mouse4thClickCoordinates=__MACRO_n_clickv__(3);var mouse4thClickCoordinateX=__MACRO_clickx__(3);var mouse4thClickCoordinateY=__MACRO_clicky__(3);var mouse4thClickCoordinate=__MACRO_clickv__(3);var n_mouse5thClickCoordinateX=__MACRO_n_clickx__(4);var n_mouse5thClickCoordinateY=__MACRO_n_clicky__(4);var n_mouse5thClickCoordinates=__MACRO_n_clickv__(4);var mouse5thClickCoordinateX=__MACRO_clickx__(4);var mouse5thClickCoordinateY=__MACRO_clicky__(4);var mouse5thClickCoordinates=__MACRO_clickv__(4);var n_wasdKeys=IO(function(){var x=isDown(Ψ.keyboard.KeyD)-isDown(Ψ.keyboard.KeyA);var y=isDown(Ψ.keyboard.KeyS)-isDown(Ψ.keyboard.KeyW);var l=x**2+y**2;return l===0?V2.zero:l===1?Vector2(x,y):Vector2(x*invSqrt2,y*invSqrt2);});var wasdKeys=IO(function(){return Vector2(isDown(Ψ.keyboard.KeyD)-isDown(Ψ.keyboard.KeyA),isDown(Ψ.keyboard.KeyS)-isDown(Ψ.keyboard.KeyW));});var n_arrowKeys=IO(function(){var x=isDown(Ψ.keyboard.ArrowRight)-isDown(Ψ.keyboard.ArrowLeft);var y=isDown(Ψ.keyboard.ArrowDown)-isDown(Ψ.keyboard.ArrowUp);var l=x**2+y**2;return l===0?V2.zero:l===1?Vector2(x,y):Vector2(x*invSqrt2,y*invSqrt2);});var arrowKeys=IO(function(){return Vector2(isDown(Ψ.keyboard.ArrowRight)-isDown(Ψ.keyboard.ArrowLeft),isDown(Ψ.keyboard.ArrowDown)-isDown(Ψ.keyboard.ArrowUp));});var keyboardKey=function(keyname){return IO(function(){return Ψ.keyboard[keyname];});};var screenWidth=IO(function(){return screen.width;});var screenHeight=IO(function(){return screen.height;});var screenDimensions=IO(function(){return Vector2(screen.width,screen.height);});var windowWidth=IO(function(){return innerWidth;});var windowHeight=IO(function(){return innerHeight;});var windowDimensions=IO(function(){return Vector2(innerWidth,innerHeight);});var canvasWidth=IO(function(){return Ψ.ctx.canvas.width;});var canvasHeight=IO(function(){return Ψ.ctx.canvas.height;});var canvasDimensions=IO(function(){return Vector2(Ψ.ctx.canvas.width,Ψ.ctx.canvas.height);});var n_textWidth=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref.actualBoundingBoxLeft,actualBoundingBoxRight=ref.actualBoundingBoxRight;return (Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/Ψ.ctx.canvas.width;});};var textWidth=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref.actualBoundingBoxLeft,actualBoundingBoxRight=ref.actualBoundingBoxRight;return Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight);});};var n_textHeight=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxAscent=ref.actualBoundingBoxAscent,actualBoundingBoxDescent=ref.actualBoundingBoxDescent;return (Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/Ψ.ctx.canvas.height;});};var textHeight=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxAscent=ref.actualBoundingBoxAscent,actualBoundingBoxDescent=ref.actualBoundingBoxDescent;return Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent);});};var n_textDimensions=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref.actualBoundingBoxLeft,actualBoundingBoxRight=ref.actualBoundingBoxRight,actualBoundingBoxAscent=ref.actualBoundingBoxAscent,actualBoundingBoxDescent=ref.actualBoundingBoxDescent;return Vector2((Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/Ψ.ctx.canvas.width,(Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/Ψ.ctx.canvas.height);});};var textDimensions=function(text){return IO(function(){var ref=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref.actualBoundingBoxLeft,actualBoundingBoxRight=ref.actualBoundingBoxRight,actualBoundingBoxAscent=ref.actualBoundingBoxAscent,actualBoundingBoxDescent=ref.actualBoundingBoxDescent;return Vector2(Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight),Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent));});};var n_imageWidth=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width/Ψ.ctx.canvas.width:__MACRO_nonexisting_image_path__('n_imageWidth',path);});};var imageWidth=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width:__MACRO_nonexisting_image_path__('imageWidth',path);});};var n_imageHeight=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height/Ψ.ctx.canvas.height:__MACRO_nonexisting_image_path__('n_imageHeight',path);});};var imageHeight=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height:__MACRO_nonexisting_image_path__('imageHeight',path);});};var n_imageDimensions=function(path){return IO(function(){return Ψ.image[path]?Vector2(Ψ.image[path].width/Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.ctx.canvas.height):__MACRO_nonexisting_image_path__('n_imageDimensions',path);});};var imageDimensions=function(path){return IO(function(){return Ψ.image[path]?Vector2(Ψ.image[path].width,Ψ.image[path].height):__MACRO_nonexisting_image_path__('imageDimensions',path);});};var n_audioTime=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].currentTime/Ψ.audio[path].duration:__MACRO_nonexisting_audio_path__('n_audioTime',path);});};var audioTime=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].currentTime:__MACRO_nonexisting_audio_path__('audioTime',path);});};var audioDuration=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].duration:__MACRO_nonexisting_audio_path__('audioDuration',path);});};var n_lineThickness=IO(function(){return Ψ.ctx.lineWidth/Ψ.ctx.canvas.width;});var lineThickness=IO(function(){return Ψ.ctx.lineWidth;});var n_lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash().map(function(x){return x/Ψ.ctx.canvas.width;}));});var lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash());});var n_lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset/Ψ.ctx.canvas.width;});var lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset;});var miterLimit=IO(function(){return Ψ.ctx.miterLimit;});var n_fontSize=IO(function(){return parseFloat(Ψ.ctx.font)/Ψ.ctx.canvas.width;});var fontStyle=IO(function(){return Ψ.ctx.font;});var fontSize=IO(function(){return parseFloat(Ψ.ctx.font);});var fontFamily=IO(function(){return Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' ')+1);});var n_shadowOffsetX=IO(function(){return Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.height;});var shadowOffsetX=IO(function(){return Ψ.ctx.shadowOffsetX;});var n_shadowOffsetY=IO(function(){return Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height;});var shadowOffsetY=IO(function(){return Ψ.ctx.shadowOffsetY;});var n_shadowOffset=IO(function(){return Vector2(Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height);});var shadowOffset=IO(function(){return Vector2(Ψ.ctx.shadowOffsetX,Ψ.ctx.shadowOffsetY);});var shadowBlurAmount=IO(function(){return Ψ.ctx.shadowBlur;});var shadowColor=IO(function(){return Ψ.ctx.shadowColor;});var n_isInEvenOddPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'evenodd');});};};var n_isInEvenOddPathV2=function(xy){return IO(function(){return Ψ.ctx.isPointInPath(xy.x/Ψ.ctx.canvas.width,xy.y/Ψ.ctx.canvas.height,'evenodd');});};var isInEvenOddPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'evenodd');});};};var isInEvenOddPathV2=function(xy){return IO(function(){return Ψ.ctx.isPointInPath(xy.x,xy.y,'evenodd');});};var n_isInNonZeroPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'nonzero');});};};var n_isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height,'nonzero');});};var isInNonZeroPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'nonzero');});};};var isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x,v.y,'nonzero');});};var n_isInStroke=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height);});};};var n_isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height);});};var isInStroke=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x,y);});};};var isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x,v.y);});};var transformationM2=IO(function(){var ref=Ψ.ctx.getTransform(),a=ref.a,c=ref.c,b=ref.b,d=ref.d;return Matrix2(a,c,b,d);});var n_transformationM3=IO(function(){var m=Ψ.ctx.getTransform();return Matrix3(m.a,m.c,m.e/Ψ.ctx.canvas.width,m.b,m.d,m.f/Ψ.ctx.canvas.height,0,0,1);});var transformationM3=IO(function(){var ref=Ψ.ctx.getTransform(),a=ref.a,c=ref.c,e1=ref.e,b=ref.b,d=ref.d,f=ref.f;return Matrix3(a,c,e1,b,d,f,0,0,1);});var layerIndex=IO(function(){return Ψ.ctxs.findIndex(function(ctx){return ctx===Ψ.ctx;});});var alpha=IO(function(){return Ψ.ctx.globalAlpha;});var lineCap=IO(function(){return Ψ.ctx.lineCap==='butt'?LineCap.Butt:Ψ.ctx.lineCap==='round'?LineCap.Round:Ψ.ctx.lineCap==='square'?LineCap.Square:never;});var lineJoin=IO(function(){return Ψ.ctx.lineJoin==='round'?LineJoin.Round:Ψ.ctx.lineJoin==='bevel'?LineJoin.Bevel:Ψ.ctx.lineJoin==='miter'?LineJoin.Miter:never;});var textAlign=IO(function(){return Ψ.ctx.textAlign==='center'?TextAlign.Center:Ψ.ctx.textAlign==='end'?TextAlign.End:Ψ.ctx.textAlign==='left'?TextAlign.Leftside:Ψ.ctx.textAlign==='right'?TextAlign.Rightside:Ψ.ctx.textAlign==='start'?TextAlign.Start:never;});var textBaseline=IO(function(){return Ψ.ctx.textBaseline==='alphabetic'?TextBaseline.Alphabetic:Ψ.ctx.textBaseline==='bottom'?TextBaseline.Bottom:Ψ.ctx.textBaseline==='hanging'?TextBaseline.Hanging:Ψ.ctx.textBaseline==='ideographic'?TextBaseline.Ideographic:Ψ.ctx.textBaseline==='middle'?TextBaseline.Middle:Ψ.ctx.textBaseline==='top'?TextBaseline.Top:never;});var composition=IO(function(){return Ψ.ctx.globalCompositeOperation==='source-over'?Composition.SourceOver:Ψ.ctx.globalCompositeOperation==='source-in'?Composition.SourceIn:Ψ.ctx.globalCompositeOperation==='source-out'?Composition.SourceOut:Ψ.ctx.globalCompositeOperation==='source-atop'?Composition.SourceAtop:Ψ.ctx.globalCompositeOperation==='destination-over'?Composition.DestinationOver:Ψ.ctx.globalCompositeOperation==='destination-in'?Composition.DestinationIn:Ψ.ctx.globalCompositeOperation==='destination-out'?Composition.DestinationOut:Ψ.ctx.globalCompositeOperation==='destination-atop'?Composition.DestinationAtop:Ψ.ctx.globalCompositeOperation==='lighter'?Composition.Lighter:Ψ.ctx.globalCompositeOperation==='copy'?Composition.Copy:Ψ.ctx.globalCompositeOperation==='xor'?Composition.Xor:Ψ.ctx.globalCompositeOperation==='multiply'?Composition.Multiply:Ψ.ctx.globalCompositeOperation==='screen'?Composition.Screen:Ψ.ctx.globalCompositeOperation==='overlay'?Composition.Overlay:Ψ.ctx.globalCompositeOperation==='darken'?Composition.Darken:Ψ.ctx.globalCompositeOperation==='lighten'?Composition.Lighten:Ψ.ctx.globalCompositeOperation==='color-dodge'?Composition.ColorDodge:Ψ.ctx.globalCompositeOperation==='color-burn'?Composition.ColorBurn:Ψ.ctx.globalCompositeOperation==='hard-light'?Composition.HardLight:Ψ.ctx.globalCompositeOperation==='soft-light'?Composition.SoftLight:Ψ.ctx.globalCompositeOperation==='difference'?Composition.Difference:Ψ.ctx.globalCompositeOperation==='exclusion'?Composition.Exclusion:Ψ.ctx.globalCompositeOperation==='hue'?Composition.Hue:Ψ.ctx.globalCompositeOperation==='saturation'?Composition.Saturation:Ψ.ctx.globalCompositeOperation==='color'?Composition.Color:Ψ.ctx.globalCompositeOperation==='luminosity'?Composition.Luminosity:never;});var time=IO(Date.now);var seed=IO(function(){return Ψ.seed;});var isWindowResized=IO(function(){return Ψ.isResized;});var isPointerLocked=IO(function(){return Ψ.isPointerLocked;});var beginPath=IO(function(){return Ψ.ctx.beginPath(),null;});var closePath=IO(function(){return Ψ.ctx.closePath(),null;});var n_relocateTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};var n_relocateToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var relocateTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x,y),null;});};};var relocateToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x,v.y),null;});};var n_lineTo=function(x){return function(y){return IO(function(){return Ψ.ctx.lineTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};var n_lineToV2=function(v){return IO(function(){return Ψ.ctx.lineTo(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var lineTo=function(x){return function(y){return IO(function(){return Ψ.ctx.lineTo(x,y),null;});};};var lineToV2=function(v){return IO(function(){return Ψ.ctx.lineTo(v.x,v.y),null;});};var n_bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};};};var n_bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};};var bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0,cy0,cx1,cy1,x,y),null;});};};};};};};var bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,xy.x,xy.y),null;});};};};var n_quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx*Ψ.ctx.canvas.width,cy*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};var n_quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x*Ψ.ctx.canvas.width,cxy.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx,cy,x,y),null;});};};};};var quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x,cxy.y,xy.x,xy.y),null;});};};var n_arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};};};var n_arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};var arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0,cy0,cx1,cy1,r),null;});};};};};};var arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,r),null;});};};};var n_rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),null;});};};};};var rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x,y,w,h),null;});};};};};var fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x,y,w,h),null;});};};};};var strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var n_fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var n_strokeFillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var strokeFillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.width,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.width),null;});};};var area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),null;});};};};};var areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0,y0,x1-x0,y1-y0),null;});};};};};var fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0,y0,x1-x0,y1-y0),null;});};};};};var strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var n_fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var n_strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};};var n_arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};var arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),null;});};};};};};var arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),null;});};};};};var n_strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};var strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};};var strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};var n_arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};};var n_arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};var arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),null;});};};};};};var arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),null;});};};};};var n_strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};var strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};var strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};var n_circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};};var n_circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};var circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),null;});};};};var circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),null;});};};var n_fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};};var n_fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};var fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),null;});};};};var fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),null;});};};var n_strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};};var n_strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};var strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.stroke(),null;});};};};var strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.stroke(),null;});};};var n_fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var n_fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var n_strokeFillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var strokeFillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};var elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),null;});};};};};};};};var ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),null;});};};};};};var n_strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};var strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};};};var strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};var n_ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),null;});};};};};};var ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),null;});};};};};};};};var ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),null;});};};};};};var n_strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};var strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};};};var strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};var n_ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};};};var n_ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};var ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),null;});};};};};};var ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),null;});};};};var n_fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};};};var n_fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};var fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),null;});};};};};};var fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),null;});};};};var n_strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};var strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.stroke(),null;});};};};};};var strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.stroke(),null;});};};};var n_fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};var n_fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};var fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var n_strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};};var n_strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};};var strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var n_fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};var n_fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),null;});};};};var fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),null;});};};var n_strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};var n_strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x,y),null;});};};};var strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};var n_fillStrokeText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*Ψ.ctx.canvas.width;var nextY=y*Ψ.ctx.canvas.height;Ψ.ctx.fillText(text,nextX,nextY);Ψ.ctx.strokeText(text,nextX,nextY);return null;});};};};var n_fillStrokeTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*Ψ.ctx.canvas.width;var nextY=xy.y*Ψ.ctx.canvas.height;Ψ.ctx.fillText(text,nextX,nextY);Ψ.ctx.strokeText(text,nextX,nextY);return null;});};};var fillStrokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),Ψ.ctx.strokeText(text,x,y),null;});};};};var fillStrokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};var n_strokeFillText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*Ψ.ctx.canvas.width;var nextY=y*Ψ.ctx.canvas.height;Ψ.ctx.strokeText(text,nextX,nextY);Ψ.ctx.fillText(text,nextX,nextY);return null;});};};};var n_strokeFillTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*Ψ.ctx.canvas.width;var nextY=xy.y*Ψ.ctx.canvas.height;Ψ.ctx.strokeText(text,nextX,nextY);Ψ.ctx.fillText(text,nextX,nextY);return null;});};};var strokeFillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x,y),Ψ.ctx.fillText(text,x,y),null;});};};};var strokeFillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x,xy.y),Ψ.ctx.fillText(text,xy.x,xy.y),null;});};};var n_fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};var fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,x,y+spacing*i);}),null;});};};};};var fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};var strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,x,y+spacing*i);}),null;});};};};};var strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,nextX,lineY);Ψ.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,nextX,lineY);Ψ.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,x,lineY);Ψ.ctx.fillText(line,x,lineY);lineY+=spacing;});return null;});};};};};var strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,xy.x,lineY);Ψ.ctx.fillText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,nextX,lineY);Ψ.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,nextX,lineY);Ψ.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,x,lineY);Ψ.ctx.strokeText(line,x,lineY);lineY+=spacing;});return null;});};};};};var fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,xy.x,lineY);Ψ.ctx.strokeText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),null;});};};};};var n_lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),null;});};};var line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),null;});};};};};var lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),null;});};};var n_strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};};};var n_strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};var strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),Ψ.ctx.stroke(),null;});};};};};var strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),Ψ.ctx.stroke(),null;});};};var n_vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.height),null;});};};};};var n_vectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.height),null;});};};var vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),null;});};};};};var vectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),null;});};};var n_strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};};};var n_strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};var strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),Ψ.ctx.stroke(),null;});};};};};var strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),Ψ.ctx.stroke(),null;});};};var n_image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cx*Ψ.image[path].width,cy*Ψ.image[path].height,cw*Ψ.image[path].width,ch*Ψ.image[path].height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_image',path);});};};};};};};};};};var n_imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cxy.x*Ψ.image[path].width,cxy.y*Ψ.image[path].height,cwh.x*Ψ.image[path].width,cwh.y*Ψ.image[path].height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_imageV2',path);});};};};};};var image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cx,cy,cw,ch,x,y,w,h),null):__MACRO_nonexisting_image_path__('image',path);});};};};};};};};};};var imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cxy.x,cxy.y,cwh.x,cwh.y,xy.x,xy.y,wh.x,wh.y),null):__MACRO_nonexisting_image_path__('imageV2',path);});};};};};};var n_uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_uncroppedImage',path);});};};};};};var n_uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_uncroppedImageV2',path);});};};};var uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,w,h),null):__MACRO_nonexisting_image_path__('uncroppedImage',path);});};};};};};var uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,wh.x,wh.y),null):__MACRO_nonexisting_image_path__('uncroppedImageV2',path);});};};};var n_fullImage=function(path){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_fullImage',path);});};};};var n_fullImageV2=function(path){return function(xy){return IO(function(){return Ψ.image[path]?__MACRO_nonexisting_image_path__('n_fullImageV2',path):(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null);});};};var fullImage=function(path){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y),null):__MACRO_nonexisting_image_path__('fullImage',path);});};};};var fullImageV2=function(path){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y),null):__MACRO_nonexisting_image_path__('fullImageV2',path);});};};var n_fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,Ψ.image[path].width*k*Ψ.ctx.canvas.width,Ψ.image[path].height*k*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_fullScaledImage',path);});};};};};var n_fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,Ψ.image[path].width*k*Ψ.ctx.canvas.width,Ψ.image[path].height*k*Ψ.ctx.canvas.height),null):__MACRO_nonexisting_image_path__('n_fullScaledImageV2',path);});};};};var fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,Ψ.image[path].width*k,Ψ.image[path].height*k),null):__MACRO_nonexisting_image_path__('fullScaledImage',path);});};};};};var fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,Ψ.image[path].width*k,Ψ.image[path].height*k),null):__MACRO_nonexisting_image_path__('fullScaledImageV2',path);});};};};var n_squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,w*Ψ.ctx.canvas.width),null):__MACRO_nonexisting_image_path__('n_squareImage',path);});};};};};var n_squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,w*Ψ.ctx.canvas.width),null):__MACRO_nonexisting_image_path__('n_squareImageV2',path);});};};};var squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,w,w),null):__MACRO_nonexisting_image_path__('squareImage',path);});};};};};var squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,w,w),null):__MACRO_nonexisting_image_path__('squareImageV2',path);});};};};var n_clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x,y,w,h),null;});};};};};var clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0,y0,x1-x0,y1-y0),null;});};};};};var clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var clearLayer=function(index){return IO(function(){return index>=0&&index<Ψ.ctxs.length&&Number.isInteger(index)?(Ψ.ctx.clearRect(0,0,Ψ.ctx.canvas.width,Ψ.ctx.canvas.height),null):__MACRO_invalid_index_range('clearLayer',index,Ψ.ctxs.length);});};var clearCurrentLayer=IO(function(){return Ψ.ctx.clearRect(0,0,Ψ.ctx.canvas.width,Ψ.ctx.canvas.height),null;});var clearCanvas=IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}),null;});var fill=IO(function(){return Ψ.ctx.fill(),null;});var stroke=IO(function(){return Ψ.ctx.stroke(),null;});var clipEvenOdd=IO(function(){return Ψ.ctx.clip('evenodd'),null;});var clipNonZero=IO(function(){return Ψ.ctx.clip('nonzero'),null;});var n_rotate=function(angle){return IO(function(){return Ψ.ctx.rotate(angle*tau),null;});};var rotate=function(angle){return IO(function(){return Ψ.ctx.rotate(angle),null;});};var n_translateX=function(dx){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,0),null;});};var n_translateY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy*Ψ.ctx.canvas.height),null;});};var n_translateXY=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,dy*Ψ.ctx.canvas.height),null;});};};var n_translateV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var translateX=function(dx){return IO(function(){return Ψ.ctx.translate(dx,0),null;});};var translateY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy),null;});};var translateXY=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx,dy),null;});};};var translateV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x,v.y),null;});};var scale=function(k){return IO(function(){return Ψ.ctx.scale(k,k),null;});};var scaleX=function(kx){return IO(function(){return Ψ.ctx.scale(kx,1),null;});};var scaleY=function(ky){return IO(function(){return Ψ.ctx.scale(1,ky),null;});};var scaleXY=function(kx){return function(ky){return IO(function(){return Ψ.ctx.scale(kx,ky),null;});};};var scaleV2=function(kxy){return IO(function(){return Ψ.ctx.scale(kxy.x,kxy.y),null;});};var n_applyTransformationM2=function(m2){return IO(function(){return Ψ.ctx.transform(m2.ix,m2.iy,m2.jx,m2.jy,0,0),null;});};var n_applyTransformationM3=function(m3){return IO(function(){return Ψ.ctx.transform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx*Ψ.ctx.canvas.width,m3.ky*Ψ.ctx.canvas.height),null;});};var applyTransformationM2=function(m2){return IO(function(){return Ψ.ctx.transform(m2.ix,m2.iy,m2.jx,m2.jy,0,0),null;});};var applyTransformationM3=function(m3){return IO(function(){return Ψ.ctx.transform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx,m3.ky),null;});};var setTransformationM2=function(m2){return IO(function(){return Ψ.ctx.setTransform(m2.ix,m2.iy,m2.jx,m2.jy,0,0),null;});};var n_setTransformationM3=function(m3){return IO(function(){return Ψ.ctx.setTransform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx*Ψ.ctx.canvas.width,m3.ky*Ψ.ctx.canvas.height),null;});};var setTransformationM3=function(m3){return IO(function(){return Ψ.ctx.setTransform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx,m3.ky),null;});};var resetTransformation=IO(function(){return Ψ.ctx.resetTransform(),null;});var n_setCanvasWidth=function(w){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth;}),null;});};var setCanvasWidth=function(w){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w;}),null;});};var n_setCanvasHeight=function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.height=h*innerHeight;}),null;});};var setCanvasHeight=function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.height=h;}),null;});};var n_setCanvasDimensions=function(w){return function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth,ctx.canvas.height=h*innerHeight;}),null;});};};var n_setCanvasDimensionsV2=function(wh){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x*innerWidth,ctx.canvas.height=wh.y*innerHeight;}),null;});};var setCanvasDimensionsV2=function(wh){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x,ctx.canvas.height=wh.y;}),null;});};var setCanvasDimensions=function(w){return function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w,ctx.canvas.height=h;}),null;});};};var n_setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness*Ψ.ctx.canvas.width,null;});};var setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness,null;});};var n_setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern).map(function(x){return x*Ψ.ctx.canvas.width;})),null;});};var setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern)),null;});};var n_setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset*Ψ.ctx.canvas.width,null;});};var setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset,null;});};var setFontStyle=function(font){return IO(function(){return Ψ.ctx.font=font,null;});};var n_setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size*Ψ.ctx.canvas.width,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};var setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};var setFontFamily=function(family){return IO(function(){return Ψ.ctx.font="".concat(parseFloat(Ψ.ctx.font),"px \"").concat(family,"\""),null;});};var n_setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var setShadowRGBAV4=function(v){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var n_setShadowRGBAV4=function(v){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w*255,")"),null;});};var n_setShadowX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,null;});};var setShadowX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x,null;});};var n_setShadowY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};var setShadowY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y,null;});};var n_setShadowXY=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};};var setShadowXY=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x,Ψ.ctx.shadowOffsetY=y,null;});};};var n_setShadowXYV2=function(xy){return IO(function(){return Ψ.ctx.shadowOffsetX=xy.x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=xy.y*Ψ.ctx.canvas.height,null;});};var setShadowXYV2=function(xy){return IO(function(){return Ψ.ctx.shadowOffsetX=xy.x,Ψ.ctx.shadowOffsetY=xy.y,null;});};var setShadowColor=function(color){return IO(function(){return Ψ.ctx.shadowColor=color,null;});};var n_setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setFillRGBAV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setFillRGBAV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var n_setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setStrokeRGBAV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setStrokeRGBAV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setFillColor=function(color){return IO(function(){return Ψ.ctx.fillStyle=color,null;});};var setStrokeColor=function(color){return IO(function(){return Ψ.ctx.strokeStyle=color,null;});};var setMiterLimit=function(limit){return IO(function(){return Ψ.ctx.miterLimit=limit,null;});};var setShadowBlurAmount=function(amount){return IO(function(){return Ψ.ctx.shadowBlur=amount,null;});};var setAlpha=function(alpha1){return IO(function(){return Ψ.ctx.globalAlpha=alpha1,null;});};var setLineCap=function(linecap){return IO(function(){return Ψ.ctx.lineCap=linecap===LineCap.Butt?'butt':linecap===LineCap.Round?'round':linecap===LineCap.Square?'square':never,null;});};var setLineJoin=function(linejoin){return IO(function(){return Ψ.ctx.lineJoin=linejoin===LineJoin.Round?'round':linejoin===LineJoin.Bevel?'bevel':linejoin===LineJoin.Miter?'miter':never,null;});};var setTextAlign=function(alignment){return IO(function(){return Ψ.ctx.textAlign=alignment===TextAlign.Center?'center':alignment===TextAlign.End?'end':alignment===TextAlign.Leftside?'left':alignment===TextAlign.Rightside?'right':alignment===TextAlign.Start?'start':never,null;});};var setTextBaseline=function(baseline){return IO(function(){return Ψ.ctx.textBaseline=baseline===TextBaseline.Alphabetic?'alphabetic':baseline===TextBaseline.Bottom?'bottom':baseline===TextBaseline.Hanging?'hanging':baseline===TextBaseline.Ideographic?'ideographic':baseline===TextBaseline.Middle?'middle':baseline===TextBaseline.Top?'top':never,null;});};var setComposition=function(composition1){return IO(function(){return Ψ.ctx.globalCompositeOperation=composition1===Composition.SourceOver?'source-over':composition1===Composition.SourceIn?'source-in':composition1===Composition.SourceOut?'source-out':composition1===Composition.SourceAtop?'source-atop':composition1===Composition.DestinationOver?'destination-over':composition1===Composition.DestinationIn?'destination-in':composition1===Composition.DestinationOut?'destination-out':composition1===Composition.DestinationAtop?'destination-atop':composition1===Composition.Lighter?'lighter':composition1===Composition.Copy?'copy':composition1===Composition.Xor?'xor':composition1===Composition.Multiply?'multiply':composition1===Composition.Screen?'screen':composition1===Composition.Overlay?'overlay':composition1===Composition.Darken?'darken':composition1===Composition.Lighten?'lighten':composition1===Composition.ColorDodge?'color-dodge':composition1===Composition.ColorBurn?'color-burn':composition1===Composition.HardLight?'hard-light':composition1===Composition.SoftLight?'soft-light':composition1===Composition.Difference?'difference':composition1===Composition.Exclusion?'exclusion':composition1===Composition.Hue?'hue':composition1===Composition.Saturation?'saturation':composition1===Composition.Color?'color':composition1===Composition.Luminosity?'luminosity':never,null;});};var setToCenterText=IO(function(){return Ψ.ctx.textAlign='center',Ψ.ctx.textBaseline='middle',null;});var setToDefaultText=IO(function(){return Ψ.ctx.textAlign='start',Ψ.ctx.textBaseline='alphabetic',null;});var setLayer=function(index){return IO(function(){return index>=0&&index<Ψ.ctxs.length&&Number.isInteger(index)?(Ψ.ctx=Ψ.ctxs[index],null):__MACRO_invalid_index_range('layer',index,Ψ.ctxs.length);});};var loadFont=function(path){return IO(function(){return new FontFace(path.slice(path.lastIndexOf('/')+1,path.lastIndexOf('.')),"url(".concat(path,")")).load().then(function(font){return document.fonts.add(font);}).catch(function(){return error("'loadFont' could not load font at path: '".concat(path,"'"));}),null;});};var loadImage=function(path){return IO(function(){Ψ.image[path]=new Image;Ψ.image[path].src=path;Ψ.image[path].onerror=function(){return error("'loadImage' could not load image at path: '".concat(path,"'"));};return null;});};var loadAudio=function(path){return IO(function(){Ψ.audio[path]=new Audio(path);Ψ.audio[path].onerror=function(){return error("'loadAudio' could not load audio at path: '".concat(path,"'"));};return null;});};var setAudioTime=function(path){return function(time1){return IO(function(){return Ψ.audio[path]?time1>=0&&time1<=Ψ.audio[path].duration?(Ψ.audio[path].currentTime=time1,null):error("'setAudioTime' received '".concat(time1,"' as an input; must be in ")+"interval [0, ".concat(Ψ.audio[path].duration,"] for audio file: '").concat(path,"'")):__MACRO_nonexisting_audio_path__('setAudioTime',path);});};};var resetAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].pause(),Ψ.audio[path].currentTime=0,null):__MACRO_nonexisting_audio_path__('resetAudio',path);});};var playAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].play(),null):__MACRO_nonexisting_audio_path__('playAudio',path);});};var pauseAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].pause(),null):__MACRO_nonexisting_audio_path__('pauseAudio',path);});};var playSFX=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].cloneNode().play(),null):__MACRO_nonexisting_audio_path__('playSFX',path);});};var flush=IO(function(){return console.clear(),null;});var log=function(message){return IO(function(){return console.log(message),null;});};var warning=function(message){return IO(function(){return console.warn(message),null;});};var debug=function(message){return IO(function(){return console.warn(message),null;});};var delayedLog=function(count){return function(message){return IO(function(){return (--Ψ.debugCounter)<0?(Ψ.debugCounter=count,console.debug(message),null):null;});};};var countLog=function(identifier){return IO(function(){return console.count(identifier),null;});};var resetCountLog=function(identifier){return IO(function(){return console.countReset(identifier),null;});};var saveCanvasState=IO(function(){return Ψ.ctx.save(),null;});var restoreCanvasState=IO(function(){return Ψ.ctx.restore(),null;});var requestPointerLock=IO(function(){return onmouseup=function(){return Ψ.isPointerLocked||Ψ.ctxs[0].canvas.requestPointerLock();},null;});var deactivatePointerLock=IO(function(){return document.exitPointerLock(),onmouseup=null;});var queueIO=function(io){return IO(function(){for(var k in Ψ.keyboard)Ψ.keyboard[k]=relaxVertical(Ψ.keyboard[k]);for(var i in Ψ.mouseButtons)Ψ.mouseButtons[i]=relaxVertical(Ψ.mouseButtons[i]);Ψ.mouseDX=Ψ.mouseDY=0;Ψ.mouseScroll=Vertical.Rest;Ψ.isResized=false;requestAnimationFrame(io.effect);return null;});};onload=function(){Ψ.ctxs=Array.from(document.querySelectorAll('canvas')).map(function(x){return x.getContext('2d');});Ψ.ctx=Ψ.ctxs[0];onresize=function(){return clearTimeout(Ψ.resizeID),Ψ.resizeID=setTimeout(function(){return Ψ.isResized=true;},250);};onmousedown=function(ev){return Ψ.mouseButtons[ev.button]=Vertical.Downward;};onmouseup=function(ev){return Ψ.mouseButtons[ev.button]=Vertical.Upward;};onkeyup=function(ev){return Ψ.keyboard[ev.code]=Vertical.Upward;};onkeydown=function(ev){return Ψ.keyboard[ev.code]=ev.repeat?Ψ.keyboard[ev.code]:Vertical.Downward;};onwheel=function(ev){return Ψ.mouseScroll=ev.deltaY<0?Vertical.Up:ev.deltaY>0?Vertical.Down:Vertical.Rest;};onmousemove=function(ev){Ψ.mouseWX=ev.x,Ψ.mouseWY=ev.y,Ψ.mouseCX=ev.clientX-Ψ.ctxs[0].canvas.offsetLeft,Ψ.mouseCY=ev.clientY-Ψ.ctxs[0].canvas.offsetTop,Ψ.mouseSX=ev.screenX,Ψ.mouseSY=ev.screenY,Ψ.mouseDX=ev.movementX,Ψ.mouseDY=ev.movementY;};document.onpointerlockchange=function(){return Ψ.isPointerLocked=document.pointerLockElement===Ψ.ctxs[0].canvas;};Ψ.ctxs[0].canvas.setAttribute("style","background:white");if(typeof main!=='undefined')main.effect();};
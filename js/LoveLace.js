function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}var MAX=2048;var SCOPE=Object.create(null);Object.defineProperty(this,"halt",{get:function(){throw "| LoveLace halted due to an error";}});Object.defineProperty(this,"never",{get:function(){throw "| Unexhuastive pattern matching reaches 'never'";}});var keyboardKeysArray=['AltLeft','AltRight','ArrowDown','ArrowLeft','ArrowRight','ArrowUp','Backquote','Backslash','Backspace','BracketLeft','BracketRight','CapsLock','Comma','ControlLeft','ControlRight','Delete','NumpadAdd','NumpadDecimal','NumpadDivide','NumpadEnter','NumpadMultiply','NumpadSubtract','PageUp','Pagedown','Period','Quote','Semicolon','ShiftLeft','ShiftRight','Slash','End','Enter','Equal','Home','Insert','Minus','Space','Tab','Digit0','Digit1','Digit2','Digit3','Digit4','Digit5','Digit6','Digit7','Digit8','Digit9','Numpad0','Numpad1','Numpad2','Numpad3','Numpad4','Numpad5','Numpad6','Numpad7','Numpad8','Numpad9','KeyA','KeyB','KeyC','KeyD','KeyE','KeyF','KeyG','KeyH','KeyI','KeyJ','KeyK','KeyL','KeyM','KeyN','KeyO','KeyP','KeyQ','KeyR','KeyS','KeyT','KeyU','KeyV','KeyW','KeyX','KeyY','KeyZ'];var e=Math.E;var pi=Math.PI;var tau=2*Math.PI;var ln2=Math.LN2;var ln10=Math.LN10;var log2e=Math.LOG2E;var log10e=Math.LOG10E;var sqrt2=Math.SQRT2;var invsqrt2=Math.SQRT1_2;var id=function(value){return value;};var notf=function(predicate){return function(value){return !predicate(value);};};Boolean.prototype.pipe=function(f){return f(!!this);};Number.prototype.pipe=function(f){return f(+this);};String.prototype.pipe=function(f){return f(this.toString());};Array.prototype.pipe=function(f){return f(this);};var IO=function(effect){return {variation:'IO',effect:effect,pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(effect()).effect();});},fmap:function(f){return IO(function(){return f(effect());});},bindto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($).effect()));});};},fmapto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($)));});};},then:function(io){return IO(function(){return effect(),io.effect();});},cast:function(x){return IO(function(){return effect(),x;});},call:function(f){return IO(function(){var x=effect();return f(x).effect(),x;});},side:function(io){return IO(function(){var x=effect();return io.effect(),x;});}};};var Process=function(computation){return {variation:'Process',pipe:function(f){return f(this);},bind:function(f){return Process(function(s){var p=computation(s);return f(p.snd).computation(p.fst);});},fmap:function(f){return Process(function(s){var p=computation(s);return Pair(p.fst,f(p.snd));});},bindto:function(k){return function(f){return Process(function(s){var p0=computation(s);var p1=f(p0.snd).computation(p0.fst);return Pair(p1.fst,_objectSpread({},p0.snd,_defineProperty({},k,p1.snd)));});};},fmapto:function(k){return function(f){return Process(function(s){var p=computation(s);return Pair(p.fst,_objectSpread({},p.snd,_defineProperty({},k,f(p.snd))));});};},then:function(p){return Process(function(s){return p.computation(computation(s).fst);});},cast:function(x){return Process(function(s){return Pair(computation(s).fst,x);});},call:function(f){return Process(function(s){var p=computation(s);return Pair(f(p.snd).computation(p.fst).fst,p.snd);});},side:function(p){return Process(function(s){var pr=computation(s);return Pair(p.computation(pr.fst).fst,pr.snd);});},computation:computation};};var Nothing={variation:'Nothing',pipe:function(f){return f(Nothing);},bind:function(_){return Nothing;},fmap:function(_){return Nothing;},bindto:function(_){return function(_1){return Nothing;};},fmapto:function(_){return function(_1){return Nothing;};}};var Just=function(value){return {variation:'Just',pipe:function(f){return f(this);},bind:function(f){return f(value);},fmap:function(f){return Just(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return Just(_objectSpread({},value,_defineProperty({},k,f(value))));};},value:value};};var Nil={variation:'Nil',pipe:function(f){return f(Nil);},get $reverse (){return this;},$len:0,bind:function(_){return Nil;},fmap:function(_){return Nil;},fmapto:function(_){return function(_1){return Nil;};},bindto:function(_){return function(_1){return Nil;};},link:id};var Cons=(function(lvalue){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=lvalue();},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=lxs();},bind:function(f){var xs=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'Cons'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var xs=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'Cons'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.tail.bindto(k)(f));});}else xs=xs.tail;}return Nil;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var Pair=function(fst,snd){return {variation:'Pair',pipe:function(f){return f(this);},fst:fst,snd:snd};};var Left=function(value){return {variation:'Left',pipe:function(f){return f(this);},value:value};};var Right=function(value){return {variation:'Right',pipe:function(f){return f(this);},value:value};};var V2=function(x,y){return {variation:'V2',pipe:function(f){return f(this);},x:x,y:y};};var V3=function(x,y,z){return {variation:'V3',pipe:function(f){return f(this);},x:x,y:y,z:z};};var V4=function(x,y,z,w){return {variation:'V4',pipe:function(f){return f(this);},x:x,y:y,z:z,w:w};};var send=function(value){return {variation:'IO',pipe:function(f){return f(this);},bind:function(f){return f(value);},fmap:function(f){return send(f(value));},bindto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value).effect()));});};},fmapto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));});};},then:id,cast:send,call:function(f){return IO(function(){return f(value).effect(),value;});},side:function(io){return IO(function(){return io.effect(),value;});},effect:function(){return value;}};};var idle=send(null);var executing=function(){for(var _len=arguments.length,ios=new Array(_len),_key=0;_key<_len;_key++){ios[_key]=arguments[_key];}return IO(function(){return ios.forEach(function(io){return io.effect();}),null;});};var runProcess=function(process){return process.computation;};var execProcess=function(process){return function(state){return process.computation(state).fst;};};var evalProcess=function(process){return function(state){return process.computation(state).snd;};};var put=function(replacement){return function(process){return Process(function(s){return Pair(replacement,process.computation(s).snd);});};};var get=function(process){return Process(function(s){return same(process.computation(s).fst);});};var mapProcess=function(morphism){return function(process){return Process(function(s){return morphism(process.computation(s));});};};var mapState=function(endomorphism){return function(process){return Process(function(s){return mapFst(endomorphism)(process.computation(s));});};};var random=Process(function(s){return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,Math.abs(13*s**3%203+248*s**2%34+112*s-528)%2048/2048);});var randomFloatRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(698*s**3-471*s**2+295*s-77)%16777215,Math.abs(-13*s**3%196+989*s**2%786+534*s-571)%2048/2048*(upper-lower)+lower);});};};var randomIntRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(852*s**3-274*s**2+345*s-558)%16777215,~~Math.abs(71*s**3%71+570*s**2%39+509*s-72)%2048/2048*(upper-lower)+lower);});};};var randomV2=Process(function(s){return Pair(Math.abs(84*s**3+729*s**2+215*s+1015)%16777215,V2(Math.abs(304*s**3%582+204*s**2%288+254*s-617)%2048/2048,Math.abs(906*s**3%717+518*s**2%38+112*s-581)%2048/2048));});var randomV3=Process(function(s){return Pair(Math.abs(390*s**3-329*s**2+22*s+41)%16777215,V3(Math.abs(407*s**3%594+70*s**2%61+s-5283)%2048/2048,Math.abs(109*s**3%200+23*s**2%8+69940*s-558)%2048/2048,Math.abs(273*s**3%286+23*s**2%60+36*s-184)%2048/2048));});var randomV4=Process(function(s){return Pair(Math.abs(350*s**3-7527*s**2+639*s-1011)%16777215,V4(Math.abs(881*s**3%461+213*s**2%16+s-519)%2048/2048,Math.abs(75*s**3%516+75459*s**2%19+67*s-693)%2048/2048,Math.abs(3498*s**3%242+590*s**2%27+50*s-3039)%2048/2048,Math.abs(8641*s**3%256+613*s**2%28+12*s-62)%2048/2048));});var randomDirectionV2=Process(function(s){var angle=Math.abs(2474*s**3%2676+369*s**2%3871+267628*s%6048+744);return Pair(Math.abs(372*s**3-566*s**2+21713*s+36769)%16777215,V2(Math.cos(angle),Math.sin(angle)));});var randomDirectionV3=Process(function(s){var angle0=Math.abs(s**3%198+378*s**2%86+s-16);var angle1=Math.abs(116*s**3-3168*s**2+258*s-901);var c=Math.sin(angle0);return Pair(Math.abs(414*s**3-607*s**2+889*s-888)%16777215,V3(Math.cos(angle0),c*Math.cos(angle1),c*Math.sin(angle1)));});var randomDirectionV4=Process(function(s){var angle0=Math.abs(905*s**3%2312+633*s**2%94975+208*s-250);var angle1=Math.abs(189*s**3%2641-466*s**2%44291+224*s-917);var angle2=Math.abs(417*s**3%2354-262*s**2%29516+41*s-529);var c0=Math.sin(angle0);var c1=Math.sin(angle1)*c0;return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,V4(Math.cos(angle0),c0*Math.cos(angle1),c1*Math.cos(angle2),c1*Math.sin(angle2)));});var randomLowercase=Process(function(s){return Pair(Math.abs(28721*s**3%2999-712*s**2+3778*s-558)%16777215,String.fromCharCode(Math.abs(3252*s**3%359+945*s**2%878+503*s%379+826)%1028/1028*26+97));});var randomUppercase=Process(function(s){return Pair(Math.abs(363*s**3%384-31*s**2+67*s-793)%16777215,String.fromCharCode(Math.abs(3252*s**3%398+778*s**2%128+13*s%1701+871)%1028/1028*26+65));});var randomChance=function(probability){return Process(function(s){return Pair(Math.abs(462*s**3+261*s**2-778*s-1510)%16777215,Math.abs(1310*s**3%9228-2461*s**2%568+8562*s%234+2827)%2048/2048<probability);});};var randomElem=function(xs){console.error("UNIMPLEMENTED");return halt;};var randomChar=function(str){console.error("UNIMPLEMENTED");return halt;};var randomPick=function(xs){console.error("UNIMPLEMENTED");return halt;};var randomShuffle=function(xs){console.error("UNIMPLEMENTED");return halt;};var strictRandomShuffle=function(xs){console.error("UNIMPLEMENTED");return halt;};var extractJust=function(maybe){if(maybe.variation==='Just')return maybe.value;else{console.error("'extractJust' expected a Just value");console.dir("Signature : extractJust (<MAYBE>)");console.dir("<MAYBE> =",maybe);return halt;}};var fromMaybe=function(fallback){return function(maybe){return maybe.variation==='Just'?maybe.value:fallback;};};var ensure=function(predicate){return function(value){return predicate(value)?Just(value):Nothing;};};var testMaybe=function(predicate){return function(maybe){return maybe.variation==='Just'&&predicate(maybe.value);};};var head=function(xs){if(xs.variation==='Cons')return xs.head;else{console.error("'head' expected a Cons (non-empty List)");console.dir("Signature : head (<XS>)");console.dir("<XS> =",xs);return halt;}};var tail=function(xs){if(xs.variation==='Cons')return xs.tail;else{console.error("'tail' expected a Cons (non-empty List)");console.dir("Signature : tail (<XS>)");console.dir("<XS> =",xs);return halt;}};var link=function(xs){return xs.link;};var listToArray=function(xs){var array=[];var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'listToArray' traversed too many elements (".concat(MAX,") when coverting the given List to a primitive Array"));console.dir("Signature : listToArray (<XS>)");console.dir("<XS> =",xs);return halt;}else array.push(xs_.head),xs_=xs_.tail;return array;};var safeListToArray=function(xs){var array=[];var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.warn("'safeListToArray' traversed too many elements (".concat(MAX,") when coverting"),"the given List to a primitive Array; resulting array is truncated");console.dir("Signature : safeListToArray (<XS>)");console.dir("<XS> =",xs);return array;}else array.push(xs_.head),xs_=xs_.tail;return array;};var unchars=function(xs){var str="";var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'unchars' traversed too many elements (".concat(MAX,") when converting the given List to a primitive String"));console.dir("Signature : unchars (<XS>)");console.dir("<XS> =",xs);return halt;}else str+=xs_.head,xs_=xs_.tail;return str;};var safeUnchars=function(xs){var str="";var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.warn("'unchars' traversed too many elements (".concat(MAX,") when converting the"),"given List to a primitive String; resulting string is truncated");console.dir("Signature : unchars (<XS>)");console.dir("<XS> =",xs);return str;}else str+=xs_.head,xs_=xs_.tail;return str;};var chars=(function(str){return str===""?Nil:{variation:'Cons',pipe:function(f){return f(this);},$head:str[0],$last:str[str.length-1],$len:str.length,head:str[0],get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=chars(str.slice(1));},bind:function(f){var xs=this;while(xs.variation==='Cons'){var ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;},fmap:function(f){return Cons(function(){return f(str[0]);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){console.error("'.bindto' shouldn't be used on a list of strings");console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'chars'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<REACTION> = ",f);return halt;}).bind(this);},fmapto:function(k){return (function(f){console.error("'.fmapto' shouldn't be used on a list of strings");console.dir("Signature : (<OBJECT>) .fmapto (<NAME>) (<REACTION>) | <OBJECT> originated from 'chars'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<MORPHISM> = ",f);return halt;}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lprepend(str[0])((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);var List=function(){for(var _len=arguments.length,elements=new Array(_len),_key=0;_key<_len;_key++){elements[_key]=arguments[_key];}var xs=Nil;for(var i=elements.length-1;~i;--i)xs=prepend(elements[i])(xs);return xs;};var prepend=function(value){return function(xs){return xs.variation==='Nil'?singleton(value):{variation:'Cons',pipe:function(f){return f(this);},$head:value,$tail:xs,$last:xs.$last,$len:xs.$len+1||undefined,head:value,tail:xs,bind:function(f){var ys=f(value);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.bind(f));});else{var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'prepend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs_.tail.bind(f));});else xs_=xs_.tail;}return Nil;}},fmap:function(f){return Cons(function(){return f(value);})(function(){return xs.fmap(f);});},bindto:function(k){return (function(f){var ys=f(value);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.bindto(k)(f));});}else{var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'prepend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs_.tail.bind(f));});}else xs_=xs_.tail;}return Nil;}}).bind(this);},fmapto:function(k){return function(f){return Cons(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));})(function(){return xs.fmapto(k)(f);});};},link:function(ys){return lprepend(value)(function(){return xs.link(ys);});}};};};var lprepend=(function(value){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},$head:value,head:value,get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=lxs();},bind:function(f){var ys=f(value);if(ys.variation==='Cons')return Cons(function(){return ys.head;})((function(){return ys.tail.link(this.tail.bind(f));}).bind(this));else{var xs=this.tail;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'lprepend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;}},fmap:function(f){return Cons(function(){return f(value);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=f(value);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})((function(){return zs.tail.link(this.tail.bindto(k)(f));}).bind(this));}else{var xs=this.tail;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'lprepend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(zs.tail.bind(f));});}else xs=xs.tail;}return Nil;}}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(ys){return lprepend(value)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var postpend=(function(value){return (function(xs){return xs.variation==='Nil'?singleton(value):{variation:'Cons',pipe:function(f){return f(this);},$head:xs.$head,$init:xs,$last:value,$len:xs.$len+1||undefined,get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=xs.head;},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=postpend(value)(xs.tail);},bind:function(f){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'postpend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(postpend(value)(xs_.tail).bind(f));});else xs_=xs_.tail;}return f(value);},fmap:function(f){return lpostpend(f(value))(function(){return xs.fmap(f);});},bindto:function(k){return (function(f){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>)","| <OBJECT> originated from 'postpend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs_.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(postpend(value)(xs_.tail).bind(f));});}else xs_=xs_.tail;}return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});}).bind(this);},fmapto:function(k){return function(f){return lpostpend(_objectSpread({},value,_defineProperty({},k,f(value))))(function(){return xs.fmapto(k)(f);});};},link:function(ys){return this.$head===undefined?Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(ys);}).bind(this)):lprepend(this.$head)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var lpostpend=(function(value){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},$last:value,get head (){var _$init,_$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=(_$init=(_$init=this.$init)!==null&&_$init!== void 0?_$init:this.$init=lxs()).variation==='Nil'?value:this.$init.head;},get tail (){var _$init,_$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=(_$init=(_$init=this.$init)!==null&&_$init!== void 0?_$init:this.$init=lxs()).variation==='Nil'?singleton(value):postpend(value)(this.$init.tail);},bind:function(f){var xs_=this.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'lpostpend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(postpend(value)(xs_.tail).bind(f));});else xs_=xs_.tail;}return f(value);},fmap:function(f){return lpostpend(f(value))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var xs_=this.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>)","| <OBJECT> originated from 'lpostpend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs_.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(postpend(value)(xs_.tail).bind(f));});}else xs_=xs_.tail;}return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});}).bind(this);},fmapto:function(k){return (function(f){return lpostpend(_objectSpread({},value,_defineProperty({},k,f(value))))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(ys){return this.$head===undefined?Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(ys);}).bind(this)):lprepend(this.$head)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var singleton=(function(value){return {variation:'Cons',pipe:function(f){return f(this);},$head:value,$tail:Nil,$last:value,$init:Nil,get $reverse (){return this;},$len:1,head:value,tail:Nil,bind:function(f){return f(value);},fmap:function(f){return singleton(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return singleton(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:prepend(value)};}).bind(this);var repeat=(function(value){return {variation:'Cons',$head:value,get $tail (){return this;},get $init (){return this;},head:value,get tail (){return this;},pipe:function(f){return f(this);},bind:function(f){return cycle(f(value));},fmap:function(f){return repeat(f(value));},bindto:function(k){return function(f){return cycle(_objectSpread({},value,_defineProperty({},k,f(value))));};},fmapto:function(k){return function(f){return repeat(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(_){return this;}};}).bind(this);var cycle=(function(pattern){return pattern.variation==='Nil'?Nil:{variation:'Cons',pipe:function(f){return f(this);},get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=pattern.head;},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=pattern.tail.link(this);},bind:function(f){var xs=pattern;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'cycle'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons')return cycle(Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));}));else xs=xs.tail;}return Nil;},fmap:function(f){return cycle(pattern.fmap(f));},bindto:function(k){return (function(f){var xs=pattern;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'cycle'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs.head,_defineProperty({},k,y));});return cycle(Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.tail.bind(f));}));}else xs=xs.tail;}return Nil;}).bind(this);},fmapto:function(k){return function(f){return cycle(pattern.fmap(function(x){return _objectSpread({},x,_defineProperty({},k,f(x)));}));};},link:function(_){return this;}};}).bind(this);var iterate=function(endomorphism){return function(initial){return lprepend(initial)(function(){return iterate(endomorphism)(endomorphism(initial));});};};var replicate=function(amount){return function(value){return amount>0?lprepend(value)(function(){return replicate(amount-1)(value);}):Nil;};};var countBy=function(step){return function(start){return lprepend(start)(function(){return countBy(step)(start+step);});};};var countDown=countBy(-1);var countUp=countBy(1);var naturals=countUp(0);var joinList=function(xss){var xss_=xss;for(var i=0;xss_.variation==='Cons';++i)if(i===MAX){console.error("'joinList' traversed too many elements (".concat(MAX,")"));console.dir("Signature : joinList (<XSS>)");console.dir("<XSS> =",xss);return halt;}else if(xss_.head.variation==='Cons')return Cons(function(){return xss_.head.head;})(function(){return xss_.head.tail.link(joinList(xss_.tail));});else xss_=xss_.tail;return Nil;};var all=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'all' traversed too many elements (".concat(MAX,")"));console.dir("Signature : all (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))xs_=xs_.tail;else return false;return true;};};var any=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'any' traversed too many elements (".concat(MAX,")"));console.dir("Signature : any (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return true;else xs_=xs_.tail;return false;};};var at=function(index){return function(xs){var i=0;var xs_=xs;while(xs_.variation==='Cons')if(i===MAX){console.error("'at' traversed too many elements (".concat(MAX,")"));console.dir("Signature : at (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;}else if(i<index)xs_=xs_.tail,++i;else return xs_.head;console.error("'at' received an out-of-bounds index of ".concat(index," for a list of length ").concat(i));console.dir("Signature : at (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;};};var indexing=function(xs){return function(index){var i=0;var xs_=xs;while(xs_.variation==='Cons')if(i<index)xs_=xs_.tail,++i;else return xs_.head;console.error("'indexing' received an out-of-bounds index of ".concat(index," for a list of length ").concat(i));console.dir("Signature : indexing (<XS>) (<INDEX>)");console.dir("<XS>    =",xs);console.dir("<INDEX> =",index);return halt;};};var len=function(xs){if(xs.$len===undefined){var xs_=xs;var i=0;while(xs_.variation==='Cons')if(i===MAX){console.error("'len' traversed too many elements (".concat(MAX,")"));console.dir("Signature : len (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail,++i;return xs.$len=i;}else return xs.$len;};var last=function(xs){if(xs.variation==='Nil'){console.error("'last' expected a Cons (non-empty List)");console.dir("Signature : last (<XS>)");console.dir("<XS> =",xs);return halt;}else if(xs.$last===undefined){var xs_=xs;for(var i=0;xs_.tail.variation==='Cons';++i)if(i===MAX){console.error("'last' traversed too many elements (".concat(MAX,")"));console.dir("Signature : last (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail;return xs.$last=xs_.head;}else return xs.$last;};var init=function(xs){if(xs.variation==='Nil'){console.error("'init' expected a Cons (non-empty List)");console.dir("Signature : init (<XS>)");console.dir("<XS> =",xs);return halt;}else if(xs.$init===undefined)return xs.$init=xs.tail.variation==='Nil'?Nil:Cons(function(){return xs.head;})(function(){return init(xs.tail);});else return xs.$init;};var reverse=function(xs){if(xs.$reverse===undefined){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'reverse' traversed too many elements (".concat(MAX,")"));console.dir("Signature : reverse (<XS>)");console.dir("<XS> =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}else return xs.$reverse;};var map=function(morphism){return function(xs){return xs.fmap(morphism);};};var imap_tail=function(start){return function(imorphism){return function(xs){return xs.variation==='Nil'?Nil:Cons(function(){return imorphism(start)(xs.head);})(function(){return imap_tail(start+1)(imorphism)(xs.tail);});};};};var imap=imap_tail(0);var intersperse=function(delimiter){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return prepend(delimiter)(intersperse(delimiter)(xs.tail));});};};var foldl=function(operation){return function(initial){return function(xs){var out=initial;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldl' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldl (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else out=operation(out)(xs_.head),xs_=xs_.tail;return out;};};};var foldl1=function(operation){return function(xs){if(xs.variation==='Nil'){console.error("'foldl1' expected a Cons (non-empty List)");console.dir("Signature : foldl1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS> =",xs);return halt;}else{var out=xs.head;var xs_=xs.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldl1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldl1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);}else out=operation(out)(xs_.head),xs_=xs_.tail;return out;}};};var foldr=function(operation){return function(initial){return function(xs){var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldr' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldr (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var out=initial;var rxs_=rxs;while(rxs_.variation==='Cons')out=operation(rxs_.head)(out),rxs_=rxs_.tail;return out;};};};var foldr1=function(operation){return function(xs){if(xs.variation==='Nil'){console.error("'foldr1' expected a Cons (non-empty List)");console.dir("Signature : foldr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS> =",xs);return halt;}else{var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldr1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var out=rxs.head;var trxs_=rxs.tail;while(trxs_.variation==='Cons')out=operation(trxs_.head)(out),trxs_=trxs_.tail;return out;}};};var scanl=function(operation){return function(initial){return function(xs){return xs.variation==='Nil'?singleton(initial):lprepend(initial)(function(){return scanl(operation)(operation(initial)(xs.head))(xs.tail);});};};};var scanl1=function(operation){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return scanl(operation)(operation(xs.head)(xs.tail.head))(xs.tail.tail);});};};var scanr=function(operation){return function(initial){return function(xs){var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var ys=Nil;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'scanr' traversed too many elements (".concat(MAX,")"));console.dir("Signature : scanr (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var rxs_=rxs;var outs=singleton(initial);while(rxs_.variation==='Cons')outs=prepend(operation(rxs_.head)(outs.head))(outs),rxs_=rxs_.tail;return outs;};};};var scanr1=function(operation){return function(xs){if(xs.variation==='Nil')return Nil;else{var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var ys=Nil;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'scanr1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : scanr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var rxs_=rxs.tail;var outs=singleton(rxs.head);while(rxs_.variation==='Cons')outs=prepend(operation(rxs_.head)(outs.head))(outs),rxs_=rxs_.tail;return outs;}};};var take=function(amount){return function(xs){return amount>=xs.$len?xs:xs.variation==='Nil'||amount<1?Nil:Cons(function(){return xs.head;})(function(){return take(amount-1)(xs.tail);});};};var drop=function(amount){return function(xs){if(amount>=xs.$len)return Nil;else{if(amount>=MAX){console.error("'drop' would be traversing too many elements (".concat(MAX,")"));console.dir("Signature : drop (<AMOUNT>) (<XS>)");console.dir("<AMOUNT> =",amount);console.dir("<XS>     =",xs);return halt;}else{var xs_=xs;var am_=amount;while(xs_.variation==='Cons'&& ~~am_)xs_=xs_.tail,--am_;return xs_;}}};};var splitAt=function(index){return function(xs){if(index>=xs.$len)return Pair(Nil,xs);else if(index<1)return Pair(xs,Nil);else if(index>=MAX){console.error("'splitAt' would be traversing too many elements (".concat(MAX,")"));console.dir("Signature : splitAt (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>     =",xs);return halt;}else{var xs_=xs;var rxs0=Nil;for(var i=1;i<=index&&xs_.variation==='Cons';++i)rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(xs0,xs_);}};};var takeWhile=function(predicate){return function(xs){return xs.variation==='Cons'&&predicate(xs.head)?lprepend(xs.head)(function(){return takeWhile(predicate)(xs.tail);}):Nil;};};var dropWhile=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'dropWhile' traversed too many elements (".concat(MAX,")"));console.dir("Signature : dropWhile (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs.head))xs=xs.tail;else return xs;return Nil;};};var span=function(predicate){return function(xs){var xs_=xs;var rxs0=Nil;for(var i=0;xs_.variation==='Cons'&&predicate(xs_.head);++i)if(i===MAX){console.error("'span' traversed too many elements (".concat(MAX,")"));console.dir("Signature : span (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);}else rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(xs0,xs_);};};var elem=function(value){return function(xs){console.error("UNIMPLEMENTED");return halt;};};var filter=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'filter' traversed too many elements (".concat(MAX,")"));console.dir("Signature : filter (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);}else if(predicate(xs_.head))return lprepend(xs_.head)(function(){return filter(predicate)(xs_.tail);});else xs_=xs_.tail;return Nil;};};var partition=function(predicate){return function(xs){return Pair(filter(predicate)(xs),filter(notf(predicate))(xs));};};var strictPartition=function(predicate){return function(xs){var xs_=xs;var rxs0=Nil;var rxs1=Nil;for(var i=0;xs_.variation==='Cons';++i,xs_=xs_.tail)if(i===MAX){console.error("'strictPartition' traversed too many elements (".concat(MAX,")"));console.dir("Signature : strictPartition (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))rxs0=prepend(xs_.head)(rxs0);else rxs1=prepend(xs_.head)(rxs1);var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;var xs1=Nil;while(rxs1.variation==='Cons')xs1=prepend(rxs1.head)(xs1),rxs1=rxs1.tail;return Pair(xs0,xs1);};};var elemIndices=function(value){return function(xs){console.error("UNIMPLEMENTED");return halt;};};var findIndices=function(predicate){return function(xs){var xs_=xs;var rins=Nil;for(var i=0;xs_.variation==='Cons';++i,xs_=xs_.tail)if(i===MAX){console.error("'findIndices' traversed too many elements (".concat(MAX,")"));console.dir("Signature : findIndices (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))rins=prepend(i)(rins);var ins=Nil;while(rins.variation==='Cons')ins=prepend(rins.head)(ins),rins=rins.tail;return ins;};};var zip=function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return Pair(firsts.head,seconds.head);})(function(){return zip(firsts.tail)(seconds.tail);});};};var zipWith=function(zipper){return function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return zipper(firsts.head)(seconds.head);})(function(){return zipWith(zipper)(firsts.tail)(seconds.tail);});};};};var unzip=function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));};var strictUnzip=function(pairs){var pairs_=pairs;var rfsts=Nil;var rsnds=Nil;for(var i=0;pairs_.variation==='Cons';++i)if(i===MAX){console.error("'strictUnzip' traversed too many elements (".concat(MAX,")"));console.dir("Signature : strictUnzip (<PAIRS>)");console.dir("<PAIRS> =",pairs);return halt;}else rfsts=prepend(pairs_.head.fst)(rfsts),rsnds=prepend(pairs_.head.snd)(rsnds),pairs_=pairs_.tail;var fsts=Nil;while(rfsts.variation==='Cons')fsts=prepend(rfsts.head)(fsts),rfsts=rfsts.tail;var snds=Nil;while(rsnds.variation==='Cons')snds=prepend(rsnds.head)(snds),rsnds=rsnds.tail;return Pair(fsts,snds);};var lowercases=chars('abcdefghijklmnopqrstuvwxyz');var uppercases=chars('ABCDEFGHIJKLMNOPQRSTUVWXYZ');var fst=function(pair){return pair.fst;};var snd=function(pair){return pair.snd;};var mapPair=function(morphism){return function(pair){return Pair(morphism(pair.fst),morphism(pair.snd));};};var mapFst=function(morphism){return function(pair){return Pair(morphism(pair.fst),pair.snd);};};var mapSnd=function(morphism){return function(pair){return Pair(pair.fst,morphism(pair.snd));};};var swap=function(pair){return Pair(pair.snd,pair.fst);};var same=function(value){return Pair(value,value);};var pick=function(bool){return bool?fst:snd;};var curry=function(f){return function(first){return function(second){return f(Pair(first,second));};};};var uncurry=function(f){return function(parameters){return f(parameters.fst)(parameters.snd);};};var pairToArray=function(pair){return [pair.fst,pair.snd];};var extractLeft=function(either){if(either.variation==='Left')return either.value;else{console.error("'extractLeft' expected a Left value");console.dir("Signature : extractLeft (<EITHER>)");console.dir("<EITHER> =",either);return halt;}};var extractRight=function(either){if(either.variation==='Right')return either.value;else{console.error("'extractRight' expected a Right value");console.dir("Signature : extractRight (<EITHER>)");console.dir("<EITHER> =",either);return halt;}};var fromLeft=function(fallback){return function(either){return either.variation==='Left'?either.value:fallback;};};var fromRight=function(fallback){return function(either){return either.variation==='Right'?either.value:fallback;};};var collapseEither=function(either){return either.value;};var mapLeft=function(morphism){return function(either){return either.variation==='Left'?Left(morphism(either.value)):either;};};var mapRight=function(morphism){return function(either){return either.variation==='Right'?Right(morphism(either.value)):either;};};var mapEither=function(leftMorphism){return function(rightMorphism){return function(either){return either.variation==='Left'?Left(leftMorphism(either.value)):Right(rightMorphism(either.value));};};};var reduceEither=function(leftMorphism){return function(rightMorphism){return function(either){return either.variation==='Left'?leftMorphism(either.value):rightMorphism(either.value);};};};var zeroV2=V2(0,0);var zeroV3=V3(0,0,0);var zeroV4=V4(0,0,0,0);var isButtonUp=function(state){return state==='Up'||state==='toUp';};var isButtonDown=function(state){return state==='Down'||state==='toDown';};var isButtonInTransition=function(state){return state==='toUp'||state==='toDown';};var iterateButtonState=function(state){return state==='toUp'?'Up':state==='toDown'?'Down':state;};var signButtonState=function(state){return state==='Up'||state==='toUp'?1:state==='Down'||state==='toDown'?-1:0;};var sequence_IO=function(ios){return IO(function(){return ios.fmap(function(io){return io.effect();});});};var execute_IO=function(ios){var effects=[];var ios_=ios;for(var i=0;ios_.variation==='Cons';++i)if(i===MAX){console.error("'execute_IO' traversed too many elements (".concat(MAX,") when coverting the given List (IO a) to a primitive Array"));console.dir("Signature : execute_IO (<IOS>)");console.dir("<IOS> =",ios_);return halt;}else effects.push(ios_.head.effect),ios_=ios_.tail;return IO(function(){return effects.map(function(f){return f();}),null;});};var maybeHead=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.head);};var maybeLast=function(xs){return xs.variation==='Nil'?Nothing:Just(last(xs));};var maybeTail=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.tail);};var maybeInit=function(xs){return xs.variation==='Nil'?Nothing:Just(init(xs));};var maybeSingleton=function(maybe){return maybe.variation==='Nothing'?Nil:singleton(maybe.value);};var pairToV2=function(pair){return V2(pair.fst,pair.snd);};var v2ToPair=function(vector){return Pair(vector.x,vector.y);};var pairOfMaybes=function(pair){return pair.fst.variation==='Just'&&pair.snd.variation==='Just'?Just(Pair(pair.fst.value,pair.snd.value)):Nothing;};var find=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'find' traversed too many elements (".concat(MAX,")"));console.dir("Signature : find (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return Just(xs_.head);else xs_=xs_.tail;return Nothing;};};var elemIndex=function(value){return function(xs){console.error("UNIMPLEMENTED");return halt;};};var findIndex=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'findIndex' traversed too many elements (".concat(MAX,")"));console.dir("Signature : findIndex (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return Just(i);else xs_=xs_.tail;return Nothing;};};var justs=function(maybes){var maybes_=maybes;for(var i=0;maybes_.variation==='Cons';++i)if(i===MAX){console.error("'justs' traversed too many elements (".concat(MAX,")"));console.dir("Signature : justs (<MAYBES>)");console.dir("<MAYBES> =",maybes);return halt;}else if(maybes_.head.variation==='Just')return lprepend(maybes_.head.value)(function(){return justs(maybes_.tail);});else maybes_=maybes_.tail;return Nil;};var mapMaybe=function(mapping){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'mapMaybe' traversed too many elements (".concat(MAX,")"));console.dir("Signature : mapMaybe (<MAPPING>) (<XS>)");console.dir("<MAPPING> =",mapping);console.dir("<XS> =",xs);return halt;}else{var maybe=mapping(xs_.head);if(maybe.variation==='Just')return lprepend(maybe.value)(function(){return mapMaybe(mapping)(xs_.tail);});xs_=xs_.tail;}return Nil;};};var lefts=function(eithers){var eithers_=eithers;for(var i=0;eithers_.variation==='Cons';++i)if(i===MAX){console.error("'lefts' traversed too many elements (".concat(MAX,")"));console.dir("Signature : lefts (<EITHERS>)");console.dir("<EITHERS> =",eithers);return halt;}else if(eithers_.head.variation==='Left')return lprepend(eithers_.head.value)(function(){return lefts(eithers_.tail);});else eithers_=eithers_.tail;return Nil;};var rights=function(eithers){var eithers_=eithers;for(var i=0;eithers_.variation==='Cons';++i)if(i===MAX){console.error("'rights' traversed too many elements (".concat(MAX,")"));console.dir("Signature : rights (<EITHERS>)");console.dir("<EITHERS> =",eithers);return halt;}else if(eithers_.head.variation==='Right')return lprepend(eithers_.head.value)(function(){return rights(eithers_.tail);});else eithers_=eithers_.tail;return Nil;};var maybeAt=function(index){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'maybeAt' traversed too many elements (".concat(MAX,")"));console.dir("Signature : maybeAt (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;}else if(i>=index)return Just(xs_.head);else xs_=xs_.tail;return Nothing;};};var processToList=function(process){return function(state){var p=process.computation(state);return lprepend(p.snd)(function(){return processToList(process)(p.fst);});};};var pairProcess=function(process){return Process(function(s){var p=process.computation(s);var q=process.computation(p.fst);return Pair(q.fst,Pair(p.snd,q.snd));});};var repeatProcess=function(process){return Process(function(s){return Pair(s,processToList(process)(s));});};var pickout=function(predicate){return function(xs){var xs_=xs;var rys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'pickout' traversed too many elements (".concat(MAX,")"));console.dir("Signature : pickout (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head)){var ys=Nil;while(rys.variation==='Cons')ys=prepend(rys.head)(ys),rys=rys.tail;return Pair(Just(xs_.head),ys.link(xs_.tail));}else rys=prepend(xs_.head)(rys),xs_=xs_.tail;return Pair(Nothing,xs_);};};var forn=function(amount){return function(operation){var effects=[];for(var i=0;i<amount;++i)effects.push(operation(i).effect);return IO(function(){return effects.forEach(function(f){return f();}),null;});};};var forloop=function(start){return function(condition){return function(morphism){return function(operation){var effects=[];for(var i=start;condition(i);i=morphism(i))effects.push(operation(i).effect);return IO(function(){return effects.forEach(function(f){return f();}),null;});};};};};var prompting=function(message){return IO(function(){var input=prompt(message);return input===null?Nothing:Just(input);});};var ref;var inputting=function(message){return IO(function(){return (ref=prompt(message))!==null&&ref!== void 0?ref:'';});};var alerting=function(message){return IO(function(){return alert(message),null;});};var confirming=function(message){return IO(function(){return confirm(message);});};var delay=function(amount){return function(io){return IO(function(){return setTimeout(io.effect,amount),null;});};};var flush=IO(function(){return console.clear(),null;});var log=function(message){return IO(function(){return console.log(message),null;});};var warn=function(message){return IO(function(){return console.warn(message),null;});};var debug=function(message){return IO(function(){return console.debug(message),null;});};var delayedLog=function(count){return function(message){return IO(function(){return (--.debugCounter)<0?(.debugCounter=count,console.debug(message),null):null;});};};var countLog=function(identifier){return IO(function(){return console.count(identifier),null;});};var resetCountLog=function(identifier){return IO(function(){return console.countReset(identifier),null;});};var time=IO(Date.now);var __MACRO__={clickx:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(.mouseCX):Nothing;});},clicky:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(.mouseCY):Nothing;});},clickv:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(V2(.mouseCX,.mouseCY)):Nothing;});},n_clickx:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(.mouseCX/.ctx.canvas.width):Nothing;});},n_clicky:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(.mouseCY/.ctx.canvas.height):Nothing;});},n_clickv:function(i){return IO(function(){return .mouseButtons[i]==='toDown'?Just(V2(.mouseCX/.ctx.canvas.width,.mouseCY/.ctx.canvas.height)):Nothing;});},err_nonexisting_image_path:function(funcName,path){console.error("'".concat(funcName,"' received an unloaded (possibly non-existing) image path"));console.dir("Signature : ".concat(funcName," (<PATH>)"));console.dir("<PATH> =",path);return halt;},err_nonexisting_audio_path:function(funcName,path){console.error("'".concat(funcName,"' received an unloaded (possibly non-existing) audio path"));console.dir("Signature : ".concat(funcName," (<PATH>)"));console.dir("<PATH> =",path);return halt;},err_layer_index:function(funcName,index){console.error("'".concat(funcName,"' only takes an integer in the interval [0, ").concat(.ctxs.length,") for an index"));console.dir("Signature : ".concat(clearLayer," (<INDEX>)"));console.dir("<INDEX> =",index);return halt;}};var ={MUTABLE:{},ctxs:[],ctx:undefined,resizeID:undefined,isResized:false,isPointerLocked:false,seed:(Math.random()-0.5)*Date.now()%16777215,debugCounter:0,image:Object.create(null),audio:Object.create(null),mouseSX:0,mouseSY:0,mouseWX:0,mouseWY:0,mouseCX:0,mouseCY:0,mouseDX:0,mouseDY:0,mouseScroll:'Zero',mouseButtons:Array(5).fill('Up'),keyboard:keyboardKeysArray.reduce(function($,k){return _objectSpread({},$,_defineProperty({},k,'Up'));},Object.create(null))};var n_mouseScreenPositionX=IO(function(){return .mouseSX/screen.width;});var n_mouseScreenPositionY=IO(function(){return .mouseSY/screen.height;});var n_mouseScreenPosition=IO(function(){return V2(.mouseSX/screen.width,.mouseSY/screen.height);});var mouseScreenPositionX=IO(function(){return .mouseSX;});var mouseScreenPositionY=IO(function(){return .mouseSY;});var mouseScreenPosition=IO(function(){return V2(.mouseSX,.mouseSY);});var n_mouseWindowPositionX=IO(function(){return .mouseWX/innerWidth;});var n_mouseWindowPositionY=IO(function(){return .mouseWY/innerHeight;});var n_mouseWindowPosition=IO(function(){return V2(.mouseWX/innerWidth,.mouseWY/innerHeight);});var mouseWindowPositionX=IO(function(){return .mouseWX;});var mouseWindowPositionY=IO(function(){return .mouseWY;});var mouseWindowPosition=IO(function(){return V2(.mouseWX,.mouseWY);});var n_mouseCanvasPositionX=IO(function(){return .mouseCX/.ctx.canvas.width;});var n_mouseCanvasPositionY=IO(function(){return .mouseCY/.ctx.canvas.height;});var n_mouseCanvasPosition=IO(function(){return V2(.mouseCX/.ctx.canvas.width,.mouseCY/.ctx.canvas.height);});var mouseCanvasPositionX=IO(function(){return .mouseCX;});var mouseCanvasPositionY=IO(function(){return .mouseCY;});var mouseCanvasPosition=IO(function(){return V2(.mouseCX,.mouseCY);});var n_mouseDeltaX=IO(function(){return .mouseDX/.ctx.canvas.width;});var n_mouseDeltaY=IO(function(){return .mouseDY/.ctx.canvas.height;});var n_mouseDelta=IO(function(){return V2(.mouseDX/.ctx.canvas.width,.mouseDY/.ctx.canvas.height);});var mouseDeltaX=IO(function(){return .mouseDX;});var mouseDeltaY=IO(function(){return .mouseDY;});var mouseDelta=IO(function(){return V2(.mouseDX,.mouseDY);});var mouseScroll=IO(function(){return .mouseScroll;});var mouseLeft=IO(function(){return .mouseButtons[0];});var mouseMiddle=IO(function(){return .mouseButtons[1];});var mouseRight=IO(function(){return .mouseButtons[2];});var mouse4th=IO(function(){return .mouseButtons[3];});var mouse5th=IO(function(){return .mouseButtons[4];});var n_mouseLeftClickCoordinateX=__MACRO__.n_clickx(0);var n_mouseLeftClickCoordinateY=__MACRO__.n_clicky(0);var n_mouseLeftClickCoordinates=__MACRO__.n_clickv(0);var mouseLeftClickCoordinateX=__MACRO__.clickx(0);var mouseLeftClickCoordinateY=__MACRO__.clicky(0);var mouseLeftClickCoordinates=__MACRO__.clickv(0);var n_mouseMiddleClickCoordinateX=__MACRO__.n_clickx(1);var n_mouseMiddleClickCoordinateY=__MACRO__.n_clicky(1);var n_mouseMiddleClickCoordinates=__MACRO__.n_clickv(1);var mouseMiddleClickCoordinateX=__MACRO__.clickx(1);var mouseMiddleClickCoordinateY=__MACRO__.clicky(1);var mouseMiddleClickCoordinates=__MACRO__.clickv(1);var n_mouseRightClickCoordinateX=__MACRO__.n_clickx(2);var n_mouseRightClickCoordinateY=__MACRO__.n_clicky(2);var n_mouseRightClickCoordinates=__MACRO__.n_clickv(2);var mouseRighClickCoordinateX=__MACRO__.clickx(2);var mouseRighClickCoordinateY=__MACRO__.clicky(2);var mouseRighClickCoordinates=__MACRO__.clickv(2);var n_mouse4thClickCoordinateX=__MACRO__.n_clickx(3);var n_mouse4thClickCoordinateY=__MACRO__.n_clicky(3);var n_mouse4thClickCoordinates=__MACRO__.n_clickv(3);var mouse4thClickCoordinateX=__MACRO__.clickx(3);var mouse4thClickCoordinateY=__MACRO__.clicky(3);var mouse4thClickCoordinate=__MACRO__.clickv(3);var n_mouse5thClickCoordinateX=__MACRO__.n_clickx(4);var n_mouse5thClickCoordinateY=__MACRO__.n_clicky(4);var n_mouse5thClickCoordinates=__MACRO__.n_clickv(4);var mouse5thClickCoordinateX=__MACRO__.clickx(4);var mouse5thClickCoordinateY=__MACRO__.clicky(4);var mouse5thClickCoordinates=__MACRO__.clickv(4);var keyboardKey=function(keyname){return IO(function(){return .keyboard[keyname];});};var screenWidth=IO(function(){return screen.width;});var screenHeight=IO(function(){return screen.height;});var screenDimensions=IO(function(){return V2(screen.width,screen.height);});var windowWidth=IO(function(){return innerWidth;});var windowHeight=IO(function(){return innerHeight;});var windowDimensions=IO(function(){return V2(innerWidth,innerHeight);});var canvasWidth=IO(function(){return .ctx.canvas.width;});var canvasHeight=IO(function(){return .ctx.canvas.height;});var canvasDimensions=IO(function(){return V2(.ctx.canvas.width,.ctx.canvas.height);});var n_wasdKeys=IO(function(){var x=isButtonDown(.keyboard.KeyD)-isButtonDown(.keyboard.KeyA);var y=isButtonDown(.keyboard.KeyS)-isButtonDown(.keyboard.KeyW);var l=x**2+y**2;return l===0?zeroV2:l===1?V2(x,y):V2(x*invsqrt2,y*invsqrt2);});var wasdKeys=IO(function(){return V2(isButtonDown(.keyboard.KeyD)-isButtonDown(.keyboard.KeyA),isButtonDown(.keyboard.KeyS)-isButtonDown(.keyboard.KeyW));});var n_arrowKeys=IO(function(){var x=isButtonDown(.keyboard.ArrowRight)-isButtonDown(.keyboard.ArrowLeft);var y=isButtonDown(.keyboard.ArrowDown)-isButtonDown(.keyboard.ArrowUp);var l=x**2+y**2;return l===0?zeroV2:l===1?V2(x,y):V2(x*invsqrt2,y*invsqrt2);});var arrowKeys=IO(function(){return V2(isButtonDown(.keyboard.ArrowRight)-isButtonDown(.keyboard.ArrowLeft),isButtonDown(.keyboard.ArrowDown)-isButtonDown(.keyboard.ArrowUp));});var n_textWidth=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxLeft=ref1.actualBoundingBoxLeft,actualBoundingBoxRight=ref1.actualBoundingBoxRight;return (Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/.ctx.canvas.width;});};var textWidth=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxLeft=ref1.actualBoundingBoxLeft,actualBoundingBoxRight=ref1.actualBoundingBoxRight;return Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight);});};var n_textHeight=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxAscent=ref1.actualBoundingBoxAscent,actualBoundingBoxDescent=ref1.actualBoundingBoxDescent;return (Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/.ctx.canvas.height;});};var textHeight=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxAscent=ref1.actualBoundingBoxAscent,actualBoundingBoxDescent=ref1.actualBoundingBoxDescent;return Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent);});};var n_textDimensions=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxLeft=ref1.actualBoundingBoxLeft,actualBoundingBoxRight=ref1.actualBoundingBoxRight,actualBoundingBoxAscent=ref1.actualBoundingBoxAscent,actualBoundingBoxDescent=ref1.actualBoundingBoxDescent;return V2((Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/.ctx.canvas.width,(Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/.ctx.canvas.height);});};var textDimensions=function(text){return IO(function(){var ref1=.ctx.measureText(text),actualBoundingBoxLeft=ref1.actualBoundingBoxLeft,actualBoundingBoxRight=ref1.actualBoundingBoxRight,actualBoundingBoxAscent=ref1.actualBoundingBoxAscent,actualBoundingBoxDescent=ref1.actualBoundingBoxDescent;return V2(Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight),Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent));});};var n_imageWidth=function(path){return IO(function(){return .image[path]?.image[path].width/.ctx.canvas.width:__MACRO__.err_nonexisting_image_path('n_iamgeWidth',path);});};var imageWidth=function(path){return IO(function(){return .image[path]?.image[path].width:__MACRO__.err_nonexisting_image_path('iamgeWidth',path);});};var n_imageHeight=function(path){return IO(function(){return .image[path]?.image[path].height/.ctx.canvas.height:__MACRO__.err_nonexisting_image_path('n_imageHeight',path);});};var imageHeight=function(path){return IO(function(){return .image[path]?.image[path].height:__MACRO__.err_nonexisting_image_path('imageHeight',path);});};var n_imageDimensions=function(path){return IO(function(){return .image[path]?V2(.image[path].width/.ctx.canvas.width,.image[path].height/.ctx.canvas.height):__MACRO__.err_nonexisting_image_path('n_imageDimensions',path);});};var imageDimensions=function(path){return IO(function(){return .image[path]?V2(.image[path].width,.image[path].height):__MACRO__.err_nonexisting_image_path('imageDimensions',path);});};var n_audioTime=function(path){return IO(function(){return .audio[path]?.audio[path].currentTime/.audio[path].duration:__MACRO__.err_nonexisting_audio_path('n_audioTime',path);});};var audioTime=function(path){return IO(function(){return .audio[path]?.audio[path].currentTime:__MACRO__.err_nonexisting_audio_path('audioTime',path);});};var audioDuration=function(path){return IO(function(){return .audio[path]?.audio[path].duration:__MACRO__.err_nonexisting_audio_path('audioDuration',path);});};var n_lineThickness=IO(function(){return .ctx.lineWidth/.ctx.canvas.width;});var lineThickness=IO(function(){return .ctx.lineWidth;});var n_lineDashPattern=IO(function(){return List.apply(void 0,.ctx.getLineDash().map(function(x){return x/.ctx.canvas.width;}));});var lineDashPattern=IO(function(){return List.apply(void 0,.ctx.getLineDash());});var n_lineDashOffset=IO(function(){return .ctx.lineDashOffset/.ctx.canvas.width;});var lineDashOffset=IO(function(){return .ctx.lineDashOffset;});var miterLimit=IO(function(){return .ctx.miterLimit;});var n_fontSize=IO(function(){return parseFloat(.ctx.font)/.ctx.canvas.width;});var fontStyle=IO(function(){return .ctx.font;});var fontSize=IO(function(){return parseFloat(.ctx.font);});var fontFamily=IO(function(){return .ctx.font.slice(.ctx.font.indexOf(' ')+1);});var n_shadowOffsetX=IO(function(){return .ctx.shadowOffsetX/.ctx.canvas.height;});var shadowOffsetX=IO(function(){return .ctx.shadowOffsetX;});var n_shadowOffsetY=IO(function(){return .ctx.shadowOffsetY/.ctx.canvas.height;});var shadowOffsetY=IO(function(){return .ctx.shadowOffsetY;});var n_shadowOffset=IO(function(){return V2(.ctx.shadowOffsetX/.ctx.canvas.width,.ctx.shadowOffsetY/.ctx.canvas.height);});var shadowOffset=IO(function(){return V2(.ctx.shadowOffsetX,.ctx.shadowOffsetY);});var shadowBlurAmount=IO(function(){return .ctx.shadowBlur;});var shadowColor=IO(function(){return .ctx.shadowColor;});var n_isInEvenOddPath=function(x){return function(y){return IO(function(){return .ctx.isPointInPath(x/.ctx.canvas.width,y/.ctx.canvas.height,'evenodd');});};};var n_isInEvenOddPathV2=function(xy){return IO(function(){return .ctx.isPointInPath(xy.x/.ctx.canvas.width,xy.y/.ctx.canvas.height,'evenodd');});};var isInEvenOddPath=function(x){return function(y){return IO(function(){return .ctx.isPointInPath(x,y,'evenodd');});};};var isInEvenOddPathV2=function(xy){return IO(function(){return .ctx.isPointInPath(xy.x,xy.y,'evenodd');});};var n_isInNonZeroPath=function(x){return function(y){return IO(function(){return .ctx.isPointInPath(x/.ctx.canvas.width,y/.ctx.canvas.height,'nonzero');});};};var n_isInNonZeroPathV2=function(v){return IO(function(){return .ctx.isPointInPath(v.x/.ctx.canvas.width,v.y/.ctx.canvas.height,'nonzero');});};var isInNonZeroPath=function(x){return function(y){return IO(function(){return .ctx.isPointInPath(x,y,'nonzero');});};};var isInNonZeroPathV2=function(v){return IO(function(){return .ctx.isPointInPath(v.x,v.y,'nonzero');});};var n_isInStroke=function(x){return function(y){return IO(function(){return .ctx.isPointInStroke(x/.ctx.canvas.width,y/.ctx.canvas.height);});};};var n_isInStrokeV2=function(v){return IO(function(){return .ctx.isPointInStroke(v.x/.ctx.canvas.width,v.y/.ctx.canvas.height);});};var isInStroke=function(x){return function(y){return IO(function(){return .ctx.isPointInStroke(x,y);});};};var isInStrokeV2=function(v){return IO(function(){return .ctx.isPointInStroke(v.x,v.y);});};var layerIndex=IO(function(){return .ctxs.findIndex(function(ctx){return ctx===.ctx;});});var alpha=IO(function(){return .ctx.globalAlpha;});var lineCap=IO(function(){return .ctx.lineCap;});var lineJoin=IO(function(){return .ctx.lineJoin;});var textAlign=IO(function(){return .ctx.textAlign;});var textBaseline=IO(function(){return .ctx.textBaseline;});var composition=IO(function(){return .ctx.globalCompositeOperation;});var seed=IO(function(){return .seed;});var isWindowResized=IO(function(){return .isResized;});var isPointerLocked=IO(function(){return .isPointerLocked;});var beginPath=IO(function(){return .ctx.beginPath(),null;});var closePath=IO(function(){return .ctx.closePath(),null;});var n_relocateTo=function(x){return function(y){return IO(function(){return .ctx.moveTo(x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};var n_relocateToV2=function(v){return IO(function(){return .ctx.moveTo(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height),null;});};var relocateTo=function(x){return function(y){return IO(function(){return .ctx.moveTo(x,y),null;});};};var relocateToV2=function(v){return IO(function(){return .ctx.moveTo(v.x,v.y),null;});};var n_lineTo=function(x){return function(y){return IO(function(){return .ctx.lineTo(x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};var n_lineToV2=function(v){return IO(function(){return .ctx.lineTo(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height),null;});};var lineTo=function(x){return function(y){return IO(function(){return .ctx.lineTo(x,y),null;});};};var lineToV2=function(v){return IO(function(){return .ctx.lineTo(v.x,v.y),null;});};var n_bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return .ctx.bezierCurveTo(cx0*.ctx.canvas.width,cy0*.ctx.canvas.height,cx1*.ctx.canvas.width,cy1*.ctx.canvas.height,x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};};};};};var bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return .ctx.bezierCurveTo(cx0,cy0,cx1,cy1,x,y),null;});};};};};};};var n_bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return .ctx.bezierCurveTo(cxy0.x*.ctx.canvas.width,cxy0.y*.ctx.canvas.height,cxy1.x*.ctx.canvas.width,cxy1.y*.ctx.canvas.height,xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),null;});};};};var bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return .ctx.bezierCurveTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,xy.x,xy.y),null;});};};};var n_quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return .ctx.quadraticCurveTo(cx*.ctx.canvas.width,cy*.ctx.canvas.height,x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};};};var n_quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return .ctx.quadraticCurveTo(cxy.x*.ctx.canvas.width,cxy.y*.ctx.canvas.height,xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),null;});};};var quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return .ctx.quadraticCurveTo(cx,cy,x,y),null;});};};};};var quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return .ctx.quadraticCurveTo(cxy.x,cxy.y,xy.x,xy.y),null;});};};var n_arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return .ctx.arcTo(cx0*.ctx.canvas.width,cy0*.ctx.canvas.height,cx1*.ctx.canvas.width,cy1*.ctx.canvas.height,r*.ctx.canvas.width),null;});};};};};};var n_arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return .ctx.arcTo(cxy0.x*.ctx.canvas.width,cxy0.y*.ctx.canvas.height,cxy1.x*.ctx.canvas.width,cxy1.y*.ctx.canvas.height,r*.ctx.canvas.width),null;});};};};var arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return .ctx.arcTo(cx0,cy0,cx1,cy1,r),null;});};};};};};var arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return .ctx.arcTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,r),null;});};};};var n_rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null;});};};};};var n_rectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null;});};};var rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x,y,w,h),null;});};};};};var rectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.fillRect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null;});};};};};var n_fillRectV2=function(xy){return function(wh){return IO(function(){return .ctx.fillRect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null;});};};var fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.fillRect(x,y,w,h),null;});};};};};var fillRectV2=function(xy){return function(wh){return IO(function(){return .ctx.fillRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.strokeRect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null;});};};};};var n_strokeRectV2=function(xy){return function(wh){return IO(function(){return .ctx.strokeRect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null;});};};var strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.strokeRect(x,y,w,h),null;});};};};};var strokeRectV2=function(xy){return function(wh){return IO(function(){return .ctx.strokeRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),.ctx.fill(),.ctx.stroke(),null;});};};};};var n_fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),.ctx.fill(),.ctx.stroke(),null;});};};var fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x,y,w,h),.ctx.fill(),.ctx.stroke(),null;});};};};};var fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x,xy.y,wh.x,wh.y),.ctx.fill(),.ctx.stroke(),null;});};};var n_strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),.ctx.stroke(),.ctx.fill(),null;});};};};};var n_strokeFillRectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),.ctx.stroke(),.ctx.fill(),null;});};};var strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.rect(x,y,w,h),.ctx.stroke(),.ctx.fill(),null;});};};};};var strokeFillRectV2=function(xy){return function(wh){return IO(function(){return .ctx.rect(xy.x,xy.y,wh.x,wh.y),.ctx.stroke(),.ctx.fill(),null;});};};var n_area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),null;});};};};};var n_areaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.width,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.width),null;});};};var area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0,y0,x1-x0,y1-y0),null;});};};};};var areaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.fillRect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),null;});};};};};var n_fillAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.fillRect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.height),null;});};};var fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.fillRect(x0,y0,x1-x0,y1-y0),null;});};};};};var fillAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.fillRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.strokeRect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),null;});};};};};var n_strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.strokeRect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.height),null;});};};var strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.strokeRect(x0,y0,x1-x0,y1-y0),null;});};};};};var strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.strokeRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),.ctx.fill(),.ctx.stroke(),null;});};};};};var n_fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.height),.ctx.fill(),.ctx.stroke(),null;});};};var fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0,y0,x1-x0,y1-y0),.ctx.fill(),.ctx.stroke(),null;});};};};};var fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),.ctx.fill(),.ctx.stroke(),null;});};};var n_strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),.ctx.stroke(),.ctx.fill(),null;});};};};};var n_strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.height),.ctx.stroke(),.ctx.fill(),null;});};};var strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.rect(x0,y0,x1-x0,y1-y0),.ctx.stroke(),.ctx.fill(),null;});};};};};var strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),.ctx.stroke(),.ctx.fill(),null;});};};var n_arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};};var n_arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};var arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,a0,a1),null;});};};};};};var arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,a0,a1),null;});};};};};var n_strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,a1*tau),.ctx.stroke(),null;});};};};};};var n_strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,a1*tau),.ctx.stroke(),null;});};};};};var strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,a0,a1),.ctx.stroke(),null;});};};};};};var strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,a0,a1),.ctx.stroke(),null;});};};};};var n_arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};};var n_arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};var arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,a0,a0+a1),null;});};};};};};var arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,a0,a0+a1),null;});};};};};var n_strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,(a0+a1)*tau),.ctx.stroke(),null;});};};};};};var n_strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,a0*tau,(a0+a1)*tau),.ctx.stroke(),null;});};};};};var strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,a0,a0+a1),.ctx.stroke(),null;});};};};};};var strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,a0,a0+a1),.ctx.stroke(),null;});};};};};var n_circle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),null;});};};};var n_circleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),null;});};};var circle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,0,tau),null;});};};};var circleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,0,tau),null;});};};var n_fillCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.fill(),null;});};};};var n_fillCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.fill(),null;});};};var fillCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,0,tau),.ctx.fill(),null;});};};};var fillCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,0,tau),.ctx.fill(),null;});};};var n_strokeCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.stroke(),null;});};};};var n_strokeCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.stroke(),null;});};};var strokeCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,0,tau),.ctx.stroke(),null;});};};};var strokeCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,0,tau),.ctx.stroke(),null;});};};var n_fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};var n_fillStrokeCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};var fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};var fillStrokeCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};var n_strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x*.ctx.canvas.width,y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};var n_strokeFillCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height,r*.ctx.canvas.width,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};var strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return .ctx.arc(x,y,r,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};var strokeFillCircleV2=function(r){return function(v){return IO(function(){return .ctx.arc(v.x,v.y,r,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};var n_elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.width,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};var elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,a0,a1),null;});};};};};};};};var ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),null;});};};};};};var n_strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.width,kx*.ctx.canvas.width,ky*.ctx.canvas.width,a*tau,a0*tau,a1*tau),.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.width,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.width,a*tau,a0*tau,a1*tau),.ctx.stroke(),null;});};};};};};var strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,a0,a1),.ctx.stroke(),null;});};};};};};};};var strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),.ctx.stroke(),null;});};};};};};var n_ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.width,kx*.ctx.canvas.width,ky*.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.width,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),null;});};};};};};var ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),null;});};};};};};};};var ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),null;});};};};};};var n_strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.width,kx*.ctx.canvas.width,ky*.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,a0*tau,(a0+a1)*tau),.ctx.stroke(),null;});};};};};};var strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),.ctx.stroke(),null;});};};};};};};};var strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),.ctx.stroke(),null;});};};};};};var n_ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,0,tau),null;});};};};};};var n_ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,0,tau),null;});};};};var ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,0,tau),null;});};};};};};var ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),null;});};};};var n_fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,0,tau),.ctx.fill(),null;});};};};};};var n_fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,0,tau),.ctx.fill(),null;});};};};var fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,0,tau),.ctx.fill(),null;});};};};};};var fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),.ctx.fill(),null;});};};};var n_strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,0,tau),.ctx.stroke(),null;});};};};};};var n_strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,0,tau),.ctx.stroke(),null;});};};};var strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,0,tau),.ctx.stroke(),null;});};};};};};var strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),.ctx.stroke(),null;});};};};var n_fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};};};var n_fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};var fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};};};var fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),.ctx.fill(),.ctx.stroke(),null;});};};};var n_strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x*.ctx.canvas.width,y*.ctx.canvas.height,kx*.ctx.canvas.width,ky*.ctx.canvas.height,a*tau,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};};};var n_strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,kxy.x*.ctx.canvas.width,kxy.y*.ctx.canvas.height,a*tau,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};var strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return .ctx.ellipse(x,y,kx,ky,a,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};};};var strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return .ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),.ctx.stroke(),.ctx.fill(),null;});};};};var n_fillText=function(text){return function(x){return function(y){return IO(function(){return .ctx.fillText(text,x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};};var n_fillTextV2=function(text){return function(xy){return IO(function(){return .ctx.fillText(text,xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),null;});};};var fillText=function(text){return function(x){return function(y){return IO(function(){return .ctx.fillText(text,x,y),null;});};};};var fillTextV2=function(text){return function(xy){return IO(function(){return .ctx.fillText(text,xy.x,xy.y),null;});};};var n_strokeText=function(text){return function(x){return function(y){return IO(function(){return .ctx.strokeText(text,x*.ctx.canvas.width,y*.ctx.canvas.height),null;});};};};var n_strokeTextV2=function(text){return function(xy){return IO(function(){return .ctx.strokeText(text,xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),null;});};};var strokeText=function(text){return function(x){return function(y){return IO(function(){return .ctx.strokeText(text,x,y),null;});};};};var strokeTextV2=function(text){return function(xy){return IO(function(){return .ctx.strokeText(text,xy.x,xy.y),null;});};};var n_fillStrokeText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*.ctx.canvas.width;var nextY=y*.ctx.canvas.height;.ctx.fillText(text,nextX,nextY);.ctx.strokeText(text,nextX,nextY);return null;});};};};var n_fillStrokeTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*.ctx.canvas.width;var nextY=xy.y*.ctx.canvas.height;.ctx.fillText(text,nextX,nextY);.ctx.strokeText(text,nextX,nextY);return null;});};};var fillStrokeText=function(text){return function(x){return function(y){return IO(function(){return .ctx.fillText(text,x,y),.ctx.strokeText(text,x,y),null;});};};};var fillStrokeTextV2=function(text){return function(xy){return IO(function(){return .ctx.fillText(text,xy.x,xy.y),.ctx.strokeText(text,xy.x,xy.y),null;});};};var n_strokeFillText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*.ctx.canvas.width;var nextY=y*.ctx.canvas.height;.ctx.strokeText(text,nextX,nextY);.ctx.fillText(text,nextX,nextY);return null;});};};};var n_strokeFillTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*.ctx.canvas.width;var nextY=xy.y*.ctx.canvas.height;.ctx.strokeText(text,nextX,nextY);.ctx.fillText(text,nextX,nextY);return null;});};};var strokeFillText=function(text){return function(x){return function(y){return IO(function(){return .ctx.strokeText(text,x,y),.ctx.fillText(text,x,y),null;});};};};var strokeFillTextV2=function(text){return function(xy){return IO(function(){return .ctx.strokeText(text,xy.x,xy.y),.ctx.fillText(text,xy.x,xy.y),null;});};};var n_fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=.ctx.canvas.width*x;var nextY=.ctx.canvas.height*y;var nextS=.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return .ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=.ctx.canvas.width*xy.x;var nextY=.ctx.canvas.height*xy.y;var nextS=.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return .ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};var fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return .ctx.fillText(line,x,y+spacing*i);}),null;});};};};};var fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return .ctx.fillText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=.ctx.canvas.width*x;var nextY=.ctx.canvas.height*y;var nextS=.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return .ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=.ctx.canvas.width*xy.x;var nextY=.ctx.canvas.height*xy.y;var nextS=.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return .ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};var strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return .ctx.strokeText(line,x,y+spacing*i);}),null;});};};};};var strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return .ctx.strokeText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=.ctx.canvas.width*x;var nextY=.ctx.canvas.height*y;var nextS=.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){.ctx.strokeText(line,nextX,lineY);.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=.ctx.canvas.width*xy.x;var nextY=.ctx.canvas.height*xy.y;var nextS=.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){.ctx.strokeText(line,nextX,lineY);.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){.ctx.strokeText(line,x,lineY);.ctx.fillText(line,x,lineY);lineY+=spacing;});return null;});};};};};var strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){.ctx.strokeText(line,xy.x,lineY);.ctx.fillText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=.ctx.canvas.width*x;var nextY=.ctx.canvas.height*y;var nextS=.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){.ctx.fillText(line,nextX,lineY);.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=.ctx.canvas.width*xy.x;var nextY=.ctx.canvas.height*xy.y;var nextS=.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){.ctx.fillText(line,nextX,lineY);.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){.ctx.fillText(line,x,lineY);.ctx.strokeText(line,x,lineY);lineY+=spacing;});return null;});};};};};var fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){.ctx.fillText(line,xy.x,lineY);.ctx.strokeText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.moveTo(x0*.ctx.canvas.width,y0*.ctx.canvas.height),.ctx.lineTo(x1*.ctx.canvas.width,y1*.ctx.canvas.height),null;});};};};};var n_lineV2=function(xy0){return function(xy1){return IO(function(){return .ctx.moveTo(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height),.ctx.lineTo(xy1.x*.ctx.canvas.width,xy1.y*.ctx.canvas.height),null;});};};var line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.moveTo(x0,y0),.ctx.lineTo(x1,y1),null;});};};};};var lineV2=function(xy0){return function(xy1){return IO(function(){return .ctx.moveTo(xy0.x,xy0.y),.ctx.lineTo(xy1.x,xy1.y),null;});};};var n_strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.moveTo(x0*.ctx.canvas.width,y0*.ctx.canvas.height),.ctx.lineTo(x1*.ctx.canvas.width,y1*.ctx.canvas.height),.ctx.stroke(),null;});};};};};var n_strokeLineV2=function(xy0){return function(xy1){return IO(function(){return .ctx.moveTo(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height),.ctx.lineTo(xy1.x*.ctx.canvas.width,xy1.y*.ctx.canvas.height),.ctx.stroke(),null;});};};var strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.moveTo(x0,y0),.ctx.lineTo(x1,y1),.ctx.stroke(),null;});};};};};var strokeLineV2=function(xy0){return function(xy1){return IO(function(){return .ctx.moveTo(xy0.x,xy0.y),.ctx.lineTo(xy1.x,xy1.y),.ctx.stroke(),null;});};};var n_vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return .ctx.moveTo(x*.ctx.canvas.width,y*.ctx.canvas.height),.ctx.lineTo((x+dx)*.ctx.canvas.width,(y+dy)*.ctx.canvas.height),null;});};};};};var n_vectorLineV2=function(xy){return function(dxy){return IO(function(){return .ctx.moveTo(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),.ctx.lineTo((xy.x+dxy.x)*.ctx.canvas.width,(xy.y+dxy.y)*.ctx.canvas.height),null;});};};var vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return .ctx.moveTo(x,y),.ctx.lineTo(x+dx,y+dy),null;});};};};};var vectorLineV2=function(xy){return function(dxy){return IO(function(){return .ctx.moveTo(xy.x,xy.y),.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),null;});};};var n_strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return .ctx.moveTo(x*.ctx.canvas.width,y*.ctx.canvas.height),.ctx.lineTo((x+dx)*.ctx.canvas.width,(y+dy)*.ctx.canvas.height),.ctx.stroke(),null;});};};};};var n_strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return .ctx.moveTo(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),.ctx.lineTo((xy.x+dxy.x)*.ctx.canvas.width,(xy.y+dxy.y)*.ctx.canvas.height),.ctx.stroke(),null;});};};var strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return .ctx.moveTo(x,y),.ctx.lineTo(x+dx,y+dy),.ctx.stroke(),null;});};};};};var strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return .ctx.moveTo(xy.x,xy.y),.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),.ctx.stroke(),null;});};};var n_image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],cx*.image[path].width,cy*.image[path].height,cw*.image[path].width,ch*.image[path].height,x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_image',path);});};};};};};};};};};var n_imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],cxy.x*.image[path].width,cxy.y*.image[path].height,cwh.x*.image[path].width,cwh.y*.image[path].height,xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_imageV2',path);});};};};};};var image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],cx,cy,cw,ch,x,y,w,h),null):__MACRO__.err_nonexisting_image_path('image',path);});};};};};};};};};};var imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],cxy.x,cxy.y,cwh.x,cwh.y,xy.x,xy.y,wh.x,wh.y),null):__MACRO__.err_nonexisting_image_path('imageV2',path);});};};};};};var n_uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_uncroppedImage',path);});};};};};};var n_uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_uncroppedImageV2',path);});};};};var uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x,y,w,h),null):__MACRO__.err_nonexisting_image_path('uncroppedImage',path);});};};};};};var uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x,xy.y,wh.x,wh.y),null):__MACRO__.err_nonexisting_image_path('uncroppedImageV2',path);});};};};var n_fullImage=function(path){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x*.ctx.canvas.width,y*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullImage',path);});};};};var n_fullImageV2=function(path){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullImageV2',path);});};};var fullImage=function(path){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x,y),null):__MACRO__.err_nonexisting_image_path('fullImage',path);});};};};var fullImageV2=function(path){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x,xy.y),null):__MACRO__.err_nonexisting_image_path('fullImageV2',path);});};};var n_fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x*.ctx.canvas.width,y*.ctx.canvas.height,.image[path].width*k*.ctx.canvas.width,.image[path].height*k*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullScaledImage',path);});};};};};var n_fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,.image[path].width*k*.ctx.canvas.width,.image[path].height*k*.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullScaledImageV2',path);});};};};var fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x,y,.image[path].width*k,.image[path].height*k),null):__MACRO__.err_nonexisting_image_path('fullScaledImage',path);});};};};};var fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x,xy.y,.image[path].width*k,.image[path].height*k),null):__MACRO__.err_nonexisting_image_path('fullScaledImageV2',path);});};};};var n_squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,w*.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_squareImage',path);});};};};};var n_squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,w*.ctx.canvas.width,w*.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_squareImageV2',path);});};};};var squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],x,y,w,w),null):__MACRO__.err_nonexisting_image_path('squareImage',path);});};};};};var squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return .image[path]?(.ctx.drawImage(.image[path],xy.x,xy.y,w,w),null):__MACRO__.err_nonexisting_image_path('squareImageV2',path);});};};};var n_clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.clearRect(x*.ctx.canvas.width,y*.ctx.canvas.height,w*.ctx.canvas.width,h*.ctx.canvas.height),null;});};};};};var n_clearRectV2=function(xy){return function(wh){return IO(function(){return .ctx.clearRect(xy.x*.ctx.canvas.width,xy.y*.ctx.canvas.height,wh.x*.ctx.canvas.width,wh.y*.ctx.canvas.height),null;});};};var clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return .ctx.clearRect(x,y,w,h),null;});};};};};var clearRectV2=function(xy){return function(wh){return IO(function(){return .ctx.clearRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.clearRect(x0*.ctx.canvas.width,y0*.ctx.canvas.height,(x1-x0)*.ctx.canvas.width,(y1-y0)*.ctx.canvas.height),null;});};};};};var n_clearAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.clearRect(xy0.x*.ctx.canvas.width,xy0.y*.ctx.canvas.height,(xy1.x-xy0.x)*.ctx.canvas.width,(xy1.y-xy0.y)*.ctx.canvas.height),null;});};};var clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return .ctx.clearRect(x0,y0,x1-x0,y1-y0),null;});};};};};var clearAreaV2=function(xy0){return function(xy1){return IO(function(){return .ctx.clearRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var clearLayer=IO(function(){return .ctx.clearRect(0,0,.ctx.canvas.width,.ctx.canvas.height),null;});var clearCanvas=IO(function(){return .ctxs.forEach(function(ctx){return ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}),null;});var fill=IO(function(){return .ctx.fill(),null;});var stroke=IO(function(){return .ctx.stroke(),null;});var clipEvenOdd=IO(function(){return .ctx.clip('evenodd'),null;});var clipNonZero=IO(function(){return .ctx.clip('nonzero'),null;});var n_rotateLayer=function(angle){return IO(function(){return .ctx.rotate(angle*tau),null;});};var rotateLayer=function(angle){return IO(function(){return .ctx.rotate(angle),null;});};var n_translateLayerX=function(dx){return IO(function(){return .ctx.translate(dx*.ctx.canvas.width,0),null;});};var n_translateLayerY=function(dy){return IO(function(){return .ctx.translate(0,dy*.ctx.canvas.height),null;});};var n_translateLayer=function(dx){return function(dy){return IO(function(){return .ctx.translate(dx*.ctx.canvas.width,dy*.ctx.canvas.height),null;});};};var n_translateLayerV2=function(v){return IO(function(){return .ctx.translate(v.x*.ctx.canvas.width,v.y*.ctx.canvas.height),null;});};var translateLayerX=function(dx){return IO(function(){return .ctx.translate(dx,0),null;});};var translateLayerY=function(dy){return IO(function(){return .ctx.translate(0,dy),null;});};var translateLayer=function(dx){return function(dy){return IO(function(){return .ctx.translate(dx,dy),null;});};};var translateLayerV2=function(v){return IO(function(){return .ctx.translate(v.x,v.y),null;});};var scaleLayer=function(k){return IO(function(){return .ctx.scale(k,k),null;});};var scaleLayerAxisX=function(kx){return IO(function(){return .ctx.scale(kx,1),null;});};var scaleLayerAxisY=function(ky){return IO(function(){return .ctx.scale(1,ky),null;});};var scaleLayerAxis=function(kx){return function(ky){return IO(function(){return .ctx.scale(kx,ky),null;});};};var scaleLayerAxisV2=function(kxy){return IO(function(){return .ctx.scale(kxy.x,kxy.y),null;});};var resetTransformation=IO(function(){return .ctx.resetTransform(),null;});var n_setCanvasWidth=function(w){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth;}),null;});};var setCanvasWidth=function(w){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=w;}),null;});};var n_setCanvasHeight=function(h){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.height=h*innerHeight;}),null;});};var setCanvasHeight=function(h){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.height=h;}),null;});};var n_setCanvasDimensions=function(w){return function(h){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth,ctx.canvas.height=h*innerHeight;}),null;});};};var n_setCanvasDimensionsV2=function(wh){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x*innerWidth,ctx.canvas.height=wh.y*innerHeight;}),null;});};var setCanvasDimensions=function(w){return function(h){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=w,ctx.canvas.height=h;}),null;});};};var setCanvasDimensionsV2=function(wh){return IO(function(){return .ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x,ctx.canvas.height=wh.y;}),null;});};var n_setLineThickness=function(thickness){return IO(function(){return .ctx.lineWidth=thickness*.ctx.canvas.width,null;});};var setLineThickness=function(thickness){return IO(function(){return .ctx.lineWidth=thickness,null;});};var n_setLineDashPattern=function(pattern){return IO(function(){return .ctx.setLineDash(listToArray(pattern).map(function(x){return x*.ctx.canvas.width;})),null;});};var setLineDashPattern=function(pattern){return IO(function(){return .ctx.setLineDash(listToArray(pattern)),null;});};var n_setLineDashOffset=function(offset){return IO(function(){return .ctx.lineDashOffset=offset*.ctx.canvas.width,null;});};var setLineDashOffset=function(offset){return IO(function(){return .ctx.lineDashOffset=offset,null;});};var setFontStyle=function(font){return IO(function(){return .ctx.font=font,null;});};var n_setFontSize=function(size){return IO(function(){return .ctx.font="".concat(size*.ctx.canvas.width,"px").concat(.ctx.font.slice(.ctx.font.indexOf(' '))),null;});};var setFontSize=function(size){return IO(function(){return .ctx.font="".concat(size,"px").concat(.ctx.font.slice(.ctx.font.indexOf(' '))),null;});};var setFontFamily=function(family){return IO(function(){return .ctx.font="".concat(parseFloat(.ctx.font),"px \"").concat(family,"\""),null;});};var n_setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.shadowColor="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var setShadowRGBAV4=function(v){return IO(function(){return .ctx.shadowColor="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.shadowColor="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var n_setShadowRGBAV4=function(v){return IO(function(){return .ctx.shadowColor="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w*255,")"),null;});};var n_setShadowOffsetX=function(x){return IO(function(){return .ctx.shadowOffsetX=x*.ctx.canvas.width,null;});};var setShadowOffsetX=function(x){return IO(function(){return .ctx.shadowOffsetX=x,null;});};var n_setShadowOffsetY=function(y){return IO(function(){return .ctx.shadowOffsetY=y*.ctx.canvas.height,null;});};var setShadowOffsetY=function(y){return IO(function(){return .ctx.shadowOffsetY=y,null;});};var n_setShadowOffset=function(x){return function(y){return IO(function(){return .ctx.shadowOffsetX=x*.ctx.canvas.width,.ctx.shadowOffsetY=y*.ctx.canvas.height,null;});};};var setShadowOffset=function(x){return function(y){return IO(function(){return .ctx.shadowOffsetX=x,.ctx.shadowOffsetY=y,null;});};};var n_setShadowOffsetV2=function(xy){return IO(function(){return .ctx.shadowOffsetX=xy.x*.ctx.canvas.width,.ctx.shadowOffsetY=xy.y*.ctx.canvas.height,null;});};var setShadowOffsetV2=function(xy){return IO(function(){return .ctx.shadowOffsetX=xy.x,.ctx.shadowOffsetY=xy.y,null;});};var setShadowColor=function(color){return IO(function(){return .ctx.shadowColor=color,null;});};var n_setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.fillStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setFillRGBAV4=function(v){return IO(function(){return .ctx.fillStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.fillStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setFillRGBAV4=function(v){return IO(function(){return .ctx.fillStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var n_setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.strokeStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setStrokeRGBAV4=function(v){return IO(function(){return .ctx.strokeStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctx.strokeStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setStrokeRGBAV4=function(v){return IO(function(){return .ctx.strokeStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setFillColor=function(color){return IO(function(){return .ctx.fillStyle=color,null;});};var setStrokeColor=function(color){return IO(function(){return .ctx.strokeStyle=color,null;});};var setMiterLimit=function(limit){return IO(function(){return .ctx.miterLimit=limit,null;});};var setShadowBlurAmount=function(amount){return IO(function(){return .ctx.shadowBlur=amount,null;});};var setAlpha=function(alpha1){return IO(function(){return .ctx.globalAlpha=alpha1,null;});};var setLineCap=function(linecap){return IO(function(){return .ctx.lineCap=linecap,null;});};var setLineJoin=function(linejoin){return IO(function(){return .ctx.lineJoin=linejoin,null;});};var setTextAlign=function(alignment){return IO(function(){return .ctx.textAlign=alignment,null;});};var setTextBaseline=function(baseline){return IO(function(){return .ctx.textBaseline=baseline,null;});};var setComposition=function(composition1){return IO(function(){return .ctx.globalCompositeOperation=composition1,null;});};var setToCenteredTextStyle=IO(function(){return .ctx.textAlign='center',.ctx.textBaseline='middle',null;});var setToDefaultTextStyle=IO(function(){return .ctx.textAlign='start',.ctx.textBaseline='alphabetic',null;});var setActiveLayer=function(index){return IO(function(){return index>=0&&index<.ctxs.length&&Number.isInteger(index)?(.ctx=.ctxs[index],null):__MACRO__.err_layer_index('setActiveLayer',index);});};var loadFont=function(path){return IO(function(){return new FontFace(path.slice(path.lastIndexOf('/')+1,path.lastIndexOf('.')),"url(".concat(path,")")).load().then(function(font){return document.fonts.add(font);}).catch(function(){console.error("'loadFont' could not load font");console.dir("Signature : loadFont (<PATH>)");console.dir("<PATH> =",path);return halt;}),null;});};var loadImage=function(path){return IO(function(){.image[path]=new Image;.image[path].src=path;.image[path].onerror=function(){console.error("'loadImage' could not load image");console.dir("Signature : loadImage (<PATH>)");console.dir("<PATH> =",path);return halt;};return null;});};var loadAudio=function(path){return IO(function(){.audio[path]=new Audio(path);.audio[path].onerror=function(){console.error("'loadAudio' could not load audio");console.dir("Signature : loadAudio (<PATH>)");console.dir("<PATH> =",path);return halt;};return null;});};var setAudioTime=function(path){return function(time1){return IO(function(){if(.audio[path]){if(time1>=0&&time1<=.audio[path].duration){.audio[path].currentTime=time1;return null;}else{console.error("'setAudioTime' only takes numbers in interval [0, ".concat(.audio[path].duration,"] for given audio file"));console.dir("Signature : setAudioTime (<PATH>) (<TIME>");console.dir("<PATH> =",path);console.dir("<TIME> =",time1);return halt;}}else{console.error("'setAudioTime' received an unloaded (possibly non-existing) audio path");console.dir("Signature : setAudioTime (<PATH>) (<TIME>");console.dir("<PATH> =",path);console.dir("<TIME> =",time1);return halt;}});};};var resetAudio=function(path){return IO(function(){return .audio[path]?(.audio[path].pause(),.audio[path].currentTime=0,null):__MACRO__.err_nonexisting_audio_path('resetAudio',path);});};var playAudio=function(path){return IO(function(){return .audio[path]?(.audio[path].play(),null):__MACRO__.err_nonexisting_audio_path('playAudio',path);});};var pauseAudio=function(path){return IO(function(){return .audio[path]?(.audio[path].pause(),null):__MACRO__.err_nonexisting_audio_path('pauseAudio',path);});};var playSFX=function(path){return IO(function(){return .audio[path]?(.audio[path].cloneNode().play(),null):__MACRO__.err_nonexisting_audio_path('playSFX',path);});};var saveCanvasState=IO(function(){return .ctx.save(),null;});var restoreCanvasState=IO(function(){return .ctx.restore(),null;});var requestPointerLock=IO(function(){return document.onmouseup=function(){return .isPointerLocked||.ctxs[0].canvas.requestPointerLock();},null;});var deactivatePointerLock=IO(function(){return document.exitPointerLock(),document.onmouseup=null;});var queueIO=function(io){return IO(function(){for(var k in .keyboard).keyboard[k]=iterateButtonState(.keyboard[k]);for(var i in .mouseButtons).mouseButtons[i]=iterateButtonState(.mouseButtons[i]);.mouseDX=.mouseDY=0;.mouseScroll='Zero';.isResized=false;requestAnimationFrame(io.effect);return null;});};var lqueueIO=function(lio){return IO(function(){return queueIO(lio()).effect();});};var setCanvasBackgroundColor=function(color){return IO(function(){return .ctxs[0].canvas.style.background=color,null;});};var setCanvasBackgroundRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return .ctxs[0].canvas.style.background="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setCanvasBackgroundRGBAV4=function(rgba){return IO(function(){return .ctxs[0].canvas.style.background="rgba(".concat(rgba.x,",").concat(rgba.y,",").concat(rgba.z,",").concat(rgba.w,")"),null;});};var setWindowBackgroundColor=function(color){return IO(function(){return document.body.style.background=color,null;});};var setWindowBackgroundRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return document.body.style.background="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setWindowBackgroundRGBAV4=function(rgba){return IO(function(){return document.body.style.background="rgba(".concat(rgba.x,",").concat(rgba.y,",").concat(rgba.z,",").concat(rgba.w,")"),null;});};var Do_IO=send(SCOPE);var Do_Process=Process(function(s){return Pair(s,SCOPE);});var Do_Maybe=Just(SCOPE);var Do_List=singleton(SCOPE);onload=function(){.ctxs=Array.from(document.querySelectorAll('canvas')).map(function(x){return x.getContext('2d');});.ctx=.ctxs[0];onresize=function(){return clearTimeout(.resizeID),.resizeID=setTimeout(function(){return .isResized=true;},250);};onmouseup=function(ev){console.log('toUp!');.mouseButtons[ev.button]='toUp';};onmousedown=function(ev){return .mouseButtons[ev.button]='toDown';};onkeyup=function(ev){return .keyboard[ev.code]='toUp';};onkeydown=function(ev){return ev.repeat?null:.keyboard[ev.code]='toDown';};onwheel=function(ev){return .mouseScroll=ev.deltaY<0?'Positive':ev.deltaY>0?'Negative':'Zero';};onmousemove=function(ev){.mouseWX=ev.x,.mouseWY=ev.y,.mouseCX=ev.clientX-.ctxs[0].canvas.offsetLeft,.mouseCY=ev.clientY-.ctxs[0].canvas.offsetTop,.mouseSX=ev.screenX,.mouseSY=ev.screenY,.mouseDX=ev.movementX,.mouseDY=ev.movementY;};document.onpointerlockchange=function(){return .isPointerLocked=document.pointerLockElement===.ctxs[0].canvas;};.ctxs[0].canvas.setAttribute("style","background:white");if(typeof window.main!=='undefined')window.main.effect();};
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}var _typeof=function(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;};var _console;var MAX=2048;var SCOPE=Object.create(null);Object.defineProperty(this,"halt",{get:function(){throw "| LoveLace halted due to an error";}});Object.defineProperty(this,"never",{get:function(){throw "| Unexhuastive pattern matching reaches 'never'";}});var keyboardKeysArray=['AltLeft','AltRight','ArrowDown','ArrowLeft','ArrowRight','ArrowUp','Backquote','Backslash','Backspace','BracketLeft','BracketRight','CapsLock','Comma','ControlLeft','ControlRight','Delete','NumpadAdd','NumpadDecimal','NumpadDivide','NumpadEnter','NumpadMultiply','NumpadSubtract','PageUp','Pagedown','Period','Quote','Semicolon','ShiftLeft','ShiftRight','Slash','End','Enter','Equal','Home','Insert','Minus','Space','Tab','Digit0','Digit1','Digit2','Digit3','Digit4','Digit5','Digit6','Digit7','Digit8','Digit9','Numpad0','Numpad1','Numpad2','Numpad3','Numpad4','Numpad5','Numpad6','Numpad7','Numpad8','Numpad9','KeyA','KeyB','KeyC','KeyD','KeyE','KeyF','KeyG','KeyH','KeyI','KeyJ','KeyK','KeyL','KeyM','KeyN','KeyO','KeyP','KeyQ','KeyR','KeyS','KeyT','KeyU','KeyV','KeyW','KeyX','KeyY','KeyZ'];var __MACRO__={clickx:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(Ψ.mouseCX):Nothing;});},clicky:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(Ψ.mouseCY):Nothing;});},clickv:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(V2(Ψ.mouseCX,Ψ.mouseCY)):Nothing;});},n_clickx:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(Ψ.mouseCX/Ψ.ctx.canvas.width):Nothing;});},n_clicky:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(Ψ.mouseCY/Ψ.ctx.canvas.height):Nothing;});},n_clickv:function(i){return IO(function(){return Ψ.mouseButtons[i][0]==='toDown'?Just(V2(Ψ.mouseCX/Ψ.ctx.canvas.width,Ψ.mouseCY/Ψ.ctx.canvas.height)):Nothing;});},err_nonexisting_image_path:function(funcName,path){console.error("'".concat(funcName,"' received an unloaded (possibly non-existing) image path"));console.dir("Signature : ".concat(funcName," (<PATH>)"));console.dir("<PATH> =",path);return halt;},err_nonexisting_audio_path:function(funcName,path){console.error("'".concat(funcName,"' received an unloaded (possibly non-existing) audio path"));console.dir("Signature : ".concat(funcName," (<PATH>)"));console.dir("<PATH> =",path);return halt;},err_layer_index:function(funcName,index){console.error("'".concat(funcName,"' only takes an integer in the interval [0, ").concat(Ψ.ctxs.length,") for an index"));console.dir("Signature : ".concat(clearLayer," (<INDEX>)"));console.dir("<INDEX> =",index);return halt;},default_implementation_list_eq:function(xs){return function(ys){var ref;if(xs.variation===ys.variation){if(xs.variation==='Nil')return true;else if(((ref=xs.head)===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.eq' cannot compare the elements of the given Lists that does not implement '.eq'");console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | Error originated from Macro");console.dir("<LEFTSIDE>  =",xs);console.dir("<RIGHTSIDE> =",ys);return halt;}else{var xs_=xs;var ys_=ys;for(var i=0;xs_.variation==='Cons'&&ys_.variation==='Cons';++i)if(i===MAX){console.error("'.eq' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | Error originated from Macro'");console.dir("<LEFTSIDE>  =",xs);console.dir("<RIGHTSIDE> =",ys);return halt;}else if(xs_.head.eq(ys_.head))xs_=xs_.tail,ys_=ys_.tail;else return false;return xs_.variation===ys_.variation;}}else return false;};},default_implementation_list_show:function(xs){var ref;if(xs.$show===undefined){if(((ref=xs.head)===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.show' cannot stringify the elements of the List that does not implement '.show'");console.dir("Signature : <VALUE> .show | Error orignated from Macro");console.dir("<VALUE> =",xs);return halt;}else{var str="List (";var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.show' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <VALUE> .show | Error originated from Macro");console.dir("<VALUE>  =",xs);return halt;}else str+="".concat(xs_.head.show,", "),xs_=xs_.tail;return "".concat(str.slice(0,-2),")");}}else return xs.$show;}};var e=Math.E;var pi=Math.PI;var tau=2*Math.PI;var ln2=Math.LN2;var ln10=Math.LN10;var log2e=Math.LOG2E;var log10e=Math.LOG10E;var sqrt2=Math.SQRT2;var invsqrt2=Math.SQRT1_2;var id=function(value){return value;};var constant=function(value){return function(_){return value;};};var eqeqeq=function(leftside){return function(rightside){return leftside===rightside;};};var mod=function(num){return function(modulo){return num%modulo;};};var pow=function(num){return function(modulo){return num%modulo;};};var min=function(x){return function(y){return Math.min(x,y);};};var max=function(x){return function(y){return Math.max(x,y);};};var abs=Math.abs;var sin=Math.sin;var cos=Math.cos;var tan=Math.tan;var sqrt=Math.sqrt;var ln=Math.log;var log2=Math.log2;var log10=Math.log10;var toStr=function(obj){return obj.toString();};var concat=function(str){return function(ing){return str+ing;};};var postconcat=function(ing){return function(str){return ing+str;};};var uppercase=function(str){return str.toUpperCase();};var lowercase=function(str){return str.toLowerCase();};var trim=function(str){return str.trim();};var removeSubstr=function(substr){return function(str){return str.replaceAll(substr,"");};};var removeRegex=function(regex){return function(str){return str.replace(regex,"");};};var replaceSubstr=function(substr){return function(replacement){return function(str){return str.replaceAll(substr,replacement);};};};var replaceRegex=function(regex){return function(replacement){return function(str){return str.replace(regex,replacement);};};};var toFixed=function(places){return function(num){return num.toFixed(places);};};var roundToString=function(places){return function(num){return num.toFixed(places).replace(/0+$/,"").replace(/\.$/,"");};};var diff=function(x){return function(y){return Math.abs(x-y);};};var lerp=function(time){return function(start){return function(end){return start+(end-start)*time;};};};var flip=function(f){return function(y){return function(x){return f(x)(y);};};};var notf=function(predicate){return function(value){return !predicate(value);};};var isFactor=function(factor){return function(num){return factor%num===0;};};var eq=function(leftside){return function(rightside){return leftside.eq(rightside);};};var show=function(value){return value.show;};var add=function(firstAddend){return function(secondAddend){return firstAddend.add(secondAddend);};};var sub=function(minuend){return function(subtrahend){return minuend.sub(subtrahend);};};var minus=function(subtrahend){return function(minuend){return minuend.sub(subtrahend);};};var negate=function(value){return value.negate;};var mul=function(firstFactor){return function(secondFactor){return firstFactor.mul(secondFactor);};};var div=function(divisor){return function(dividend){return divisor.div(dividend);};};var reciprocate=function(value){return value.reciprocate;};var vmap=function(morphism){return function(vector){return vector.vmap(morphism);};};var norm=function(vector){return vector.norm;};var normalize=function(vector){return vector.normalize;};Object.defineProperties(Boolean.prototype,{variation:{value:'Boolean'},pipe:{get:function(){return (function(f){return f(!!+this);}).bind(this);}},eq:{get:function(){return (function(b){return !!+this===b;}).bind(this);}},show:{get:function(){return this.toString();}}});Object.defineProperties(Number.prototype,{variation:{value:'Number'},pipe:{get:function(){return (function(f){return f(+this);}).bind(this);}},eq:{get:function(){return (function(n){return +this===n;}).bind(this);}},show:{get:function(){return this.toString();}},add:{get:function(){return (function(n){return this+n;}).bind(this);}},sub:{get:function(){return (function(n){return this-n;}).bind(this);}},negate:{get:function(){return (function(n){return -this;}).bind(this);}},mul:{get:function(){return (function(n){return this*n;}).bind(this);}},div:{get:function(){return (function(n){return this/n;}).bind(this);}},reciprocate:{get:function(){return (function(n){return 1/this;}).bind(this);}}});Object.defineProperties(String.prototype,{variation:{value:'String'},pipe:{get:function(){return (function(f){return f(this.toString());}).bind(this);}},eq:{get:function(){return (function(s){return this.toString()===s;}).bind(this);}},show:{get:function(){return "\"".concat(this.toString(),"\"");}}});Object.defineProperties(Array.prototype,{variation:{value:'Array'},pipe:{get:function(){return (function(f){return f(this);}).bind(this);}},eq:{get:function(){return (function(array){var ref;if(this.length===array.length){if(this.length===0)return true;else if(((ref=this[0])===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.eq' cannot compare the elements of the given arrays that does not implement '.eq'");console.dir("Signature : (<LEFTSIDE>) .eq  (<RIGHTSIDE>)");console.dir("<LEFTSIDE>  =",this);console.dir("<RIGHTSIDE> =",array);return halt;}else{for(var i=0;i<this.length;++i)if(!this[i].eq(array[i]))return false;return true;}}else return false;}).bind(this);}},show:{get:function(){var ref;if(this.length===0)return "[]";else if(((ref=this[0])===null||ref=== void 0?void 0:ref.show)===undefined){console.error("'.show' cannot stringify the elements of an array that does not implement '.show'");console.dir("Signature : (<VALUE>) .show");console.dir("<VALUE> =",this);return halt;}else return "[".concat(this.map(function(element){return element.show;}).join(", "),"]");}}});var IO=function(effect){return {variation:'IO',effect:effect,pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(effect()).effect();});},fmap:function(f){return IO(function(){return f(effect());});},bindto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($).effect()));});};},fmapto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($)));});};},then:function(io){return IO(function(){return effect(),io.effect();});},cast:function(x){return IO(function(){return effect(),x;});},call:function(f){return IO(function(){var x=effect();return f(x).effect(),x;});},side:function(io){return IO(function(){var x=effect();return io.effect(),x;});}};};var Process=function(computation){return {variation:'Process',pipe:function(f){return f(this);},bind:function(f){return Process(function(s){var p=computation(s);return f(p.snd).computation(p.fst);});},fmap:function(f){return Process(function(s){var p=computation(s);return Pair(p.fst,f(p.snd));});},bindto:function(k){return function(f){return Process(function(s){var p0=computation(s);var p1=f(p0.snd).computation(p0.fst);return Pair(p1.fst,_objectSpread({},p0.snd,_defineProperty({},k,p1.snd)));});};},fmapto:function(k){return function(f){return Process(function(s){var p=computation(s);return Pair(p.fst,_objectSpread({},p.snd,_defineProperty({},k,f(p.snd))));});};},then:function(p){return Process(function(s){return p.computation(computation(s).fst);});},cast:function(x){return Process(function(s){return Pair(computation(s).fst,x);});},call:function(f){return Process(function(s){var p=computation(s);return Pair(f(p.snd).computation(p.fst).fst,p.snd);});},side:function(p){return Process(function(s){var pr=computation(s);return Pair(p.computation(pr.fst).fst,pr.snd);});},computation:computation};};var Nothing={variation:'Nothing',$show:'Nothing',show:'Nothing',eq:function(m){return m===Nothing;},pipe:function(f){return f(Nothing);},bind:function(_){return Nothing;},fmap:function(_){return Nothing;},bindto:function(_){return function(_1){return Nothing;};},fmapto:function(_){return function(_1){return Nothing;};}};var Just=(function(value){return {variation:'Just',pipe:function(f){return f(this);},eq:function(m){var ref;if(m.variation==='Nothing')return false;else if(((ref=value)===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.eq' cannot compare the two given Maybe values that does not implement '.eq'");console.dir("Signature : Just (<LEFTSIDE>) .eq (Just (<RIGHTSIDE>))");console.dir("<LEFTSIDE>  =",value);console.dir("<RIGHTSIDE> =",m.value);return halt;}else return value.eq(m.value);},get show (){var ref;if(this.$show===undefined){if(((ref=value)===null||ref=== void 0?void 0:ref.show)===undefined){console.error("'.show' cannot stringify the given Maybe value as it does not implement '.show'");console.dir("Signature : Just (<VALUE>) .show");console.dir("<VALUE> =",value);return halt;}else return this.$show="Just (".concat(value.show,")");}else return this.$show;},bind:function(f){return f(value);},fmap:function(f){return Just(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return Just(_objectSpread({},value,_defineProperty({},k,f(value))));};},value:value};}).bind(this);var Nil={variation:'Nil',$show:'List ()',show:'List ()',pipe:function(f){return f(Nil);},eq:function(xs){return xs===Nil;},get $reverse (){return this;},$len:0,bind:function(_){return Nil;},fmap:function(_){return Nil;},fmapto:function(_){return function(_1){return Nil;};},bindto:function(_){return function(_1){return Nil;};},link:id};var Cons=(function(lvalue){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},eq:function(xs){var ref;if(xs.variation==='Nil')return false;else if(((ref=this.head)===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.eq' cannot compare the elements of the given Lists that does not implement '.eq'");console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | <LEFTSIDE> originated from 'Cons'");console.dir("<LEFTSIDE>  =",this);console.dir("<RIGHTSIDE> =",xs);return halt;}else{var this_=this;var xs_=xs;for(var i=0;this_.variation==='Cons'&&xs_.variation==='Cons';++i)if(i===MAX){console.error("'.eq' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | <LEFTSIDE> originated from 'Cons'");console.dir("<LEFTSIDE>  =",this);console.dir("<RIGHTSIDE> =",xs);return halt;}else if(this_.head.eq(xs_.head))this_=this_.tail,xs_=xs_.tail;else return false;return this_.variation===xs_.variation;}},get show (){var ref;if(this.$show===undefined){if(((ref=this.head)===null||ref=== void 0?void 0:ref.eq)===undefined){console.error("'.show' cannot stringify the elements of the List that does not implement '.show'");console.dir("Signature : <VALUE> .show | <VALUE> originated from 'Cons'");console.dir("<VALUE> =",this);return halt;}else{var str="";var this_=this;for(var i=0;this_.variation==='Cons';++i)if(i===MAX){console.error("'.show' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <VALUE> .show | <VALUE> originated from 'Cons'");return halt;}else str+="".concat(this_.head.show,", "),this_=this_.tail;return this.$show="List (".concat(str.slice(0,-2),")");}}else return this.$show;},get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=lvalue();},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=lxs();},bind:function(f){var xs=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'Cons'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var xs=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'Cons'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.tail.bindto(k)(f));});}else xs=xs.tail;}return Nil;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var IOMaybe=function(effect){return {variation:'IOMaybe',pipe:function(f){return f(this);},bind:function(f){return IOMaybe(function(){return effect().bind(function(x){return f(x).effect();});});},fmap:function(f){return IOMaybe(function(){return effect().fmap(f);});},bindto:function(k){return function(f){return IOMaybe(function(){return effect().bindto(k)(f);});};},fmapto:function(k){return function(f){return IOMaybe(function(){return effect().fmapto(k)(f);});};},then:function(iom){return IOMaybe(function(){return effect().variation==='Nothing'?Nothing:iom.effect();});},cast:function(x){return IOMaybe(function(){return effect().variation==='Nothing'?Nothing:Just(x);});},call:function(f){return IOMaybe(function(){var maybeX=effect();if(maybeX.variation==='Just')f(maybeX.value).effect();return maybeX;});},side:function(iom){return IOMaybe(function(){var maybeX=effect();if(maybeX.variation==='Just')iom.effect();return maybeX;});},effect:effect};};var Pair=(function(fst,snd){return {variation:'Pair',pipe:function(f){return f(this);},eq:function(p){var ref,ref1;if(((ref=fst)===null||ref=== void 0?void 0:ref.eq)===undefined||((ref1=snd)===null||ref1=== void 0?void 0:ref1.eq)===undefined){console.error("'.eq' cannot compare Pair values that do not implement '.eq'");console.dir("Signature : Pair (<LEFTSIDE_FST>, <LEFTSIDE_SND>) .eq (Pair (<RIGHTSIDE_FST, RIGHTSIDE_SND>))");console.dir("<LEFTSIDE_FST> =",fst);console.dir("<LEFTSIDE_SND> =",snd);console.dir("<RIGHTSIDE_FST> =",p.fst);console.dir("<RIGHTSIDE_SND> =",p.snd);return halt;}else return fst.eq(p.fst)&&snd.eq(p.snd);},get show (){var ref,ref1;if(this.$show===undefined){if(((ref=fst)===null||ref=== void 0?void 0:ref.show)===undefined||((ref1=snd)===null||ref1=== void 0?void 0:ref1.show)===undefined){console.error("'.show' cannot stringify Pair values that do not implement '.show'");console.dir("Signature : Pair (<FST>, <SND>) .show");console.dir("<FST> =",fst);console.dir("<SND> =",snd);return halt;}else return this.$show="Pair (".concat(fst.show,", ").concat(snd.show,")");}else return this.$show;},fst:fst,snd:snd};}).bind(this);var Left=(function(value){return {variation:'Left',pipe:function(f){return f(this);},eq:function(er){var ref5;if(er.variation==='Left')return false;else if(((ref5=value)===null||ref5=== void 0?void 0:ref5.eq)===undefined){console.error("'.eq' cannot compare Left values that do not implement '.eq'");console.dir("Signature : Left (<LEFTSIDE>) .eq (Left (<RIGHTSIDE>))");console.dir("<LEFTSIDE> =",value);console.dir("<RIGHTSIDE> =",er.value);return halt;}else return value.eq(er.value);},get show (){var ref5;if(this.$show===undefined){if(((ref5=value)===null||ref5=== void 0?void 0:ref5.show)===undefined){console.error("'.show' cannot stringify a Left value that does not implement '.show'");console.dir("Signature : Left (<VALUE>) .show");console.dir("<VALUE> =",value);return halt;}else return this.$show="Left (".concat(value.show,")");}else return this.$show;},value:value};}).bind(this);var Right=(function(value){return {variation:'Right',pipe:function(f){return f(this);},eq:function(er){var ref6;if(er.variation==='Left')return false;else if(((ref6=value)===null||ref6=== void 0?void 0:ref6.eq)===undefined){console.error("'.eq' cannot compare Right values that do not implement '.eq'");console.dir("Signature : Right (<LEFTSIDE>) .eq (Right (<RIGHTSIDE>))");console.dir("<LEFTSIDE> =",value);console.dir("<RIGHTSIDE> =",er.value);return halt;}else return value.eq(er.value);},get show (){var ref6,ref7;if(this.$show===undefined){if(((ref6=value)===null||ref6=== void 0?void 0:ref6.show)===undefined){console.error("'.show' cannot stringify a Right value that does not implement '.show'");console.dir("Signature : Right (<VALUE>) .show");console.dir("<VALUE> =",value);return halt;}else return this.$show="Right (".concat((ref7=value)===null||ref7=== void 0?void 0:ref7.show,")");}else return this.$show;},value:value};}).bind(this);var V2=(function(x,y){return {variation:'V2',pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y;},get show (){return "V2 (".concat(x,", ").concat(y,")");},add:function(v){return V2(x+v.x,y+v.y);},sub:function(v){return V2(x-v.x,y-v.y);},get negate (){return V2(-x,-y);},mul:function(v){return V2(x*v.x,y*v.y);},div:function(v){return V2(x/v.x,y/v.y);},get reciprocate (){return V2(1/x,1/y);},vmap:function(f){return V2(f(x),f(y));},get norm (){var _$norm;return _$norm=(_$norm=this.$norm)!==null&&_$norm!== void 0?_$norm:this.$norm=Math.sqrt(x**2+y**2);},get normalize (){var _$normalize;return _$normalize=(_$normalize=this.$normalize)!==null&&_$normalize!== void 0?_$normalize:this.$normalize=V2(x/this.norm,y/this.$norm);},x:x,y:y};}).bind(this);var V3=(function(x,y,z){return {variation:'V3',pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z;},get show (){return "V3 (".concat(x,", ").concat(y,", ").concat(z,")");},add:function(v){return V3(x+v.x,y+v.y,z+v.z);},sub:function(v){return V3(x-v.x,y-v.y,z-v.z);},get negate (){return V3(-x,-y,-z);},mul:function(v){return V3(x*v.x,y*v.y,z*v.z);},div:function(v){return V3(x/v.x,y/v.y,z/v.z);},get reciprocate (){return V3(1/x,1/y,1/z);},vmap:function(f){return V3(f(x),f(y),f(z));},get norm (){var _$norm;return _$norm=(_$norm=this.$norm)!==null&&_$norm!== void 0?_$norm:this.$norm=Math.sqrt(x**2+y**2+z**2);},get normalize (){var _$normalize;return _$normalize=(_$normalize=this.$normalize)!==null&&_$normalize!== void 0?_$normalize:this.$normalize=V3(x/this.norm,y/this.$norm,z/this.$norm);},x:x,y:y,z:z};}).bind(this);var V4=(function(x,y,z,w){return {variation:'V4',pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z&&v.w===w;},get show (){return "V4 (".concat(x,", ").concat(y,", ").concat(z,", ").concat(w,")");},add:function(v){return V4(x+v.x,y+v.y,z+v.z,w+v.w);},sub:function(v){return V4(x-v.x,y-v.y,z-v.z,w-v.w);},get negate (){return V4(-x,-y,-z,-w);},mul:function(v){return V4(x*v.x,y*v.y,z*v.z,w*v.w);},div:function(v){return V4(x/v.x,y/v.y,z/v.z,w/v.w);},get reciprocate (){return V4(1/x,1/y,1/z,1/w);},vmap:function(f){return V4(f(x),f(y),f(z),f(w));},get norm (){var _$norm;return _$norm=(_$norm=this.$norm)!==null&&_$norm!== void 0?_$norm:this.$norm=Math.sqrt(x**2+y**2+z**2+w**2);},get normalize (){var _$normalize;return _$normalize=(_$normalize=this.$normalize)!==null&&_$normalize!== void 0?_$normalize:this.$normalize=V4(x/this.norm,y/this.$norm,z/this.$norm,w/this.$norm);},x:x,y:y,z:z,w:w};}).bind(this);var send=function(value){return {variation:'IO',pipe:function(f){return f(this);},bind:function(f){return f(value);},fmap:function(f){return send(f(value));},bindto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value).effect()));});};},fmapto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));});};},then:id,cast:send,call:function(f){return IO(function(){return f(value).effect(),value;});},side:function(io){return IO(function(){return io.effect(),value;});},effect:function(){return value;}};};var idle=send(null);var executing=function(){for(var _len=arguments.length,ios=new Array(_len),_key=0;_key<_len;_key++){ios[_key]=arguments[_key];}return IO(function(){return ios.forEach(function(io){return io.effect();}),null;});};var runProcess=function(process){return process.computation;};var execProcess=function(process){return function(state){return process.computation(state).fst;};};var evalProcess=function(process){return function(state){return process.computation(state).snd;};};var put=function(replacement){return function(process){return Process(function(s){return Pair(replacement,process.computation(s).snd);});};};var get=function(process){return Process(function(s){return same(process.computation(s).fst);});};var mapProcess=function(morphism){return function(process){return Process(function(s){return morphism(process.computation(s));});};};var mapState=function(endomorphism){return function(process){return Process(function(s){return mapFst(endomorphism)(process.computation(s));});};};var random=Process(function(s){return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,Math.abs(13*s**3%203+248*s**2%34+112*s-528)%2048/2048);});var randomFloatRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(3367*s**3-30800*s**2%2650+9695*s-284)%16777215,Math.abs(-141*s**3%1961+74517*s**2%1622+8534*s-538)%2048/2048*(upper-lower)+lower);});};};var randomIntRange=function(lower){return function(upper){return Process(function(s){return Pair(Math.abs(852*s**3-274*s**2+345*s-558)%16777215,~~Math.abs(71*s**3%71+570*s**2%39+509*s-72)%2048/2048*(upper-lower)+lower);});};};var randomV2=Process(function(s){return Pair(Math.abs(84*s**3+729*s**2+215*s+1015)%16777215,V2(Math.abs(304*s**3%582+204*s**2%288+254*s-617)%2048/2048,Math.abs(906*s**3%717+518*s**2%38+112*s-581)%2048/2048));});var randomV3=Process(function(s){return Pair(Math.abs(390*s**3-329*s**2+22*s+41)%16777215,V3(Math.abs(407*s**3%594+70*s**2%61+s-5283)%2048/2048,Math.abs(109*s**3%200+23*s**2%8+69940*s-558)%2048/2048,Math.abs(273*s**3%286+23*s**2%60+36*s-184)%2048/2048));});var randomV4=Process(function(s){return Pair(Math.abs(350*s**3-7527*s**2+639*s-1011)%16777215,V4(Math.abs(881*s**3%461+213*s**2%16+s-519)%2048/2048,Math.abs(75*s**3%516+75459*s**2%19+67*s-693)%2048/2048,Math.abs(3498*s**3%242+590*s**2%27+50*s-3039)%2048/2048,Math.abs(8641*s**3%256+613*s**2%28+12*s-62)%2048/2048));});var randomDirectionV2=Process(function(s){var angle=Math.abs(2474*s**3%2676+369*s**2%3871+267628*s%6048+744);return Pair(Math.abs(372*s**3-566*s**2+21713*s+36769)%16777215,V2(Math.cos(angle),Math.sin(angle)));});var randomDirectionV3=Process(function(s){var angle0=Math.abs(s**3%198+378*s**2%86+s-16);var angle1=Math.abs(116*s**3-3168*s**2+258*s-901);var c=Math.sin(angle0);return Pair(Math.abs(414*s**3-607*s**2+889*s-888)%16777215,V3(Math.cos(angle0),c*Math.cos(angle1),c*Math.sin(angle1)));});var randomDirectionV4=Process(function(s){var angle0=Math.abs(905*s**3%2312+633*s**2%94975+208*s-250);var angle1=Math.abs(189*s**3%2641-466*s**2%44291+224*s-917);var angle2=Math.abs(417*s**3%2354-262*s**2%29516+41*s-529);var c0=Math.sin(angle0);var c1=Math.sin(angle1)*c0;return Pair(Math.abs(161*s**3-91*s**2+177*s-901)%16777215,V4(Math.cos(angle0),c0*Math.cos(angle1),c1*Math.cos(angle2),c1*Math.sin(angle2)));});var randomLowercase=Process(function(s){return Pair(Math.abs(28721*s**3%2999-712*s**2+3778*s-558)%16777215,String.fromCharCode(Math.abs(3252*s**3%359+945*s**2%878+503*s%379+826)%1028/1028*26+97));});var randomUppercase=Process(function(s){return Pair(Math.abs(363*s**3%384-31*s**2+67*s-793)%16777215,String.fromCharCode(Math.abs(3252*s**3%398+778*s**2%128+13*s%1701+871)%1028/1028*26+65));});var randomChance=function(probability){return Process(function(s){return Pair(Math.abs(1800*s**3+6031*s**2-23462*s-1105)%16777215,Math.abs(1587*s**3%9228-8604*s**2%568+51310*s%234+2278)%2048/2048<probability);});};var randomElem=function(xs){if(xs===Nil){console.error("'randomElem' cannot pseudo-randomly retrieve an element from Nil (an empty List)");console.dir("Signature : randomElem (<XS>)");console.dir("<XS> =",xs);return halt;}else{var _$len;var length=_$len=(_$len=xs.$len)!==null&&_$len!== void 0?_$len:xs.$len=function(){var xs_=xs;var i=0;while(xs_.variation==='Cons')if(i===MAX){console.error("'randomElem' traversed too many elements (".concat(MAX,")"));console.dir("Signature : randomElem (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail,++i;return xs.$len=i;}();return Process(function(s){var xs_=xs;for(var i=Math.abs(4170*s**3%92310-2410*s**2%1568+8562752*s%34282+862)%2048/2048*length;~~i;--i)xs_=xs_.tail;return Pair(Math.abs(462*s**3+261*s**2-778*s-1510)%16777215,xs_.head);});}};var randomChar=function(str){if(str===""){console.error("'randomChar' cannot pseudo-randomly retrieve a character from an empty string");console.dir("Signature : randomChar (<STRING>)");console.dir("<STRING> =",str);return halt;}else return Process(function(s){return Pair(Math.abs(488030*s**3+47546031*s**2-23462*s-13105)%16777215,str[Math.trunc(Math.abs(8588*s**3%5685-8645*s**2%4993+5168*s%2313+2210)%2048/2048*str.length)]);});};var randomPick=function(xs){if(xs===Nil){console.error("'randomPick' cannot pseudo-randomly retrieve an element from Nil (an empty List)");console.dir("Signature : randomPick (<XS>)");console.dir("<XS> =",xs);return halt;}else{var _$len;var length=_$len=(_$len=xs.$len)!==null&&_$len!== void 0?_$len:xs.$len=function(){var xs_=xs;var i=0;while(xs_.variation==='Cons')if(i===MAX){console.error("'randomPick' traversed too many elements (".concat(MAX,")"));console.dir("Signature : randomPick (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail,++i;return xs.$len=i;}();return Process(function(s){var xs_=xs;var rxs0=Nil;var xs0=Nil;for(var i=Math.abs(4170*s**3%92310-2410*s**2%1568+8562752*s%34282+862)%2048/2048*length;~~i;--i)rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(Math.abs(462*s**3+261*s**2-778*s-1510)%16777215,Pair(xs_.head,xs0.link(xs_.tail)));});}};var randomShuffle=function(xs){if(xs===Nil)return Process(function(s){return Pair(s**3/1000,Nil);});else{var _$len;var length=_$len=(_$len=xs.$len)!==null&&_$len!== void 0?_$len:xs.$len=function(){var xs_=xs;var i=0;while(xs_.variation==='Cons')if(i===MAX){console.error("'randomShuffle' traversed too many elements (".concat(MAX,")"));console.dir("Signature : randomShuffle (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail,++i;return xs.$len=i;}();return Process(function(s){var xs_=xs;var rxs0=Nil;var xs0=Nil;for(var i=Math.abs(3885*s**3%1281-2310*s**2%2410+2752*s%3428+686)%2048/2048*length;~~i;--i)rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(Math.abs(2296*s**3+26191*s**2-62778*s-56885)%16777215,lprepend(xs_.head)(function(){return randomShuffle(xs0.link(xs_.tail)).computation(s/41510+13).snd;}));});}};var strictRandomShuffle=function(xs){if(xs===Nil)return Process(function(s){return Pair(s**3/1000,Nil);});else{var array=function(){var xs_=xs;var arr=[];for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'strictRandomShuffle' traversed too many elements (".concat(MAX,")"));console.dir("Signature : strictRandomShuffle (<XS>)");console.dir("<XS> =",xs);return halt;}else arr.push(xs_.head),xs_=xs_.tail;return arr;}();return Process(function(s){var array_=array.slice();var j=0;var i=array_.length;var ref8;while(i!==0)j=Math.trunc((3885*s**3%1281-2310*s**2%2410+2752*s%3428+686)%2048/2048*i),--i,ref8=[array_[j],array_[i]],array_[i]=ref8[0],array_[j]=ref8[1],ref8;var ys=Nil;for(var i1=0;i1<array_.length;++i1)ys=prepend(array_[i1])(ys);return Pair(Math.abs(2296*s**3+26191*s**2-62778*s-56885)%16777215,ys);});}};var extractJust=function(maybe){if(maybe.variation==='Just')return maybe.value;else{console.error("'extractJust' expected a Just value");console.dir("Signature : extractJust (<MAYBE>)");console.dir("<MAYBE> =",maybe);return halt;}};var fromMaybe=function(fallback){return function(maybe){return maybe.variation==='Just'?maybe.value:fallback;};};var ensure=function(predicate){return function(value){return predicate(value)?Just(value):Nothing;};};var testMaybe=function(predicate){return function(maybe){return maybe.variation==='Just'&&predicate(maybe.value);};};var readInt=function(str){var parsed=parseInt(str,10);return Number.isNaN(parsed)?Nothing:Just(parsed);};var readFloat=function(str){var parsed=parseFloat(str);return Number.isNaN(parsed)?Nothing:Just(parsed);};var head=function(xs){if(xs.variation==='Cons')return xs.head;else{console.error("'head' expected a Cons (non-empty List)");console.dir("Signature : head (<XS>)");console.dir("<XS> =",xs);return halt;}};var tail=function(xs){if(xs.variation==='Cons')return xs.tail;else{console.error("'tail' expected a Cons (non-empty List)");console.dir("Signature : tail (<XS>)");console.dir("<XS> =",xs);return halt;}};var link=function(xs){return xs.link;};var listToArray=function(xs){var array=[];var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'listToArray' traversed too many elements (".concat(MAX,") when coverting the given List to a primitive Array"));console.dir("Signature : listToArray (<XS>)");console.dir("<XS> =",xs);return halt;}else array.push(xs_.head),xs_=xs_.tail;return array;};var safeListToArray=function(xs){var array=[];var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.warn("'safeListToArray' traversed too many elements (".concat(MAX,") when coverting"),"the given List to a primitive Array; resulting array is truncated");console.dir("Signature : safeListToArray (<XS>)");console.dir("<XS> =",xs);return array;}else array.push(xs_.head),xs_=xs_.tail;return array;};var unchars=function(xs){var str="";var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'unchars' traversed too many elements (".concat(MAX,") when converting the given List to a primitive String"));console.dir("Signature : unchars (<XS>)");console.dir("<XS> =",xs);return halt;}else str+=xs_.head,xs_=xs_.tail;return str;};var safeUnchars=function(xs){var str="";var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.warn("'unchars' traversed too many elements (".concat(MAX,") when converting the"),"given List to a primitive String; resulting string is truncated");console.dir("Signature : unchars (<XS>)");console.dir("<XS> =",xs);return str;}else str+=xs_.head,xs_=xs_.tail;return str;};var chars=(function(str){return str===""?Nil:{variation:'Cons',$head:str[0],$last:str[str.length-1],$len:str.length,head:str[0],get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=chars(str.slice(1));},pipe:function(f){return f(this);},eq:function(xs){var xs_=xs;for(var i=0;i<str.length;++i)if(xs_.variation==='Nil')return false;else if(str[i]===xs_.head)xs_=xs_.tail;else return false;return xs_.variation==='Nil';},get show (){var _$show;return _$show=(_$show=this.$show)!==null&&_$show!== void 0?_$show:this.$show="List (".concat(str.split('').map(function(c){return "\"".concat(c,"\"");}).join(", "),")");},bind:function(f){var xs=this;while(xs.variation==='Cons'){var ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;},fmap:function(f){return Cons(function(){return f(str[0]);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){console.error("'.bindto' shouldn't be used on a list of strings");console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'chars'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<REACTION> = ",f);return halt;}).bind(this);},fmapto:function(k){return (function(f){console.error("'.fmapto' shouldn't be used on a list of strings");console.dir("Signature : (<OBJECT>) .fmapto (<NAME>) (<REACTION>) | <OBJECT> originated from 'chars'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<MORPHISM> = ",f);return halt;}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lprepend(str[0])((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);var List=function(){for(var _len=arguments.length,elements=new Array(_len),_key=0;_key<_len;_key++){elements[_key]=arguments[_key];}var xs=Nil;for(var i=elements.length-1;~i;--i)xs=prepend(elements[i])(xs);return xs;};var prepend=(function(value){return (function(xs){return xs.variation==='Nil'?singleton(value):{variation:'Cons',pipe:function(f){return f(this);},$head:value,$tail:xs,$last:xs.$last,$len:xs.$len+1||undefined,head:value,tail:xs,eq:function(xs1){var ref8;if(xs1.variation==='Nil')return false;else if(((ref8=this.head)===null||ref8=== void 0?void 0:ref8.eq)===undefined){console.error("'.eq' cannot compare the elements of the given Lists that does not implement '.eq'");console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | <LEFTSIDE> originated from 'prepend'");console.dir("<LEFTSIDE>  =",this);console.dir("<RIGHTSIDE> =",xs1);return halt;}else{var this_=this;var xs_=xs1;for(var i=0;this_.variation==='Cons'&&xs_.variation==='Cons';++i)if(i===MAX){console.error("'.eq' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <LEFTSIDE> .eq (<RIGHTSIDE>) | <LEFTSIDE> originated from 'prepend'");console.dir("<LEFTSIDE>  =",this);console.dir("<RIGHTSIDE> =",xs1);return halt;}else if(this_.head.eq(xs_.head))this_=this_.tail,xs_=xs_.tail;else return false;return this_.variation===xs_.variation;}},get show (){var ref8;if(this.$show===undefined){if(((ref8=this.head)===null||ref8=== void 0?void 0:ref8.eq)===undefined){console.error("'.show' cannot stringify the elements of the List that does not implement '.show'");console.dir("Signature : <VALUE> .show | <VALUE> originated from 'prepend'");console.dir("<VALUE> =",this);return halt;}else{var str="";var this_=this;for(var i=0;this_.variation==='Cons';++i)if(i===MAX){console.error("'.show' traversed too many elements (".concat(MAX,")"));console.dir("Signature : <VALUE> .show | <VALUE> originated from 'prepend'");console.dir("<VALUE> =",this);return halt;}else str+="".concat(this_.head.show,", "),this_=this_.tail;return this.$show="List (".concat(str.slice(0,-2),")");}}else return this.$show;},bind:function(f){var ys=f(value);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.bind(f));});else{var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'prepend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs_.tail.bind(f));});else xs_=xs_.tail;}return Nil;}},fmap:function(f){return Cons(function(){return f(value);})(function(){return xs.fmap(f);});},bindto:function(k){return (function(f){var ys=f(value);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.bindto(k)(f));});}else{var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'prepend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs_.tail.bind(f));});}else xs_=xs_.tail;}return Nil;}}).bind(this);},fmapto:function(k){return function(f){return Cons(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));})(function(){return xs.fmapto(k)(f);});};},link:function(ys){return lprepend(value)(function(){return xs.link(ys);});}};}).bind(this);}).bind(this);var lprepend=(function(value){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},$head:value,head:value,get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=lxs();},eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){var ys=f(value);if(ys.variation==='Cons')return Cons(function(){return ys.head;})((function(){return ys.tail.link(this.tail.bind(f));}).bind(this));else{var xs=this.tail;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'lprepend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;}},fmap:function(f){return Cons(function(){return f(value);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=f(value);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})((function(){return zs.tail.link(this.tail.bindto(k)(f));}).bind(this));}else{var xs=this.tail;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bindto' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'lprepend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},value,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(zs.tail.bind(f));});}else xs=xs.tail;}return Nil;}}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(ys){return lprepend(value)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var postpend=(function(value){return (function(xs){return xs.variation==='Nil'?singleton(value):{variation:'Cons',pipe:function(f){return f(this);},$head:xs.$head,$init:xs,$last:value,$len:xs.$len+1||undefined,get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=xs.head;},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=postpend(value)(xs.tail);},eq:function(xs1){return __MACRO__.default_implementation_list_eq(this)(xs1);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'postpend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(postpend(value)(xs_.tail).bind(f));});else xs_=xs_.tail;}return f(value);},fmap:function(f){return lpostpend(f(value))(function(){return xs.fmap(f);});},bindto:function(k){return (function(f){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>)","| <OBJECT> originated from 'postpend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs_.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(postpend(value)(xs_.tail).bind(f));});}else xs_=xs_.tail;}return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});}).bind(this);},fmapto:function(k){return function(f){return lpostpend(_objectSpread({},value,_defineProperty({},k,f(value))))(function(){return xs.fmapto(k)(f);});};},link:function(ys){return this.$head===undefined?Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(ys);}).bind(this)):lprepend(this.$head)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var lpostpend=(function(value){return (function(lxs){return {variation:'Cons',pipe:function(f){return f(this);},$last:value,get head (){var _$init,_$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=(_$init=(_$init=this.$init)!==null&&_$init!== void 0?_$init:this.$init=lxs()).variation==='Nil'?value:this.$init.head;},get tail (){var _$init,_$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=(_$init=(_$init=this.$init)!==null&&_$init!== void 0?_$init:this.$init=lxs()).variation==='Nil'?singleton(value):postpend(value)(this.$init.tail);},eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){var xs_=this.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> originated from 'lpostpend'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(postpend(value)(xs_.tail).bind(f));});else xs_=xs_.tail;}return f(value);},fmap:function(f){return lpostpend(f(value))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var xs_=this.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>)","| <OBJECT> originated from 'lpostpend'");console.dir("<OBJECT>   =",this);console.dir("<NAME>     =",k);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs_.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs_.head,_defineProperty({},k,y));});return Cons(function(){return zs.head;})(function(){return zs.tail.link(postpend(value)(xs_.tail).bind(f));});}else xs_=xs_.tail;}return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});}).bind(this);},fmapto:function(k){return (function(f){return lpostpend(_objectSpread({},value,_defineProperty({},k,f(value))))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(ys){return this.$head===undefined?Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(ys);}).bind(this)):lprepend(this.$head)((function(){return this.tail.link(ys);}).bind(this));}};}).bind(this);}).bind(this);var singleton=(function(value){return {variation:'Cons',pipe:function(f){return f(this);},$head:value,$tail:Nil,$last:value,$init:Nil,get $reverse (){return this;},$len:1,head:value,tail:Nil,eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){return f(value);},fmap:function(f){return singleton(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return singleton(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:prepend(value)};}).bind(this);var repeat=(function(value){return {variation:'Cons',$head:value,get $tail (){return this;},get $init (){return this;},head:value,get tail (){return this;},eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},pipe:function(f){return f(this);},bind:function(f){return cycle(f(value));},fmap:function(f){return repeat(f(value));},bindto:function(k){return function(f){return cycle(_objectSpread({},value,_defineProperty({},k,f(value))));};},fmapto:function(k){return function(f){return repeat(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(_){return this;}};}).bind(this);var cycle=(function(pattern){return pattern.variation==='Nil'?Nil:{variation:'Cons',pipe:function(f){return f(this);},get head (){var _$head;return _$head=(_$head=this.$head)!==null&&_$head!== void 0?_$head:this.$head=pattern.head;},get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=pattern.tail.link(this);},eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){var xs=pattern;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'cycle'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons')return cycle(Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));}));else xs=xs.tail;}return Nil;},fmap:function(f){return cycle(pattern.fmap(f));},bindto:function(k){return (function(f){var xs=pattern;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'cycle'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons'){var zs=ys.fmap(function(y){return _objectSpread({},xs.head,_defineProperty({},k,y));});return cycle(Cons(function(){return zs.head;})(function(){return zs.tail.link(xs.tail.bind(f));}));}else xs=xs.tail;}return Nil;}).bind(this);},fmapto:function(k){return function(f){return cycle(pattern.fmap(function(x){return _objectSpread({},x,_defineProperty({},k,f(x)));}));};},link:function(_){return this;}};}).bind(this);var range=(function(start){return (function(end){if(Number.isFinite(start)&&Number.isFinite(end)){if(start>end)return Nil;else if(start===end)return singleton(end);else if(Number.isInteger(start))return {variation:'Cons',pipe:function(f){return f(this);},$head:start,$len:end-start,$last:end,head:start,get tail (){var _$tail;return _$tail=(_$tail=this.$tail)!==null&&_$tail!== void 0?_$tail:this.$tail=range(start+1)(end);},eq:function(xs){return __MACRO__.default_implementation_list_eq(this)(xs);},get show (){return __MACRO__.default_implementation_list_show(this);},bind:function(f){var xs=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAX){console.error("'.bind' traversed too many elements (".concat(MAX,")"));console.dir("Signature : (<OBJECT>) .bind (<REACTION>) | <OBJECT> orignated from 'range'");console.dir("<OBJECT>   =",this);console.dir("<REACTION> =",f);return halt;}else{var ys=f(xs.head);if(ys.variation==='Cons')return Cons(function(){return ys.head;})(function(){return ys.tail.link(xs.tail.bind(f));});else xs=xs.tail;}return Nil;},fmap:function(f){return Cons(function(){return f(start);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){console.error("'.bindto' shouldn't be used on a list of numbers");console.dir("Signature : (<OBJECT>) .bindto (<NAME>) (<REACTION>) | <OBJECT> originated from 'range'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<REACTION> = ",f);return halt;}).bind(this);},fmapto:function(k){return (function(f){console.error("'.fmapto' shouldn't be used on a list of numbers");console.dir("Signature : (<OBJECT>) .fmapto (<NAME>) (<REACTION>) | <OBJECT> originated from 'range'");console.dir("<OBJECT>   = ",this);console.dir("<NAME>     = ",k);console.dir("<MORPHISM> = ",f);return halt;}).bind(this);},link:function(xs){return lprepend(start)((function(){return this.tail.link(xs);}).bind(this));}};else return range(~~start)(end);}else{console.error("'range' expected integer inputs");console.dir("Signature : range (<START>) (<END>)");console.dir("<START> =",start);console.dir("<END>   =",end);return halt;}}).bind(this);}).bind(this);var iterate=function(endomorphism){return function(initial){return lprepend(initial)(function(){return iterate(endomorphism)(endomorphism(initial));});};};var replicate=function(amount){return function(value){return amount>0?lprepend(value)(function(){return replicate(amount-1)(value);}):Nil;};};var countBy=function(step){return function(start){return lprepend(start)(function(){return countBy(step)(start+step);});};};var countDown=countBy(-1);var countUp=countBy(1);var naturals=countUp(0);var joinList=function(xss){var xss_=xss;for(var i=0;xss_.variation==='Cons';++i)if(i===MAX){console.error("'joinList' traversed too many elements (".concat(MAX,")"));console.dir("Signature : joinList (<XSS>)");console.dir("<XSS> =",xss);return halt;}else if(xss_.head.variation==='Cons')return Cons(function(){return xss_.head.head;})(function(){return xss_.head.tail.link(joinList(xss_.tail));});else xss_=xss_.tail;return Nil;};var all=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'all' traversed too many elements (".concat(MAX,")"));console.dir("Signature : all (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))xs_=xs_.tail;else return false;return true;};};var any=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'any' traversed too many elements (".concat(MAX,")"));console.dir("Signature : any (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return true;else xs_=xs_.tail;return false;};};var at=function(index){return function(xs){var i=0;var xs_=xs;while(xs_.variation==='Cons')if(i===MAX){console.error("'at' traversed too many elements (".concat(MAX,")"));console.dir("Signature : at (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;}else if(i<index)xs_=xs_.tail,++i;else return xs_.head;console.error("'at' received an out-of-bounds index of ".concat(index," for a list of length ").concat(i));console.dir("Signature : at (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;};};var indexing=function(xs){return function(index){var i=0;var xs_=xs;while(xs_.variation==='Cons')if(i<index)xs_=xs_.tail,++i;else return xs_.head;console.error("'indexing' received an out-of-bounds index of ".concat(index," for a list of length ").concat(i));console.dir("Signature : indexing (<XS>) (<INDEX>)");console.dir("<XS>    =",xs);console.dir("<INDEX> =",index);return halt;};};var len=function(xs){if(xs.$len===undefined){var xs_=xs;var i=0;while(xs_.variation==='Cons')if(i===MAX){console.error("'len' traversed too many elements (".concat(MAX,")"));console.dir("Signature : len (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail,++i;return xs.$len=i;}else return xs.$len;};var last=function(xs){if(xs.variation==='Nil'){console.error("'last' expected a Cons (non-empty List)");console.dir("Signature : last (<XS>)");console.dir("<XS> =",xs);return halt;}else if(xs.$last===undefined){var xs_=xs;for(var i=0;xs_.tail.variation==='Cons';++i)if(i===MAX){console.error("'last' traversed too many elements (".concat(MAX,")"));console.dir("Signature : last (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail;return xs.$last=xs_.head;}else return xs.$last;};var init=function(xs){if(xs.variation==='Nil'){console.error("'init' expected a Cons (non-empty List)");console.dir("Signature : init (<XS>)");console.dir("<XS> =",xs);return halt;}else if(xs.$init===undefined)return xs.$init=xs.tail.variation==='Nil'?Nil:Cons(function(){return xs.head;})(function(){return init(xs.tail);});else return xs.$init;};var reverse=function(xs){if(xs.$reverse===undefined){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'reverse' traversed too many elements (".concat(MAX,")"));console.dir("Signature : reverse (<XS>)");console.dir("<XS> =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}else return xs.$reverse;};var map=function(morphism){return function(xs){return xs.fmap(morphism);};};var imap_tail=function(start){return function(imorphism){return function(xs){return xs.variation==='Nil'?Nil:Cons(function(){return imorphism(start)(xs.head);})(function(){return imap_tail(start+1)(imorphism)(xs.tail);});};};};var imap=imap_tail(0);var intersperse=function(delimiter){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return prepend(delimiter)(intersperse(delimiter)(xs.tail));});};};var foldl=function(operation){return function(initial){return function(xs){var out=initial;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldl' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldl (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else out=operation(out)(xs_.head),xs_=xs_.tail;return out;};};};var foldl1=function(operation){return function(xs){if(xs.variation==='Nil'){console.error("'foldl1' expected a Cons (non-empty List)");console.dir("Signature : foldl1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS> =",xs);return halt;}else{var out=xs.head;var xs_=xs.tail;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldl1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldl1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);return halt;}else out=operation(out)(xs_.head),xs_=xs_.tail;return out;}};};var foldr=function(operation){return function(initial){return function(xs){var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldr' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldr (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var out=initial;var rxs_=rxs;while(rxs_.variation==='Cons')out=operation(rxs_.head)(out),rxs_=rxs_.tail;return out;};};};var foldr1=function(operation){return function(xs){if(xs.variation==='Nil'){console.error("'foldr1' expected a Cons (non-empty List)");console.dir("Signature : foldr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS> =",xs);return halt;}else{var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var xs_=xs;var ys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'foldr1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : foldr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var out=rxs.head;var trxs_=rxs.tail;while(trxs_.variation==='Cons')out=operation(trxs_.head)(out),trxs_=trxs_.tail;return out;}};};var scanl=function(operation){return function(initial){return function(xs){return xs.variation==='Nil'?singleton(initial):lprepend(initial)(function(){return scanl(operation)(operation(initial)(xs.head))(xs.tail);});};};};var scanl1=function(operation){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return scanl(operation)(operation(xs.head)(xs.tail.head))(xs.tail.tail);});};};var scanr=function(operation){return function(initial){return function(xs){var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var ys=Nil;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'scanr' traversed too many elements (".concat(MAX,")"));console.dir("Signature : scanr (<OPERATION>) (<INITIAL>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<INITIAL>   =",initial);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var rxs_=rxs;var outs=singleton(initial);while(rxs_.variation==='Cons')outs=prepend(operation(rxs_.head)(outs.head))(outs),rxs_=rxs_.tail;return outs;};};};var scanr1=function(operation){return function(xs){if(xs.variation==='Nil')return Nil;else{var _$reverse;var rxs=(_$reverse=xs.$reverse)!==null&&_$reverse!== void 0?_$reverse:function(){var ys=Nil;var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'scanr1' traversed too many elements (".concat(MAX,")"));console.dir("Signature : scanr1 (<OPERATION>) (<XS>)");console.dir("<OPERATION> =",operation);console.dir("<XS>        =",xs);return halt;}else ys=prepend(xs_.head)(ys),xs_=xs_.tail;ys.$reverse=xs;return xs.$reverse=ys;}();var rxs_=rxs.tail;var outs=singleton(rxs.head);while(rxs_.variation==='Cons')outs=prepend(operation(rxs_.head)(outs.head))(outs),rxs_=rxs_.tail;return outs;}};};var take=function(amount){return function(xs){return amount>=xs.$len?xs:xs.variation==='Nil'||amount<1?Nil:Cons(function(){return xs.head;})(function(){return take(amount-1)(xs.tail);});};};var drop=function(amount){return function(xs){if(amount>=xs.$len)return Nil;else if(amount>=MAX){console.error("'drop' would be traversing too many elements (".concat(MAX,")"));console.dir("Signature : drop (<AMOUNT>) (<XS>)");console.dir("<AMOUNT> =",amount);console.dir("<XS>     =",xs);return halt;}else{var xs_=xs;var am_=amount;while(xs_.variation==='Cons'&& ~~am_)xs_=xs_.tail,--am_;return xs_;}};};var splitAt=function(index){return function(xs){if(index>=xs.$len)return Pair(Nil,xs);else if(index<1)return Pair(xs,Nil);else if(index>=MAX){console.error("'splitAt' would be traversing too many elements (".concat(MAX,")"));console.dir("Signature : splitAt (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>     =",xs);return halt;}else{var xs_=xs;var rxs0=Nil;for(var i=1;i<=index&&xs_.variation==='Cons';++i)rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(xs0,xs_);}};};var takeWhile=function(predicate){return function(xs){return xs.variation==='Cons'&&predicate(xs.head)?lprepend(xs.head)(function(){return takeWhile(predicate)(xs.tail);}):Nil;};};var dropWhile=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'dropWhile' traversed too many elements (".concat(MAX,")"));console.dir("Signature : dropWhile (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))xs_=xs_.tail;else return xs_;return Nil;};};var span=function(predicate){return function(xs){var xs_=xs;var rxs0=Nil;for(var i=0;xs_.variation==='Cons'&&predicate(xs_.head);++i)if(i===MAX){console.error("'span' traversed too many elements (".concat(MAX,")"));console.dir("Signature : span (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else rxs0=prepend(xs_.head)(rxs0),xs_=xs_.tail;var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;return Pair(xs0,xs_);};};var elem=function(value){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'elem' traversed too many elements (".concat(MAX,")"));console.dir("Signature : elem (<VALUE>) (<XS>)");console.dir("<VALUE> =",value);console.dir("<XS>    =",xs);return halt;}else if(xs_.head.eq(value))return true;else xs_=xs_.tail;return false;};};var filter=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'filter' traversed too many elements (".concat(MAX,")"));console.dir("Signature : filter (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return lprepend(xs_.head)(function(){return filter(predicate)(xs_.tail);});else xs_=xs_.tail;return Nil;};};var partition=function(predicate){return function(xs){return Pair(filter(predicate)(xs),filter(notf(predicate))(xs));};};var strictPartition=function(predicate){return function(xs){var xs_=xs;var rxs0=Nil;var rxs1=Nil;for(var i=0;xs_.variation==='Cons';++i,xs_=xs_.tail)if(i===MAX){console.error("'strictPartition' traversed too many elements (".concat(MAX,")"));console.dir("Signature : strictPartition (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))rxs0=prepend(xs_.head)(rxs0);else rxs1=prepend(xs_.head)(rxs1);var xs0=Nil;while(rxs0.variation==='Cons')xs0=prepend(rxs0.head)(xs0),rxs0=rxs0.tail;var xs1=Nil;while(rxs1.variation==='Cons')xs1=prepend(rxs1.head)(xs1),rxs1=rxs1.tail;return Pair(xs0,xs1);};};var tail_elemIndices=function(start){return function(value){return function(xs){var _loop=function(i){if(i===MAX){console.error("'tail_elemIndices' traversed too many elements (".concat(MAX,")"));console.dir("Signature : tail_elemIndices .eq (<START>) (<VALUE>) (<XS>) | This function is the tail version of 'elemIndices'");console.dir("<START> =",start);console.dir("<VALUE> =",value);console.dir("<XS>    =",xs);return {v:halt};}else if(xs_.head.eq(value))return {v:lprepend(i+start)(function(){return tail_elemIndices(i+start+1)(value)(xs_.tail);})};else xs_=xs_.tail;};var xs_=xs;for(var i=0;xs_.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};};var elemIndices=function(value){return function(xs){var _loop=function(i){if(i===MAX){console.error("'elemIndices' traversed too many elements (".concat(MAX,")"));console.dir("Signature : elemIndices (<VALUE>) (<XS>)");console.dir("<VALUE> =",value);console.dir("<XS>    =",xs);return {v:halt};}else if(xs_.head.eq(value))return {v:lprepend(i)(function(){return tail_elemIndices(i+1)(value)(xs_.tail);})};else xs_=xs_.tail;};var xs_=xs;for(var i=0;xs_.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};var findIndices=function(predicate){return function(xs){var xs_=xs;var rins=Nil;for(var i=0;xs_.variation==='Cons';++i,xs_=xs_.tail)if(i===MAX){console.error("'findIndices' traversed too many elements (".concat(MAX,")"));console.dir("Signature : findIndices (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))rins=prepend(i)(rins);var ins=Nil;while(rins.variation==='Cons')ins=prepend(rins.head)(ins),rins=rins.tail;return ins;};};var zip=function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return Pair(firsts.head,seconds.head);})(function(){return zip(firsts.tail)(seconds.tail);});};};var zipWith=function(zipper){return function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return zipper(firsts.head)(seconds.head);})(function(){return zipWith(zipper)(firsts.tail)(seconds.tail);});};};};var unzip=function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));};var strictUnzip=function(pairs){var pairs_=pairs;var rfsts=Nil;var rsnds=Nil;for(var i=0;pairs_.variation==='Cons';++i)if(i===MAX){console.error("'strictUnzip' traversed too many elements (".concat(MAX,")"));console.dir("Signature : strictUnzip (<PAIRS>)");console.dir("<PAIRS> =",pairs);return halt;}else rfsts=prepend(pairs_.head.fst)(rfsts),rsnds=prepend(pairs_.head.snd)(rsnds),pairs_=pairs_.tail;var fsts=Nil;while(rfsts.variation==='Cons')fsts=prepend(rfsts.head)(fsts),rfsts=rfsts.tail;var snds=Nil;while(rsnds.variation==='Cons')snds=prepend(rsnds.head)(snds),rsnds=rsnds.tail;return Pair(fsts,snds);};var lowercases=chars('abcdefghijklmnopqrstuvwxyz');var uppercases=chars('ABCDEFGHIJKLMNOPQRSTUVWXYZ');var IOM_merge=function(iomaybe){return IOMaybe(iomaybe.effect);};var IOM_unmerge=function(iomaybe){return IO(iomaybe.effect);};var IOM_lift=function(io){return IOMaybe(function(){return Just(io.effect());});};var IOM_liftf=function(reaction){return function(value){return IOMaybe(function(){return Just(reaction(value).effect());});};};var IOM_hoist=function(maybe){return maybe.variation==='Nothing'?sendNothing:sendJust(maybe.value);};var IOM_resolve=function(iomaybe){return IO(function(){return iomaybe.effect(),null;});};var IOM_fromIOMaybe=function(fallback){return function(iomaybe){return IO(function(){var maybe=iomaybe.effect();return maybe.variation==='Nothing'?fallback.effect():maybe.value;});};};var IOM_guard=function(condition){return function(value){return condition?sendJust(value):sendNothing;};};var IOM_guardIf=function(predicate){return function(value){return predicate(value)?sendJust(value):sendNothing;};};var IOM_repeat=function(iomaybe){return IOMaybe(function(){var maybeOut=iomaybe.effect();while(maybeOut.variation==='Nothing')maybeOut=iomaybe.effect();return maybeOut;});};var sendJust=function(value){return {variation:'IOMaybe',pipe:function(f){return f(this);},bind:function(f){return f(value);},fmap:function(f){return sendJust(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return sendJust(_objectSpread({},value,_defineProperty({},k,f(value))));};},then:id,cast:sendJust,call:function(f){return IOMaybe(function(){return f(value).effect(),Just(value);});},side:function(iom){return IOMaybe(function(){return iom.effect(),Just(value);});},effect:function(){return Just(value);}};};var sendNothing={variation:'IOMaybe',pipe:function(f){return f(this);},bind:function(_){return sendNothing;},fmap:function(_){return sendNothing;},bindto:function(_){return function(_1){return sendNothing;};},fmapto:function(_){return function(_1){return sendNothing;};},then:function(_){return sendNothing;},cast:function(_){return sendNothing;},call:function(_){return sendNothing;},side:function(_){return sendNothing;},effect:function(){return Nothing;}};var fst=function(pair){return pair.fst;};var snd=function(pair){return pair.snd;};var mapPair=function(morphism){return function(pair){return Pair(morphism(pair.fst),morphism(pair.snd));};};var mapFst=function(morphism){return function(pair){return Pair(morphism(pair.fst),pair.snd);};};var mapSnd=function(morphism){return function(pair){return Pair(pair.fst,morphism(pair.snd));};};var swap=function(pair){return Pair(pair.snd,pair.fst);};var same=function(value){return Pair(value,value);};var pick=function(bool){return bool?fst:snd;};var curry=function(f){return function(first){return function(second){return f(Pair(first,second));};};};var uncurry=function(f){return function(parameters){return f(parameters.fst)(parameters.snd);};};var pairToArray=function(pair){return [pair.fst,pair.snd];};var extractLeft=function(either){if(either.variation==='Left')return either.value;else{console.error("'extractLeft' expected a Left value");console.dir("Signature : extractLeft (<EITHER>)");console.dir("<EITHER> =",either);return halt;}};var extractRight=function(either){if(either.variation==='Right')return either.value;else{console.error("'extractRight' expected a Right value");console.dir("Signature : extractRight (<EITHER>)");console.dir("<EITHER> =",either);return halt;}};var fromLeft=function(fallback){return function(either){return either.variation==='Left'?either.value:fallback;};};var fromRight=function(fallback){return function(either){return either.variation==='Right'?either.value:fallback;};};var collapseEither=function(either){return either.value;};var mapLeft=function(morphism){return function(either){return either.variation==='Left'?Left(morphism(either.value)):either;};};var mapRight=function(morphism){return function(either){return either.variation==='Right'?Right(morphism(either.value)):either;};};var mapEither=function(leftMorphism){return function(rightMorphism){return function(either){return either.variation==='Left'?Left(leftMorphism(either.value)):Right(rightMorphism(either.value));};};};var reduceEither=function(leftMorphism){return function(rightMorphism){return function(either){return either.variation==='Left'?leftMorphism(either.value):rightMorphism(either.value);};};};var zeroV2=V2(0,0);var zeroV3=V3(0,0,0);var zeroV4=V4(0,0,0,0);var _vTranslate=function(dx,dy,param,param1){var dz=param=== void 0?0:param,dw=param1=== void 0?0:param1;return function(vector){return vector.variation==='V2'?V2(vector.x+dx,vector.y+dy):vector.variation==='V3'?V3(vector.x+dx,vector.y+dy,vector.z+dz):vector.variation==='V4'?V4(vector.x+dx,vector.y+dy,vector.z+dz,vector.w+dw):never;};};var _vUntranslate=function(dx,dy,param,param1){var dz=param=== void 0?0:param,dw=param1=== void 0?0:param1;return function(vector){return vector.variation==='V2'?V2(vector.x-dx,vector.y-dy):vector.variation==='V3'?V3(vector.x-dx,vector.y-dy,vector.z-dz):vector.variation==='V4'?V4(vector.x-dx,vector.y-dy,vector.z-dz,vector.w-dw):never;};};var _vScaleAxis=function(kx,ky,param,param1){var kz=param=== void 0?1:param,kw=param1=== void 0?1:param1;return function(vector){return vector.variation==='V2'?V2(vector.x*kx,vector.y*ky):vector.variation==='V3'?V3(vector.x*kx,vector.y*ky,vector.z*kz):vector.variation==='V4'?V4(vector.x*kx,vector.y*ky,vector.z*kz,vector.w*kw):never;};};var _vUnscaleAxis=function(kx,ky,param,param1){var kz=param=== void 0?1:param,kw=param1=== void 0?1:param1;return function(vector){return vector.variation==='V2'?V2(vector.x/kx,vector.y/ky):vector.variation==='V3'?V3(vector.x/kx,vector.y/ky,vector.z/kz):vector.variation==='V4'?V4(vector.x/kx,vector.y/ky,vector.z/kz,vector.w/kw):never;};};var vScale=function(k){return function(vector){return vector.vmap(function(n){return n*k;});};};var vUnscale=function(k){return function(vector){return vector.vmap(function(n){return n/k;});};};var isButtonUp=function(state){return state==='Up'||state==='toUp';};var isButtonDown=function(state){return state==='Down'||state==='toDown';};var isButtonInTransition=function(state){return state==='toUp'||state==='toDown';};var iterateButtonState=function(state){return state==='toUp'?'Up':state==='toDown'?'Down':state;};var signButtonState=function(state){return state==='Up'||state==='toUp'?1:state==='Down'||state==='toDown'?-1:0;};var sequence_IO=function(ios){var effects=[];var ios_=ios;for(var i=0;ios_.variation==='Cons';++i)if(i===MAX){console.error("'sequence_IO' traversed too many elements (".concat(MAX,") when coverting the given List (IO a) to a primitive Array"));console.dir("Signature : sequence_IO (<IOS>)");console.dir("<IOS> =",ios_);return halt;}else effects.push(ios_.head.effect),ios_=ios_.tail;return IO(function(){return List.apply(void 0,effects.map(function(f){return f();}));});};var execute_IO=function(ios){var effects=[];var ios_=ios;for(var i=0;ios_.variation==='Cons';++i)if(i===MAX){console.error("'execute_IO' traversed too many elements (".concat(MAX,") when coverting the given List (IO a) to a primitive Array"));console.dir("Signature : execute_IO (<IOS>)");console.dir("<IOS> =",ios_);return halt;}else effects.push(ios_.head.effect),ios_=ios_.tail;return IO(function(){return effects.map(function(f){return f();}),null;});};var maybeHead=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.head);};var maybeLast=function(xs){if(xs.variation==='Nil')return Nothing;else if(xs.$last===undefined){var xs_=xs;for(var i=0;xs_.tail.variation==='Cons';++i)if(i===MAX){console.error("'maybeLast' traversed too many elements (".concat(MAX,")"));console.dir("Signature : maybeLast (<XS>)");console.dir("<XS> =",xs);return halt;}else xs_=xs_.tail;return Just(xs.$last=xs_.head);}else return Just(xs.$last);};var maybeTail=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.tail);};var maybeInit=function(xs){if(xs.variation==='Nil')return Nothing;else if(xs.$init===undefined)return Just(xs.$init=xs.tail.variation==='Nil'?Nil:Cons(function(){return xs.head;})(function(){return init(xs.tail);}));else return Just(xs.$init);};var maybeSingleton=function(maybe){return maybe.variation==='Nothing'?Nil:singleton(maybe.value);};var pairToV2=function(pair){return V2(pair.fst,pair.snd);};var v2ToPair=function(vector){return Pair(vector.x,vector.y);};var pairOfMaybes=function(pair){return pair.fst.variation==='Just'&&pair.snd.variation==='Just'?Just(Pair(pair.fst.value,pair.snd.value)):Nothing;};var find=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'find' traversed too many elements (".concat(MAX,")"));console.dir("Signature : find (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return Just(xs_.head);else xs_=xs_.tail;return Nothing;};};var elemIndex=function(value){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'elemIndex' traversed too many elements (".concat(MAX,")"));console.dir("Signature : elemIndex (<VALUE>) (<XS>)");console.dir("<VALUE> =",value);console.dir("<XS>    =",xs);return halt;}else if(xs_.head.eq(value))return Just(i);else xs_=xs_.tail;return Nothing;};};var findIndex=function(predicate){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'findIndex' traversed too many elements (".concat(MAX,")"));console.dir("Signature : findIndex (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head))return Just(i);else xs_=xs_.tail;return Nothing;};};var justs=function(maybes){var maybes_=maybes;for(var i=0;maybes_.variation==='Cons';++i)if(i===MAX){console.error("'justs' traversed too many elements (".concat(MAX,")"));console.dir("Signature : justs (<MAYBES>)");console.dir("<MAYBES> =",maybes);return halt;}else if(maybes_.head.variation==='Just')return lprepend(maybes_.head.value)(function(){return justs(maybes_.tail);});else maybes_=maybes_.tail;return Nil;};var mapMaybe=function(mapping){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'mapMaybe' traversed too many elements (".concat(MAX,")"));console.dir("Signature : mapMaybe (<MAPPING>) (<XS>)");console.dir("<MAPPING> =",mapping);console.dir("<XS> =",xs);return halt;}else{var maybe=mapping(xs_.head);if(maybe.variation==='Just')return lprepend(maybe.value)(function(){return mapMaybe(mapping)(xs_.tail);});xs_=xs_.tail;}return Nil;};};var lefts=function(eithers){var eithers_=eithers;for(var i=0;eithers_.variation==='Cons';++i)if(i===MAX){console.error("'lefts' traversed too many elements (".concat(MAX,")"));console.dir("Signature : lefts (<EITHERS>)");console.dir("<EITHERS> =",eithers);return halt;}else if(eithers_.head.variation==='Left')return lprepend(eithers_.head.value)(function(){return lefts(eithers_.tail);});else eithers_=eithers_.tail;return Nil;};var rights=function(eithers){var eithers_=eithers;for(var i=0;eithers_.variation==='Cons';++i)if(i===MAX){console.error("'rights' traversed too many elements (".concat(MAX,")"));console.dir("Signature : rights (<EITHERS>)");console.dir("<EITHERS> =",eithers);return halt;}else if(eithers_.head.variation==='Right')return lprepend(eithers_.head.value)(function(){return rights(eithers_.tail);});else eithers_=eithers_.tail;return Nil;};var maybeAt=function(index){return function(xs){var xs_=xs;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'maybeAt' traversed too many elements (".concat(MAX,")"));console.dir("Signature : maybeAt (<INDEX>) (<XS>)");console.dir("<INDEX> =",index);console.dir("<XS>    =",xs);return halt;}else if(i>=index)return Just(xs_.head);else xs_=xs_.tail;return Nothing;};};var processToList=function(process){return function(state){var p=process.computation(state);return lprepend(p.snd)(function(){return processToList(process)(p.fst);});};};var pairProcess=function(process){return Process(function(s){var p=process.computation(s);var q=process.computation(p.fst);return Pair(q.fst,Pair(p.snd,q.snd));});};var repeatProcess=function(process){return Process(function(s){return Pair(s,processToList(process)(s));});};var pickout=function(predicate){return function(xs){var xs_=xs;var rys=Nil;for(var i=0;xs_.variation==='Cons';++i)if(i===MAX){console.error("'pickout' traversed too many elements (".concat(MAX,")"));console.dir("Signature : pickout (<PREDICATE>) (<XS>)");console.dir("<PREDICATE> =",predicate);console.dir("<XS>        =",xs);return halt;}else if(predicate(xs_.head)){var ys=Nil;while(rys.variation==='Cons')ys=prepend(rys.head)(ys),rys=rys.tail;return Pair(Just(xs_.head),ys.link(xs_.tail));}else rys=prepend(xs_.head)(rys),xs_=xs_.tail;return Pair(Nothing,xs_);};};var prompting=function(message){return IO(function(){var input=prompt(message);return input===null?Nothing:Just(input);});};var ref9;var inputting=function(message){return IO(function(){return (ref9=prompt(message))!==null&&ref9!== void 0?ref9:'';});};var alerting=function(message){return IO(function(){return alert(message),null;});};var confirming=function(message){return IO(function(){return confirm(message);});};var delay=function(amount){return function(io){return IO(function(){return setTimeout(io.effect,amount),null;});};};var flush=IO(function(){return console.clear(),null;});var printf=function(){for(var _len=arguments.length,messages=new Array(_len),_key=0;_key<_len;_key++){messages[_key]=arguments[_key];}return IO(function(){return (_console=console).log.apply(_console,messages),null;});};var log=function(message){return IO(function(){return console.log(message),null;});};var warn=function(message){return IO(function(){return console.warn(message),null;});};var debug=function(message){return IO(function(){return console.debug(message),null;});};var delayedLog=function(count){return function(message){return IO(function(){return (--Ψ.debugCounter)<0?(Ψ.debugCounter=count,console.debug(message),null):null;});};};var countLog=function(identifier){return IO(function(){return console.count(identifier),null;});};var resetCountLog=function(identifier){return IO(function(){return console.countReset(identifier),null;});};var time=IO(Date.now);var forn=function(amount){return function(operation){var effects=[];for(var i=0;i<amount;++i)effects.push(operation(i).effect);return IO(function(){return effects.forEach(function(f){return f();}),null;});};};var forloop=function(start){return function(condition){return function(morphism){return function(operation){var effects=[];for(var i=start;condition(i);i=morphism(i))effects.push(operation(i).effect);return IO(function(){return effects.forEach(function(f){return f();}),null;});};};};};var n_mouseScreenPositionX=IO(function(){return Ψ.mouseSX/screen.width;});var n_mouseScreenPositionY=IO(function(){return Ψ.mouseSY/screen.height;});var n_mouseScreenPosition=IO(function(){return V2(Ψ.mouseSX/screen.width,Ψ.mouseSY/screen.height);});var mouseScreenPositionX=IO(function(){return Ψ.mouseSX;});var mouseScreenPositionY=IO(function(){return Ψ.mouseSY;});var mouseScreenPosition=IO(function(){return V2(Ψ.mouseSX,Ψ.mouseSY);});var n_mouseWindowPositionX=IO(function(){return Ψ.mouseWX/innerWidth;});var n_mouseWindowPositionY=IO(function(){return Ψ.mouseWY/innerHeight;});var n_mouseWindowPosition=IO(function(){return V2(Ψ.mouseWX/innerWidth,Ψ.mouseWY/innerHeight);});var mouseWindowPositionX=IO(function(){return Ψ.mouseWX;});var mouseWindowPositionY=IO(function(){return Ψ.mouseWY;});var mouseWindowPosition=IO(function(){return V2(Ψ.mouseWX,Ψ.mouseWY);});var n_mouseCanvasPositionX=IO(function(){return Ψ.mouseCX/Ψ.ctx.canvas.width;});var n_mouseCanvasPositionY=IO(function(){return Ψ.mouseCY/Ψ.ctx.canvas.height;});var n_mouseCanvasPosition=IO(function(){return V2(Ψ.mouseCX/Ψ.ctx.canvas.width,Ψ.mouseCY/Ψ.ctx.canvas.height);});var mouseCanvasPositionX=IO(function(){return Ψ.mouseCX;});var mouseCanvasPositionY=IO(function(){return Ψ.mouseCY;});var mouseCanvasPosition=IO(function(){return V2(Ψ.mouseCX,Ψ.mouseCY);});var n_mouseDeltaX=IO(function(){return Ψ.mouseDX/Ψ.ctx.canvas.width;});var n_mouseDeltaY=IO(function(){return Ψ.mouseDY/Ψ.ctx.canvas.height;});var n_mouseDelta=IO(function(){return V2(Ψ.mouseDX/Ψ.ctx.canvas.width,Ψ.mouseDY/Ψ.ctx.canvas.height);});var mouseDeltaX=IO(function(){return Ψ.mouseDX;});var mouseDeltaY=IO(function(){return Ψ.mouseDY;});var mouseDelta=IO(function(){return V2(Ψ.mouseDX,Ψ.mouseDY);});var mouseScroll=IO(function(){return Ψ.mouseScroll;});var mouseLeft=IO(function(){return Ψ.mouseButtons[0][0];});var mouseMiddle=IO(function(){return Ψ.mouseButtons[1][0];});var mouseRight=IO(function(){return Ψ.mouseButtons[2][0];});var mouse4th=IO(function(){return Ψ.mouseButtons[3][0];});var mouse5th=IO(function(){return Ψ.mouseButtons[4][0];});var n_mouseLeftClickCoordinateX=__MACRO__.n_clickx(0);var n_mouseLeftClickCoordinateY=__MACRO__.n_clicky(0);var n_mouseLeftClickCoordinates=__MACRO__.n_clickv(0);var mouseLeftClickCoordinateX=__MACRO__.clickx(0);var mouseLeftClickCoordinateY=__MACRO__.clicky(0);var mouseLeftClickCoordinates=__MACRO__.clickv(0);var n_mouseMiddleClickCoordinateX=__MACRO__.n_clickx(1);var n_mouseMiddleClickCoordinateY=__MACRO__.n_clicky(1);var n_mouseMiddleClickCoordinates=__MACRO__.n_clickv(1);var mouseMiddleClickCoordinateX=__MACRO__.clickx(1);var mouseMiddleClickCoordinateY=__MACRO__.clicky(1);var mouseMiddleClickCoordinates=__MACRO__.clickv(1);var n_mouseRightClickCoordinateX=__MACRO__.n_clickx(2);var n_mouseRightClickCoordinateY=__MACRO__.n_clicky(2);var n_mouseRightClickCoordinates=__MACRO__.n_clickv(2);var mouseRighClickCoordinateX=__MACRO__.clickx(2);var mouseRighClickCoordinateY=__MACRO__.clicky(2);var mouseRighClickCoordinates=__MACRO__.clickv(2);var n_mouse4thClickCoordinateX=__MACRO__.n_clickx(3);var n_mouse4thClickCoordinateY=__MACRO__.n_clicky(3);var n_mouse4thClickCoordinates=__MACRO__.n_clickv(3);var mouse4thClickCoordinateX=__MACRO__.clickx(3);var mouse4thClickCoordinateY=__MACRO__.clicky(3);var mouse4thClickCoordinate=__MACRO__.clickv(3);var n_mouse5thClickCoordinateX=__MACRO__.n_clickx(4);var n_mouse5thClickCoordinateY=__MACRO__.n_clicky(4);var n_mouse5thClickCoordinates=__MACRO__.n_clickv(4);var mouse5thClickCoordinateX=__MACRO__.clickx(4);var mouse5thClickCoordinateY=__MACRO__.clicky(4);var mouse5thClickCoordinates=__MACRO__.clickv(4);var keyboardKey=function(keyname){return IO(function(){return Ψ.keyboard[keyname][0];});};var screenWidth=IO(function(){return screen.width;});var screenHeight=IO(function(){return screen.height;});var screenDimensions=IO(function(){return V2(screen.width,screen.height);});var windowWidth=IO(function(){return innerWidth;});var windowHeight=IO(function(){return innerHeight;});var windowDimensions=IO(function(){return V2(innerWidth,innerHeight);});var canvasWidth=IO(function(){return Ψ.ctx.canvas.width;});var canvasHeight=IO(function(){return Ψ.ctx.canvas.height;});var canvasDimensions=IO(function(){return V2(Ψ.ctx.canvas.width,Ψ.ctx.canvas.height);});var n_wasdKeys=IO(function(){var x=isButtonDown(Ψ.keyboard.KeyD[0])-isButtonDown(Ψ.keyboard.KeyA[0]);var y=isButtonDown(Ψ.keyboard.KeyS[0])-isButtonDown(Ψ.keyboard.KeyW[0]);var l=x**2+y**2;return l===0?zeroV2:l===1?V2(x,y):V2(x*invsqrt2,y*invsqrt2);});var wasdKeys=IO(function(){return V2(isButtonDown(Ψ.keyboard.KeyD[0])-isButtonDown(Ψ.keyboard.KeyA[0]),isButtonDown(Ψ.keyboard.KeyS[0])-isButtonDown(Ψ.keyboard.KeyW[0]));});var n_arrowKeys=IO(function(){var x=isButtonDown(Ψ.keyboard.ArrowRight[0])-isButtonDown(Ψ.keyboard.ArrowLeft[0]);var y=isButtonDown(Ψ.keyboard.ArrowDown[0])-isButtonDown(Ψ.keyboard.ArrowUp[0]);var l=x**2+y**2;return l===0?zeroV2:l===1?V2(x,y):V2(x*invsqrt2,y*invsqrt2);});var arrowKeys=IO(function(){return V2(isButtonDown(Ψ.keyboard.ArrowRight[0])-isButtonDown(Ψ.keyboard.ArrowLeft[0]),isButtonDown(Ψ.keyboard.ArrowDown[0])-isButtonDown(Ψ.keyboard.ArrowUp[0]));});var n_textWidth=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref10.actualBoundingBoxLeft,actualBoundingBoxRight=ref10.actualBoundingBoxRight;return (Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/Ψ.ctx.canvas.width;});};var textWidth=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref10.actualBoundingBoxLeft,actualBoundingBoxRight=ref10.actualBoundingBoxRight;return Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight);});};var n_textHeight=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxAscent=ref10.actualBoundingBoxAscent,actualBoundingBoxDescent=ref10.actualBoundingBoxDescent;return (Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/Ψ.ctx.canvas.height;});};var textHeight=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxAscent=ref10.actualBoundingBoxAscent,actualBoundingBoxDescent=ref10.actualBoundingBoxDescent;return Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent);});};var n_textDimensions=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref10.actualBoundingBoxLeft,actualBoundingBoxRight=ref10.actualBoundingBoxRight,actualBoundingBoxAscent=ref10.actualBoundingBoxAscent,actualBoundingBoxDescent=ref10.actualBoundingBoxDescent;return V2((Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight))/Ψ.ctx.canvas.width,(Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent))/Ψ.ctx.canvas.height);});};var textDimensions=function(text){return IO(function(){var ref10=Ψ.ctx.measureText(text),actualBoundingBoxLeft=ref10.actualBoundingBoxLeft,actualBoundingBoxRight=ref10.actualBoundingBoxRight,actualBoundingBoxAscent=ref10.actualBoundingBoxAscent,actualBoundingBoxDescent=ref10.actualBoundingBoxDescent;return V2(Math.abs(actualBoundingBoxLeft)+Math.abs(actualBoundingBoxRight),Math.abs(actualBoundingBoxAscent)+Math.abs(actualBoundingBoxDescent));});};var n_imageWidth=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width/Ψ.ctx.canvas.width:__MACRO__.err_nonexisting_image_path('n_iamgeWidth',path);});};var imageWidth=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width:__MACRO__.err_nonexisting_image_path('iamgeWidth',path);});};var n_imageHeight=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height/Ψ.ctx.canvas.height:__MACRO__.err_nonexisting_image_path('n_imageHeight',path);});};var imageHeight=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height:__MACRO__.err_nonexisting_image_path('imageHeight',path);});};var n_imageAspectRatio=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width/Ψ.image[path].height*Ψ.ctx.canvas.height/Ψ.ctx.canvas.width:__MACRO__.err_nonexisting_image_path('n_imageHeight',path);});};var imageAspectRatio=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width/Ψ.image[path].height:__MACRO__.err_nonexisting_image_path('imageHeight',path);});};var n_imageDimensions=function(path){return IO(function(){return Ψ.image[path]?V2(Ψ.image[path].width/Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.ctx.canvas.height):__MACRO__.err_nonexisting_image_path('n_imageDimensions',path);});};var imageDimensions=function(path){return IO(function(){return Ψ.image[path]?V2(Ψ.image[path].width,Ψ.image[path].height):__MACRO__.err_nonexisting_image_path('imageDimensions',path);});};var n_audioTime=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].currentTime/Ψ.audio[path].duration:__MACRO__.err_nonexisting_audio_path('n_audioTime',path);});};var audioTime=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].currentTime:__MACRO__.err_nonexisting_audio_path('audioTime',path);});};var audioDuration=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].duration:__MACRO__.err_nonexisting_audio_path('audioDuration',path);});};var n_lineThickness=IO(function(){return Ψ.ctx.lineWidth/Ψ.ctx.canvas.width;});var lineThickness=IO(function(){return Ψ.ctx.lineWidth;});var n_lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash().map(function(x){return x/Ψ.ctx.canvas.width;}));});var lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash());});var n_lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset/Ψ.ctx.canvas.width;});var lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset;});var miterLimit=IO(function(){return Ψ.ctx.miterLimit;});var n_fontSize=IO(function(){return parseFloat(Ψ.ctx.font)/Ψ.ctx.canvas.width;});var fontStyle=IO(function(){return Ψ.ctx.font;});var fontSize=IO(function(){return parseFloat(Ψ.ctx.font);});var fontFamily=IO(function(){return Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' ')+1);});var n_shadowOffsetX=IO(function(){return Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.height;});var shadowOffsetX=IO(function(){return Ψ.ctx.shadowOffsetX;});var n_shadowOffsetY=IO(function(){return Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height;});var shadowOffsetY=IO(function(){return Ψ.ctx.shadowOffsetY;});var n_shadowOffset=IO(function(){return V2(Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height);});var shadowOffset=IO(function(){return V2(Ψ.ctx.shadowOffsetX,Ψ.ctx.shadowOffsetY);});var shadowBlurAmount=IO(function(){return Ψ.ctx.shadowBlur;});var shadowColor=IO(function(){return Ψ.ctx.shadowColor;});var n_isInEvenOddPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'evenodd');});};};var n_isInEvenOddPathV2=function(xy){return IO(function(){return Ψ.ctx.isPointInPath(xy.x/Ψ.ctx.canvas.width,xy.y/Ψ.ctx.canvas.height,'evenodd');});};var isInEvenOddPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'evenodd');});};};var isInEvenOddPathV2=function(xy){return IO(function(){return Ψ.ctx.isPointInPath(xy.x,xy.y,'evenodd');});};var n_isInNonZeroPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'nonzero');});};};var n_isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height,'nonzero');});};var isInNonZeroPath=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'nonzero');});};};var isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x,v.y,'nonzero');});};var n_isInStroke=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height);});};};var n_isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height);});};var isInStroke=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x,y);});};};var isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x,v.y);});};var layerIndex=IO(function(){return Ψ.ctxs.findIndex(function(ctx){return ctx===Ψ.ctx;});});var alpha=IO(function(){return Ψ.ctx.globalAlpha;});var lineCap=IO(function(){return Ψ.ctx.lineCap;});var lineJoin=IO(function(){return Ψ.ctx.lineJoin;});var textAlign=IO(function(){return Ψ.ctx.textAlign;});var textBaseline=IO(function(){return Ψ.ctx.textBaseline;});var composition=IO(function(){return Ψ.ctx.globalCompositeOperation;});var sessionSeed=IO(function(){return Ψ.seed;});var randomSeedIO=IO(function(){return Math.random()*Math.random()*128+Math.random()*2023+(Math.random()*766)**3%2048*Date.now()%16777215;});var randomIO=IO(Math.random);var isWindowResized=IO(function(){return Ψ.isResized;});var isPointerLocked=IO(function(){return Ψ.isPointerLocked;});var beginPath=IO(function(){return Ψ.ctx.beginPath(),null;});var closePath=IO(function(){return Ψ.ctx.closePath(),null;});var n_relocateTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};var n_relocateToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var relocateTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x,y),null;});};};var relocateToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x,v.y),null;});};var n_lineTo=function(x){return function(y){return IO(function(){return Ψ.ctx.lineTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};var n_lineToV2=function(v){return IO(function(){return Ψ.ctx.lineTo(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var lineTo=function(x){return function(y){return IO(function(){return Ψ.ctx.lineTo(x,y),null;});};};var lineToV2=function(v){return IO(function(){return Ψ.ctx.lineTo(v.x,v.y),null;});};var n_bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};};};var bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0,cy0,cx1,cy1,x,y),null;});};};};};};};var n_bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};};var bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,xy.x,xy.y),null;});};};};var n_quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx*Ψ.ctx.canvas.width,cy*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};var n_quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x*Ψ.ctx.canvas.width,cxy.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx,cy,x,y),null;});};};};};var quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x,cxy.y,xy.x,xy.y),null;});};};var n_arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};};};var n_arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};var arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0,cy0,cx1,cy1,r),null;});};};};};};var arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,r),null;});};};};var n_rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),null;});};};};};var rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x,y,w,h),null;});};};};};var fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x,y,w,h),null;});};};};};var strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var n_fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var n_strokeFillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var strokeFillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.width,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.width),null;});};};var area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),null;});};};};};var areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0,y0,x1-x0,y1-y0),null;});};};};};var fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0,y0,x1-x0,y1-y0),null;});};};};};var strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var n_fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var n_fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};var fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var n_strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};var strokeFillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};};var n_arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};var arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),null;});};};};};};var arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),null;});};};};};var n_strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};var strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};};var strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};var n_arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};};var n_arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};var arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),null;});};};};};};var arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),null;});};};};};var n_strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};var strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};var strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};var n_circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};};var n_circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};var circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),null;});};};};var circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),null;});};};var n_fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};};var n_fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};var fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),null;});};};};var fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),null;});};};var n_strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};};var n_strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};var strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.stroke(),null;});};};};var strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.stroke(),null;});};};var n_fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var n_fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};var n_strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var n_strokeFillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var strokeFillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var strokeFillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};var n_elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};var elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),null;});};};};};};};};var ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),null;});};};};};};var n_strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};var strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};};};var strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};var n_ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};};};var n_ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),null;});};};};};};var ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),null;});};};};};};};};var ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),null;});};};};};};var n_strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};};};var n_strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};var strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};};};var strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};var n_ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};};};var n_ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};var ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),null;});};};};};};var ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),null;});};};};var n_fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};};};var n_fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};var fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),null;});};};};};};var fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),null;});};};};var n_strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};};};var n_strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};var strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.stroke(),null;});};};};};};var strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.stroke(),null;});};};};var n_fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};var n_fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};var fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};var n_strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};};var n_strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var strokeFillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};};};var strokeFillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.stroke(),Ψ.ctx.fill(),null;});};};};var n_fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};var n_fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),null;});};};};var fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),null;});};};var n_strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};var n_strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};var strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x,y),null;});};};};var strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};var n_fillStrokeText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*Ψ.ctx.canvas.width;var nextY=y*Ψ.ctx.canvas.height;Ψ.ctx.fillText(text,nextX,nextY);Ψ.ctx.strokeText(text,nextX,nextY);return null;});};};};var n_fillStrokeTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*Ψ.ctx.canvas.width;var nextY=xy.y*Ψ.ctx.canvas.height;Ψ.ctx.fillText(text,nextX,nextY);Ψ.ctx.strokeText(text,nextX,nextY);return null;});};};var fillStrokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),Ψ.ctx.strokeText(text,x,y),null;});};};};var fillStrokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};var n_strokeFillText=function(text){return function(x){return function(y){return IO(function(){var nextX=x*Ψ.ctx.canvas.width;var nextY=y*Ψ.ctx.canvas.height;Ψ.ctx.strokeText(text,nextX,nextY);Ψ.ctx.fillText(text,nextX,nextY);return null;});};};};var n_strokeFillTextV2=function(text){return function(xy){return IO(function(){var nextX=xy.x*Ψ.ctx.canvas.width;var nextY=xy.y*Ψ.ctx.canvas.height;Ψ.ctx.strokeText(text,nextX,nextY);Ψ.ctx.fillText(text,nextX,nextY);return null;});};};var strokeFillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x,y),Ψ.ctx.fillText(text,x,y),null;});};};};var strokeFillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x,xy.y),Ψ.ctx.fillText(text,xy.x,xy.y),null;});};};var n_fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,nextX,nextY+nextS*i);});return null;});};};};var fillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,x,y+spacing*i);}),null;});};};};};var fillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.fillText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};};var n_strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,nextX,nextY+nextS*i);});return null;});};};};var strokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,x,y+spacing*i);}),null;});};};};};var strokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){return text.split('\n').forEach(function(line,i){return Ψ.ctx.strokeText(line,xy.x,xy.y+spacing*i);}),null;});};};};var n_strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,nextX,lineY);Ψ.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,nextX,lineY);Ψ.ctx.fillText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var strokeFillMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,x,lineY);Ψ.ctx.fillText(line,x,lineY);lineY+=spacing;});return null;});};};};};var strokeFillMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){Ψ.ctx.strokeText(line,xy.x,lineY);Ψ.ctx.fillText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var nextX=Ψ.ctx.canvas.width*x;var nextY=Ψ.ctx.canvas.height*y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,nextX,lineY);Ψ.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};};var n_fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var nextX=Ψ.ctx.canvas.width*xy.x;var nextY=Ψ.ctx.canvas.height*xy.y;var nextS=Ψ.ctx.canvas.height*spacing;var lineY=nextY;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,nextX,lineY);Ψ.ctx.strokeText(line,nextX,lineY);lineY+=nextS;});return null;});};};};var fillStrokeMultilineText=function(text){return function(spacing){return function(x){return function(y){return IO(function(){var lineY=y;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,x,lineY);Ψ.ctx.strokeText(line,x,lineY);lineY+=spacing;});return null;});};};};};var fillStrokeMultilineTextV2=function(text){return function(spacing){return function(xy){return IO(function(){var lineY=xy.y;text.split('\n').forEach(function(line){Ψ.ctx.fillText(line,xy.x,lineY);Ψ.ctx.strokeText(line,xy.x,lineY);lineY+=spacing;});return null;});};};};var n_line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),null;});};};};};var n_lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),null;});};};var line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),null;});};};};};var lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),null;});};};var n_strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};};};var n_strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};var strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),Ψ.ctx.stroke(),null;});};};};};var strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),Ψ.ctx.stroke(),null;});};};var n_vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.height),null;});};};};};var n_vectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.height),null;});};};var vectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),null;});};};};};var vectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),null;});};};var n_strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};};};var n_strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};var strokeVectorLine=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),Ψ.ctx.stroke(),null;});};};};};var strokeVectorLineV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),Ψ.ctx.stroke(),null;});};};var n_image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cx*Ψ.image[path].width,cy*Ψ.image[path].height,cw*Ψ.image[path].width,ch*Ψ.image[path].height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_image',path);});};};};};};};};};};var n_imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cxy.x*Ψ.image[path].width,cxy.y*Ψ.image[path].height,cwh.x*Ψ.image[path].width,cwh.y*Ψ.image[path].height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_imageV2',path);});};};};};};var image=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cx,cy,cw,ch,x,y,w,h),null):__MACRO__.err_nonexisting_image_path('image',path);});};};};};};};};};};var imageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],cxy.x,cxy.y,cwh.x,cwh.y,xy.x,xy.y,wh.x,wh.y),null):__MACRO__.err_nonexisting_image_path('imageV2',path);});};};};};};var n_uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_uncroppedImage',path);});};};};};};var n_uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_uncroppedImageV2',path);});};};};var uncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,w,h),null):__MACRO__.err_nonexisting_image_path('uncroppedImage',path);});};};};};};var uncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,wh.x,wh.y),null):__MACRO__.err_nonexisting_image_path('uncroppedImageV2',path);});};};};var n_fullImage=function(path){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullImage',path);});};};};var n_fullImageV2=function(path){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null):__MACRO__.err_nonexisting_image_path('n_fullImageV2',path);});};};var fullImage=function(path){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y),null):__MACRO__.err_nonexisting_image_path('fullImage',path);});};};};var fullImageV2=function(path){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y),null):__MACRO__.err_nonexisting_image_path('fullImageV2',path);});};};var n_fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,k*Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.image[path].width*k*Ψ.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_fullScaledImage',path);});};};};};var n_fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,k*Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.image[path].width*k*Ψ.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_fullScaledImageV2',path);});};};};var fullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,Ψ.image[path].width*k,Ψ.image[path].height*k),null):__MACRO__.err_nonexisting_image_path('fullScaledImage',path);});};};};};var fullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,Ψ.image[path].width*k,Ψ.image[path].height*k),null):__MACRO__.err_nonexisting_image_path('fullScaledImageV2',path);});};};};var n_squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,w*Ψ.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_squareImage',path);});};};};};var n_squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,w*Ψ.ctx.canvas.width),null):__MACRO__.err_nonexisting_image_path('n_squareImageV2',path);});};};};var squareImage=function(path){return function(w){return function(x){return function(y){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],x,y,w,w),null):__MACRO__.err_nonexisting_image_path('squareImage',path);});};};};};var squareImageV2=function(path){return function(w){return function(xy){return IO(function(){return Ψ.image[path]?(Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,w,w),null):__MACRO__.err_nonexisting_image_path('squareImageV2',path);});};};};var n_clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};var n_clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};var clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x,y,w,h),null;});};};};};var clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x,xy.y,wh.x,wh.y),null;});};};var n_clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};var n_clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};var clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0,y0,x1-x0,y1-y0),null;});};};};};var clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};var clearLayer=IO(function(){return Ψ.ctx.clearRect(0,0,Ψ.ctx.canvas.width,Ψ.ctx.canvas.height),null;});var clearCanvas=IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}),null;});var fill=IO(function(){return Ψ.ctx.fill(),null;});var stroke=IO(function(){return Ψ.ctx.stroke(),null;});var clipEvenOdd=IO(function(){return Ψ.ctx.clip('evenodd'),null;});var clipNonZero=IO(function(){return Ψ.ctx.clip('nonzero'),null;});var n_rotateLayer=function(angle){return IO(function(){return Ψ.ctx.rotate(angle*tau),null;});};var rotateLayer=function(angle){return IO(function(){return Ψ.ctx.rotate(angle),null;});};var n_translateLayerX=function(dx){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,0),null;});};var n_translateLayerY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy*Ψ.ctx.canvas.height),null;});};var n_translateLayer=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,dy*Ψ.ctx.canvas.height),null;});};};var n_translateLayerV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};var translateLayerX=function(dx){return IO(function(){return Ψ.ctx.translate(dx,0),null;});};var translateLayerY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy),null;});};var translateLayer=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx,dy),null;});};};var translateLayerV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x,v.y),null;});};var scaleLayer=function(k){return IO(function(){return Ψ.ctx.scale(k,k),null;});};var scaleLayerAxisX=function(kx){return IO(function(){return Ψ.ctx.scale(kx,1),null;});};var scaleLayerAxisY=function(ky){return IO(function(){return Ψ.ctx.scale(1,ky),null;});};var scaleLayerAxis=function(kx){return function(ky){return IO(function(){return Ψ.ctx.scale(kx,ky),null;});};};var scaleLayerAxisV2=function(kxy){return IO(function(){return Ψ.ctx.scale(kxy.x,kxy.y),null;});};var resetTransformation=IO(function(){return Ψ.ctx.resetTransform(),null;});var n_setCanvasWidth=function(w){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth;}),null;});};var setCanvasWidth=function(w){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w;}),null;});};var n_setCanvasHeight=function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.height=h*innerHeight;}),null;});};var setCanvasHeight=function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.height=h;}),null;});};var n_setCanvasDimensions=function(w){return function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w*innerWidth,ctx.canvas.height=h*innerHeight;}),null;});};};var n_setCanvasDimensionsV2=function(wh){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x*innerWidth,ctx.canvas.height=wh.y*innerHeight;}),null;});};var setCanvasDimensions=function(w){return function(h){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=w,ctx.canvas.height=h;}),null;});};};var setCanvasDimensionsV2=function(wh){return IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.canvas.width=wh.x,ctx.canvas.height=wh.y;}),null;});};var n_setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness*Ψ.ctx.canvas.width,null;});};var setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness,null;});};var n_setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern).map(function(x){return x*Ψ.ctx.canvas.width;})),null;});};var setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern)),null;});};var n_setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset*Ψ.ctx.canvas.width,null;});};var setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset,null;});};var setFontStyle=function(font){return IO(function(){return Ψ.ctx.font=font,null;});};var n_setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size*Ψ.ctx.canvas.width,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};var setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};var setFontFamily=function(family){return IO(function(){return Ψ.ctx.font="".concat(parseFloat(Ψ.ctx.font),"px \"").concat(family,"\""),null;});};var n_setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var setShadowRGBAV4=function(v){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setShadowRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var n_setShadowRGBAV4=function(v){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w*255,")"),null;});};var n_setShadowOffsetX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,null;});};var setShadowOffsetX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x,null;});};var n_setShadowOffsetY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};var setShadowOffsetY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y,null;});};var n_setShadowOffset=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};};var setShadowOffset=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x,Ψ.ctx.shadowOffsetY=y,null;});};};var n_setShadowOffsetV2=function(xy){return IO(function(){return Ψ.ctx.shadowOffsetX=xy.x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=xy.y*Ψ.ctx.canvas.height,null;});};var setShadowOffsetV2=function(xy){return IO(function(){return Ψ.ctx.shadowOffsetX=xy.x,Ψ.ctx.shadowOffsetY=xy.y,null;});};var setShadowColor=function(color){return IO(function(){return Ψ.ctx.shadowColor=color,null;});};var n_setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setFillRGBAV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setFillRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setFillRGBAV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var n_setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};};};};var n_setStrokeRGBAV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};var setStrokeRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setStrokeRGBAV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};var setFillColor=function(color){return IO(function(){return Ψ.ctx.fillStyle=color,null;});};var setStrokeColor=function(color){return IO(function(){return Ψ.ctx.strokeStyle=color,null;});};var setMiterLimit=function(limit){return IO(function(){return Ψ.ctx.miterLimit=limit,null;});};var setShadowBlurAmount=function(amount){return IO(function(){return Ψ.ctx.shadowBlur=amount,null;});};var setAlpha=function(alpha1){return IO(function(){return Ψ.ctx.globalAlpha=alpha1,null;});};var setLineCap=function(linecap){return IO(function(){return Ψ.ctx.lineCap=linecap,null;});};var setLineJoin=function(linejoin){return IO(function(){return Ψ.ctx.lineJoin=linejoin,null;});};var setTextAlign=function(alignment){return IO(function(){return Ψ.ctx.textAlign=alignment,null;});};var setTextBaseline=function(baseline){return IO(function(){return Ψ.ctx.textBaseline=baseline,null;});};var setComposition=function(composition1){return IO(function(){return Ψ.ctx.globalCompositeOperation=composition1,null;});};var setToCenteredTextStyle=IO(function(){return Ψ.ctx.textAlign='center',Ψ.ctx.textBaseline='middle',null;});var setToDefaultTextStyle=IO(function(){return Ψ.ctx.textAlign='start',Ψ.ctx.textBaseline='alphabetic',null;});var setActiveLayer=function(index){return IO(function(){return index>=0&&index<Ψ.ctxs.length&&Number.isInteger(index)?(Ψ.ctx=Ψ.ctxs[index],null):__MACRO__.err_layer_index('setActiveLayer',index);});};var loadFont=function(path){return IO(function(){return new FontFace(path.slice(path.lastIndexOf('/')+1,path.lastIndexOf('.')),"url(".concat(path,")")).load().then(function(font){return document.fonts.add(font);}).catch(function(){console.error("'loadFont' could not load font");console.dir("Signature : loadFont (<PATH>)");console.dir("<PATH> =",path);return halt;}),null;});};var loadImage=function(path){return IO(function(){if(Ψ.image[path]===undefined){Ψ.image[path]=new Image;Ψ.image[path].src=path;Ψ.image[path].onerror=function(){console.error("'loadImage' could not load image");console.dir("Signature : loadImage (<PATH>)");console.dir("<PATH> =",path);return halt;};}return null;});};var loadAudio=function(path){return IO(function(){if(Ψ.audio[path]===undefined){Ψ.audio[path]=new Audio(path);Ψ.audio[path].onerror=function(){console.error("'loadAudio' could not load audio");console.dir("Signature : loadAudio (<PATH>)");console.dir("<PATH> =",path);return halt;};}return null;});};var setAudioTime=function(path){return function(time1){return IO(function(){if(Ψ.audio[path]){if(time1>=0&&time1<=Ψ.audio[path].duration){Ψ.audio[path].currentTime=time1;return null;}else{console.error("'setAudioTime' only takes numbers in interval [0, ".concat(Ψ.audio[path].duration,"] for given audio file"));console.dir("Signature : setAudioTime (<PATH>) (<TIME>");console.dir("<PATH> =",path);console.dir("<TIME> =",time1);return halt;}}else{console.error("'setAudioTime' received an unloaded (possibly non-existing) audio path");console.dir("Signature : setAudioTime (<PATH>) (<TIME>");console.dir("<PATH> =",path);console.dir("<TIME> =",time1);return halt;}});};};var resetAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].pause(),Ψ.audio[path].currentTime=0,null):__MACRO__.err_nonexisting_audio_path('resetAudio',path);});};var playAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].play(),null):__MACRO__.err_nonexisting_audio_path('playAudio',path);});};var pauseAudio=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].pause(),null):__MACRO__.err_nonexisting_audio_path('pauseAudio',path);});};var playSFX=function(path){return IO(function(){return Ψ.audio[path]?(Ψ.audio[path].cloneNode().play(),null):__MACRO__.err_nonexisting_audio_path('playSFX',path);});};var saveLayerState=IO(function(){return Ψ.ctx.save(),null;});var restoreLayerState=IO(function(){return Ψ.ctx.restore(),null;});var requestPointerLock=IO(function(){return document.onmouseup=function(){return Ψ.isPointerLocked||Ψ.ctxs[0].canvas.requestPointerLock();},null;});var deactivatePointerLock=IO(function(){return document.exitPointerLock(),document.onmouseup=null;});var refreshBuffer=IO(function(){for(var k in Ψ.keyboard){var keyBuffer=Ψ.keyboard[k];var lastKeyInput=keyBuffer[keyBuffer.length-1];if(lastKeyInput==='toDown')keyBuffer.push('Down');else if(lastKeyInput==='toUp')keyBuffer.push('Up');if(keyBuffer.length!==1)keyBuffer.shift();}for(var i in Ψ.mouseButtons){var buttonBuffer=Ψ.mouseButtons[i];var lastButtonInput=buttonBuffer[buttonBuffer.length-1];if(lastButtonInput==='toDown')buttonBuffer.push('Down');else if(lastButtonInput==='toUp')buttonBuffer.push('Up');if(buttonBuffer.length!==1)buttonBuffer.shift();}Ψ.mouseDX=Ψ.mouseDY=0;Ψ.mouseScroll='Zero';Ψ.isResized=false;return null;});var queueIO=function(io){return IO(function(){return requestAnimationFrame(io.effect),null;});};var setCanvasBackgroundColor=function(color){return IO(function(){return Ψ.ctxs[0].canvas.style.background=color,null;});};var setCanvasBackgroundRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return Ψ.ctxs[0].canvas.style.background="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setCanvasBackgroundRGBAV4=function(rgba){return IO(function(){return Ψ.ctxs[0].canvas.style.background="rgba(".concat(rgba.x,",").concat(rgba.y,",").concat(rgba.z,",").concat(rgba.w,")"),null;});};var setWindowBackgroundColor=function(color){return IO(function(){return document.body.style.background=color,null;});};var setWindowBackgroundRGBA=function(r){return function(g){return function(b){return function(a){return IO(function(){return document.body.style.background="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};};};};var setWindowBackgroundRGBAV4=function(rgba){return IO(function(){return document.body.style.background="rgba(".concat(rgba.x,",").concat(rgba.y,",").concat(rgba.z,",").concat(rgba.w,")"),null;});};var formatter=function(morphism){return function(strings){for(var _len=arguments.length,values=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key];}return values.map(function(value,i){return strings[i]+morphism(value);}).join('')+strings[strings.length-1];};};var Do_IO=send(SCOPE);var Do_Process=Process(function(s){return Pair(s,SCOPE);});var Do_Maybe=Just(SCOPE);var Do_List=singleton(SCOPE);var Do_MaybeIO=sendJust(SCOPE);var run=function(strings){for(var _len=arguments.length,values=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key];}return location.replace("index.html?project=".concat(strings.raw[0]));};var Ψ={MUTABLE:{},STACK:[],ctxs:[],ctx:undefined,resizeID:undefined,isResized:false,isPointerLocked:false,seed:(Math.random()-0.5)*Date.now()%16777215,debugCounter:0,image:Object.create(null),audio:Object.create(null),mouseSX:0,mouseSY:0,mouseWX:0,mouseWY:0,mouseCX:0,mouseCY:0,mouseDX:0,mouseDY:0,mouseScroll:'Zero',mouseButtons:Array(5).fill(['Up']),keyboard:keyboardKeysArray.reduce(function($,k){return _objectSpread({},$,_defineProperty({},k,['Up']));},Object.create(null))};onload=function(){Ψ.ctxs=Array.from(document.querySelectorAll('canvas')).map(function(x){return x.getContext('2d');});Ψ.ctx=Ψ.ctxs[0];onresize=function(){return clearTimeout(Ψ.resizeID),Ψ.resizeID=setTimeout(function(){return Ψ.isResized=true;},250);};onmouseup=function(ev){return Ψ.mouseButtons[ev.button].push('toUp');};onmousedown=function(ev){return Ψ.mouseButtons[ev.button].push('toDown');};onkeyup=function(ev){return Ψ.keyboard[ev.code].push('toUp');};onkeydown=function(ev){return ev.repeat?null:Ψ.keyboard[ev.code].push('toDown');};onwheel=function(ev){return Ψ.mouseScroll=ev.deltaY<0?'Positive':ev.deltaY>0?'Negative':'Zero';};onmousemove=function(ev){Ψ.mouseWX=ev.x,Ψ.mouseWY=ev.y,Ψ.mouseCX=ev.clientX-Ψ.ctxs[0].canvas.offsetLeft,Ψ.mouseCY=ev.clientY-Ψ.ctxs[0].canvas.offsetTop,Ψ.mouseSX=ev.screenX,Ψ.mouseSY=ev.screenY,Ψ.mouseDX=ev.movementX,Ψ.mouseDY=ev.movementY;};document.onpointerlockchange=function(){return Ψ.isPointerLocked=document.pointerLockElement===Ψ.ctxs[0].canvas;};Ψ.ctxs[0].canvas.setAttribute("style","background:white");new Promise(function(resolve,reject){var script=document.createElement("script");var ref10;script.src="./js/".concat((ref10=new URLSearchParams(location.search).get("project"))!==null&&ref10!== void 0?ref10:"main",".js");script.onerror=reject;script.onload=resolve;script.addEventListener("error",reject);script.addEventListener("load",resolve);document.body.appendChild(script);}).then(function(){var ref10;if(typeof window.main!=='undefined'){if(typeof((ref10=window.main)===null||ref10=== void 0?void 0:ref10.effect)==='function')window.main.effect();else console.dir("main =",window.main);}}).catch(function(e1){console.error(e1);halt;});};
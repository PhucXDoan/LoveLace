function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}var _typeof=function(obj){return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj;};var MAXI=1024;var STAP="(S.T.A.P.) Stopped To Avoid Phailures";var Vertical;(function(Vertical1){Vertical1["Downward"]='Vertical.Downward : Vertical';Vertical1["Down"]='Vertical.Down : Vertical';Vertical1["Rest"]='Vertical.Rest : Vertical';Vertical1["Upward"]='Vertical.Upward : Vertical';Vertical1["Up"]='Vertical.Up : Vertical';})(Vertical||(Vertical={}));var LineCap;(function(LineCap1){LineCap1["Butt"]='LineCap.Butt : LineCap';LineCap1["Round"]='LineCap.Round : LineCap';LineCap1["Square"]='LineCap.Square : LineCap';})(LineCap||(LineCap={}));var LineJoin;(function(LineJoin1){LineJoin1["Round"]='LineJoin.Round : LineJoin';LineJoin1["Bevel"]='LineJoin.Bevel : LineJoin';LineJoin1["Miter"]='LineJoin.Miter : LineJoin';})(LineJoin||(LineJoin={}));var TextAlign;(function(TextAlign1){TextAlign1["Start"]='TextAlign.Start : TextAlign';TextAlign1["End"]='TextAlign.End : TextAlign';TextAlign1["Leftside"]='TextAlign.Leftside : TextAlign';TextAlign1["Rightside"]='TextAlign.Rightside : TextAlign';TextAlign1["Center"]='TextAlign.Center : TextAlign';})(TextAlign||(TextAlign={}));var TextBaseline;(function(TextBaseline1){TextBaseline1["Top"]='TextBaseline.Top : TextBaseline';TextBaseline1["Hanging"]='TextBaseline.Hanging : TextBaseline';TextBaseline1["Middle"]='TextBaseline.Middle : TextBaseline';TextBaseline1["Alphabetic"]='TextBaseline.Alphabetic : TextBaseline';TextBaseline1["Ideographic"]='TextBaseline.Ideographic : TextBaseline';TextBaseline1["Bottom"]='TextBaseline.Bottom : TextBaseline';})(TextBaseline||(TextBaseline={}));var Composition;(function(Composition1){Composition1["SourceOver"]='Composition.SourceOver : Composition';Composition1["SourceAtop"]='Composition.SourceAtop : Composition';Composition1["SourceIn"]='Composition.SourceIn : Composition';Composition1["SourceOut"]='Composition.SourceOut : Composition';Composition1["DestinationOver"]='Composition.DestinationOver : Composition';Composition1["DestinationAtop"]='Composition.DestinationAtop : Composition';Composition1["DestinationIn"]='Composition.DestinationIn : Composition';Composition1["DestinationOut"]='Composition.DestinationOut : Composition';Composition1["Lighter"]='Composition.Lighter : Composition';Composition1["Xor"]='Composition.Xor : Composition';Composition1["Copy"]='Composition.Copy : Composition';Composition1["Multiply"]='Composition.Multiply : Composition';Composition1["Screen"]='Composition.Screen : Composition';Composition1["Overlay"]='Composition.Overlay : Composition';Composition1["Darken"]='Composition.Darken : Composition';Composition1["Lighten"]='Composition.Lighten : Composition';Composition1["ColorDodge"]='Composition.ColorDodge : Composition';Composition1["ColorBurn"]='Composition.ColorBurn : Composition';Composition1["HardLight"]='Composition.HardLight : Composition';Composition1["SoftLight"]='Composition.SoftLight : Composition';Composition1["Difference"]='Composition.Difference : Composition';Composition1["Exclusion"]='Composition.Exclusion : Composition';Composition1["Hue"]='Composition.Hue : Composition';Composition1["Saturation"]='Composition.Saturation : Composition';Composition1["Color"]='Composition.Color : Composition';Composition1["Luminosity"]='Composition.Luminosity : Composition';})(Composition||(Composition={}));var e=2.718281828459045;var ln2=0.6931471805599453;var ln10=2.302585092994046;var log2e=1.4426950408889634;var log10e=0.4342944819032518;var pi=3.141592653589793;var piDiv180=0.017453292519943295;var invPiDiv180=57.29577951308232;var tau=6.283185307179586;var sqrt2=1.4142135623730951;var invSqrt2=0.7071067811865476;var abs=Math.abs;var acos=Math.acos;var acosh=Math.acosh;var asin=Math.asin;var asinh=Math.asinh;var atan=Math.atan;var atan2=function(y){return function(x){return Math.atan2(y,x);};};var ratan2=function(x){return function(y){return Math.atan2(y,x);};};var atanh=Math.atanh;var cbrt=Math.cbrt;var ceil=Math.ceil;var clz32=Math.clz32;var cos=Math.cos;var cosh=Math.cosh;var exp=Math.exp;var expm1=Math.expm1;var floor=Math.floor;var fround=Math.fround;var hypot=function(x){return function(y){return Math.hypot(x,y);};};var ln=Math.log;var log10=Math.log10;var lnp1=Math.log1p;var log2=Math.log2;var max=function(x){return function(y){return Math.max(x,y);};};var min=function(x){return function(y){return Math.min(x,y);};};var roundInt=Math.round;var roundStr=function(x){return function(amount){return x.toFixed(amount);};};var rroundStr=function(amount){return function(x){return x.toFixed(amount);};};var sign=Math.sign;var sin=Math.sin;var sinh=Math.sinh;var sqrt=Math.sqrt;var tan=Math.tan;var tanh=Math.tanh;var trunc=function(x){return ~~x;};var negate=function(x){return -x;};var reciprocate=function(x){return 1/x;};var add=function(x){return function(y){return x+y;};};var sub=function(x){return function(y){return x-y;};};var rsub=function(y){return function(x){return x-y;};};var mul=function(x){return function(y){return x*y;};};var div=function(x){return function(y){return x/y;};};var rdiv=function(y){return function(x){return x/y;};};var idiv=function(x){return function(y){return ~~(x/y);};};var ridiv=function(y){return function(x){return ~~(x/y);};};var pow=function(x){return function(y){return Math.pow(x,y);};};var rpow=function(y){return function(x){return Math.pow(x,y);};};var mod=function(x){return function(y){return x%y;};};var rmod=function(y){return function(x){return x%y;};};var modulo=function(x){return function(y){return (x%y+y)%y;};};var rmodulo=function(y){return function(x){return (x%y+y)%y;};};var bit=function(b){return +b;};var bNOT=function(x){return ~x;};var bLSHIFT=function(x){return function(amount){return x<<amount;};};var rbLSHIFT=function(amount){return function(x){return x<<amount;};};var bRSHIFT=function(x){return function(amount){return x>>amount;};};var rbRSHIFT=function(amount){return function(x){return x>>amount;};};var bURSHIFT=function(x){return function(amount){return x>>>amount;};};var rbURSHIFT=function(amount){return function(x){return x>>>amount;};};var bAND=function(x){return function(y){return x&y;};};var bNAND=function(x){return function(y){return ~(x&y);};};var bOR=function(x){return function(y){return x|y;};};var bNOR=function(x){return function(y){return ~(x|y);};};var bXOR=function(x){return function(y){return x^y;};};var bNXOR=function(x){return function(y){return ~(x^y);};};var not=function(b){return !b;};var and=function(b){return function(d){return b&&d;};};var nand=function(b){return function(d){return !(b&&d);};};var or=function(b){return function(d){return b||d;};};var nor=function(b){return function(d){return !(b||d);};};var xor=function(b){return function(d){return b!==d;};};var nxor=function(b){return function(d){return b===d;};};var lt=function(x){return function(y){return x<y;};};var lte=function(x){return function(y){return x<=y;};};var gt=function(x){return function(y){return x>=y;};};var gte=function(x){return function(y){return x>=y;};};var less=function(x){return function(y){return y<x;};};var lessEqual=function(x){return function(y){return y<=x;};};var greater=function(x){return function(y){return y>=x;};};var greaterEqual=function(x){return function(y){return y>=x;};};var approx=function(amount){return function(x){return function(y){return Math.abs(x-y)<amount;};};};var napprox=function(amount){return function(x){return function(y){return Math.abs(x-y)>amount;};};};var diff=function(x){return function(y){return Math.abs(x-y);};};var lerp=function(t){return function(x){return function(y){return x+(y-x)*t;};};};var even=function(x){return x%2===0;};var odd=function(x){return Math.abs(x)%2===1;};var toDegrees=function(degrees){return degrees*invPiDiv180;};var toRadians=function(degrees){return degrees*piDiv180;};var toHexColor=function(decimal){return "#".concat((~~Math.abs(decimal)%16777216).toString(16).padStart(6,'0'));};var id=function(x){return x;};var apply=id;var rapply=function(x){return function(f){return f(x);};};var flip=function(f){return function(y){return function(x){return f(x)(y);};};};var notf=function(predicate){return function(value){return !predicate(value);};};var until=function(predicate){return function(endomorphism){return function(initial){while(!predicate(initial))initial=endomorphism(initial);return initial;};};};var isIn=function(lower){return function(upper){return function(n){return lower<n&&n<upper;};};};var isInRect=function(rx){return function(ry){return function(rw){return function(rh){return function(x){return function(y){return rx<x&&x<rx+rw&&ry<y&&y<ry+rh;};};};};};};var show=function(value){return "".concat(value);};var error=function(message){throw message;};var warn=function(message){return function(value){return console.warn(message),value;};};Boolean.prototype.pipe=Number.prototype.pipe=String.prototype.pipe=Array.prototype.pipe=function(f){return f(this);};Boolean.prototype.eq=Number.prototype.eq=String.prototype.eq=function(x){return this===x;};var IO=function(effect){return {variation:'IO',effect:effect,pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(effect()).effect();});},fmap:function(f){return IO(function(){return f(effect());});},bindto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($).effect()));});};},fmapto:function(k){return function(f){return IO(function(){var $=effect();return _objectSpread({},$,_defineProperty({},k,f($)));});};},then:function(io){return IO(function(){return effect(),io.effect();});},also:function(f){return IO(function(){var x=effect();return f(x).effect(),x;});},side:function(io){return IO(function(){var x=effect();return io.effect(),x;});},cast:function(x){return IO(function(){return effect(),x;});}};};var Process=function(computation){return {variation:'Process',computation:computation,pipe:function(f){return f(this);},bind:function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return f(second).computation(first);});},fmap:function(f){return Process(function(s){return fsnd(f)(computation(s));});},bindto:function(k){return function(f){return Process(function(s){var ref=computation(s),first0=ref.fst,second0=ref.snd;var ref1=f(second0).computation(first0),first1=ref1.fst,second1=ref1.snd;return Pair(first1,_objectSpread({},second0,_defineProperty({},k,second1)));});};},fmapto:function(k){return function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(first,_objectSpread({},second,_defineProperty({},k,f(second))));});};},then:function(p){return Process(function(s){return p.computation(computation(s).fst);});},also:function(f){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(f(second).computation(first).fst,second);});},side:function(p){return Process(function(s){var ref=computation(s),first=ref.fst,second=ref.snd;return Pair(p.computation(first).fst,second);});},cast:function(x){return Process(function(s){return Pair(computation(s).fst,x);});}};};var Nil={variation:'Nil',get $REVERSE (){return this;},$LEN:0,fmap:function(_){return Nil;},bind:function(_){return Nil;},fmapto:function(_){return function(_1){return Nil;};},bindto:function(_){return function(_1){return Nil;};},pipe:function(f){return f(Nil);},link:id,eq:function(xs){return xs===Nil;}};var Cons=(function(lfirst){return (function(lrest){return {variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=lfirst();},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=lrest();},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(Cons).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(Cons).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(Cons).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var List=function(){for(var _len=arguments.length,elements=new Array(_len),_key=0;_key<_len;_key++){elements[_key]=arguments[_key];}var xs=Nil;for(var i=elements.length-1;~i;--i)xs=prepend(elements[i])(xs);return xs;};var Nothing={variation:'Nothing',pipe:function(f){return f(Nothing);},eq:function(m){return m===Nothing;},bind:function(_){return Nothing;},fmap:function(_){return Nothing;},bindto:function(_){return function(_1){return Nothing;};},fmapto:function(_){return function(_1){return Nothing;};}};var Just=function(value){return {variation:'Just',value:value,pipe:function(f){return f(this);},eq:function(m){return m.variation==='Just'&&m.value.eq(value);},bind:rapply(value),fmap:function(f){return Just(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return Just(_objectSpread({},value,_defineProperty({},k,f(value))));};}};};var Pair=function(first,second){return {variation:'Pair',fst:first,snd:second,pipe:function(f){return f(this);},eq:function(p){return p.fst.eq(first)&&p.snd.eq(second);}};};var Left=function(value){return {variation:'Left',value:value,pipe:function(f){return f(this);},eq:function(x){return x.variation==='Left'&&x.value.eq(value);}};};var Right=function(value){return {variation:'Right',value:value,pipe:function(f){return f(this);},eq:function(x){return x.variation==='Right'&&x.value.eq(value);}};};var Vector2=function(x,y){return {variation:'Vector2',x:x,y:y,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y;}};};var Vector3=function(x,y,z){return {variation:'Vector3',x:x,y:y,z:z,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z;}};};var Vector4=function(x,y,z,w){return {variation:'Vector4',x:x,y:y,z:z,w:w,pipe:function(f){return f(this);},eq:function(v){return v.x===x&&v.y===y&&v.z===z&&v.w===w;}};};var Matrix2=function(ix,jx,iy,jy){return {variation:'Matrix2',ix:ix,jx:jx,iy:iy,jy:jy,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.iy===iy&&m.jy===jy;}};};var Matrix3=function(ix,jx,kx,iy,jy,ky,iz,jz,kz){return {variation:'Matrix3',ix:ix,jx:jx,kx:kx,iy:iy,jy:jy,ky:ky,iz:iz,jz:jz,kz:kz,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.kx===kx&&m.iy===iy&&m.jy===jy&&m.ky===ky&&m.iz===iz&&m.jz===jz&&m.kz===kz;}};};var Matrix4=function(ix,jx,kx,lx,iy,jy,ky,ly,iz,jz,kz,lz,iw,jw,kw,lw){return {variation:'Matrix4',ix:ix,jx:jx,kx:kx,lx:lx,iy:iy,jy:jy,ky:ky,ly:ly,iz:iz,jz:jz,kz:kz,lz:lz,iw:iw,jw:jw,kw:kw,lw:lw,pipe:function(f){return f(this);},eq:function(m){return m.ix===ix&&m.jx===jx&&m.kx===kx&&m.lx===lx&&m.iy===iy&&m.jy===jy&&m.ky===ky&&m.ly===ly&&m.iz===iz&&m.jz===jz&&m.kz===kz&&m.lz===lz&&m.iw===iw&&m.jw===jw&&m.kw===kw&&m.lw===lw;}};};var ref,ref1;var Mapping=function(){for(var _len=arguments.length,pairs=new Array(_len),_key=0;_key<_len;_key++){pairs[_key]=arguments[_key];}return {variation:'Mapping',codomain:function(x){return ((ref=pairs.find(function(p){return p[0].eq(x);}))!==null&&ref!== void 0?ref:error("'(Mapping).codomain' was non-exhaustive; no corresponding codomain for value '".concat(x,"'")))[1];},domain:function(x){return ((ref1=pairs.find(function(p){return p[1].eq(x);}))!==null&&ref1!== void 0?ref1:error("'(Mapping).domain' was non-exhaustive; no corresponding domain for value '".concat(x,"'")))[0];},pipe:function(f){return f(this);}};};var send=function(value){return {variation:'IO',effect:function(){return value;},pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(value).effect();});},fmap:function(f){return IO(function(){return f(value);});},bindto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value).effect()));});};},fmapto:function(k){return function(f){return IO(function(){return _objectSpread({},value,_defineProperty({},k,f(value)));});};},then:id,also:function(f){return IO(function(){return f(value).effect(),value;});},side:function(io){return IO(function(){return io.effect(),value;});},cast:send};};var idle={variation:'IO',effect:function(){return null;},pipe:function(f){return f(this);},bind:function(f){return IO(function(){return f(null).effect();});},fmap:function(f){return IO(function(){return f(null);});},bindto:function(_){return function(_1){return error("'(idle).bindto' was caught used incorrectly; use the Do syntax");};},fmapto:function(_){return function(_1){return error("'(idle).fmapto' was caught used incorrectly; use the Do syntax");};},then:id,also:function(f){return IO(function(){return f(null).effect(),null;});},side:function(io){return IO(function(){return io.effect(),null;});},cast:send};var executing=function(){for(var _len=arguments.length,ios=new Array(_len),_key=0;_key<_len;_key++){ios[_key]=arguments[_key];}return IO(function(){return ios.forEach(function(io){return io.effect();}),null;});};var put=function(replacement){return function(process){return Process(function(s){return Pair(replacement,process.computation(s).snd);});};};var get=function(process){return Process(function(s){return same(process.computation(s).fst);});};var runProcess=function(process){return process.computation;};var execProcess=function(process){return function(state){return process.computation(state).fst;};};var evalProcess=function(process){return function(state){return process.computation(state).snd;};};var mapProcess=function(morphism){return function(process){return Process(function(s){return morphism(process.computation(s));});};};var endomapState=function(endomorphism){return function(process){return Process(function(s){return ffst(endomorphism)(process.computation(s));});};};var isNil=function(xs){return xs.variation==='Nil';};var isCons=function(xs){return xs.variation==='Cons';};var head=function(xs){return xs.variation==='Cons'?xs.head:error("'head' received a Nil value");};var tail=function(xs){return xs.variation==='Cons'?xs.tail:error("'tail' received a Nil value");};var link=function(xs){return function(ys){return xs.link(ys);};};var listToArray=function(xs){var ys=[];for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)return warn("'toArray' reached the maximum amount of elements allowed (".concat(MAXI,"); ").concat(STAP))(ys);else ys.push(xs.head),xs=xs.tail;return ys;};var unchars=function(xs){var str="";for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)return warn("'toString' reached the maximum amount of characters allowed (".concat(MAXI,"); ").concat(STAP))(str);else str+=xs.head,xs=xs.tail;return str;};var chars=function(str){return List.apply(void 0,str);};var prepend=function(first){return function(rest){return rest.variation==='Nil'?singleton(first):{variation:'Cons',head:first,tail:rest,$HEAD:first,$TAIL:rest,$LAST:rest.$LAST,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(first))xs=xs.tail;else return false;var ys=rest;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(prepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(first);var ys=rest;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(prepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(first);})(function(){return rest.fmap(f);});},bindto:function(k){return (function(f){var ys=this;var xs=f(first);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(prepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return function(f){return Cons(function(){return _objectSpread({},first,_defineProperty({},k,f(first)));})(function(){return rest.fmapto(k)(f);});};},link:function(xs){return xs.variation==='Nil'?this:Cons(function(){return first;})(function(){return rest.link(xs);});}};};};var llprepend=(function(lfirst){return (function(rest){return {variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=lfirst();},tail:rest,$TAIL:rest,$LAST:rest.$LAST,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(this.head))xs=xs.tail;else return false;var ys=rest;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=rest;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))(function(){return rest.fmap(f);});},bindto:function(k){return (function(f){var ys=this;var xs=f(this.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(llprepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))(function(){return rest.fmapto(k)(f);});}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))(function(){return rest.link(xs);});}};}).bind(this);}).bind(this);var lrprepend=(function(first){return (function(lrest){return {variation:'Cons',head:first,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=lrest();},$HEAD:first,pipe:function(f){return f(this);},eq:function(xs){if(xs.variation==='Cons'&&xs.head.eq(first))xs=xs.tail;else return false;var ys=this.tail;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(first);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(first);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(first);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(lrprepend).bindto' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},first,_defineProperty({},k,f(first)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lrprepend(first)((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var append=(function(value){return (function(rest){return rest.variation==='Nil'?singleton(value):{variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=rest.head;},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=append(value)(rest.tail);},$HEAD:rest.$HEAD,$LAST:value,$INIT:rest,$LEN:rest.$LEN+1||undefined,pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(append).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return xs.variation===ys.variation;},bind:function(f){var xs=f(this.head);var ys=this.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'(append).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons((function(){return f(this.head);}).bind(this))((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(append).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons((function(){return _objectSpread({},this.head,_defineProperty({},k,f(this.head)));}).bind(this))((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:Cons((function(){return this.head;}).bind(this))((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var singleton=(function(value){return {variation:'Cons',head:value,tail:Nil,$HEAD:value,$TAIL:Nil,$LAST:value,$INIT:Nil,get $REVERSE (){return this;},$LEN:1,pipe:function(f){return f(this);},eq:function(xs){return xs.variation==='Cons'&&xs.tail.variation==='Nil'&&xs.head.eq(value);},bind:rapply(value),fmap:function(f){return singleton(f(value));},bindto:function(k){return function(f){return f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));});};},fmapto:function(k){return function(f){return singleton(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:prepend(value)};}).bind(this);var repeat=(function(value){return {variation:'Cons',head:value,get tail (){return this;},$HEAD:value,get $TAIL (){return this;},get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(repeat).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))xs=xs.tail;else return false;return false;},bind:function(f){var xs=f(value);return xs.variation==='Nil'?error("'(repeat).bind' received an operation that returned Nil"):cycle(xs);},fmap:function(f){return repeat(f(value));},bindto:function(k){return function(f){var xs=f(value);return xs.variation==='Nil'?error("'(repeat).bindto' received an operation that returned Nil"):cycle(xs.fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));}));};},fmapto:function(k){return function(f){return repeat(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(_){return this;}};}).bind(this);var cycle=(function(pattern){return pattern.variation==='Nil'?error("'cycle' received a Nil list"):{variation:'Cons',get head (){var _$HEAD;return _$HEAD=(_$HEAD=this.$HEAD)!==null&&_$HEAD!== void 0?_$HEAD:this.$HEAD=pattern.head;},get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=pattern.tail.link(this);},get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(cycle).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return false;},bind:function(f){return cycle(pattern.bind(f));},fmap:function(f){return cycle(pattern.fmap(f));},bindto:function(k){return function(f){return cycle(pattern.bindto(k)(f));};},fmapto:function(k){return function(f){return cycle(pattern.fmapto(k)(f));};},link:function(_){return this;}};}).bind(this);var iterate=(function(endomorphism){return (function(initial){return {variation:'Cons',head:initial,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=iterate(endomorphism)(endomorphism(initial));},$HEAD:initial,get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){var ys=this;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(iterate).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(ys.head))xs=xs.tail,ys=ys.tail;else return false;return false;},bind:function(f){var xs=f(initial);var ys=this.tail;for(var i=0;xs.variation==='Nil';++i)if(i===MAXI)error("'(iterate).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=f(ys.head),ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.bind(f));}):xs;},fmap:function(f){return Cons(function(){return f(initial);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(k){return (function(f){var ys=this;var xs=f(ys.head);for(var i=0;xs.variation==='Nil'&&ys.tail.variation==='Cons';++i)if(i===MAXI)error("'(iterate).bindto' couldn't find any Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else ys=ys.tail,xs=f(ys.head);xs=xs.fmap(function($){return _objectSpread({},ys.head,_defineProperty({},k,$));});return ys.tail.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(ys.tail.bindto(k)(f));}):xs;}).bind(this);},fmapto:function(k){return (function(f){return Cons(function(){return _objectSpread({},initial,_defineProperty({},k,f(initial)));})((function(){return this.tail.fmapto(k)(f);}).bind(this));}).bind(this);},link:function(xs){return xs.variation==='Nil'?this:lrprepend(initial)((function(){return this.tail.link(xs);}).bind(this));}};}).bind(this);}).bind(this);var replicate=(function(amount){return (function(value){return amount>0?{variation:'Cons',head:value,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=replicate(amount-1)(value);},$HEAD:value,pipe:function(f){return f(this);},eq:function(xs){for(var i=0;i<amount&&xs.variation==='Cons';++i)if(i===MAXI)error("'(replicate).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))xs=xs.tail;else return false;return xs.variation==='Nil';},bind:function(f){return concat(replicate(amount)(f(value)));},fmap:function(f){return replicate(amount)(f(value));},bindto:function(k){return function(f){return concat(replicate(amount)(f(value).fmap(function(x){return _objectSpread({},value,_defineProperty({},k,x));})));};},fmapto:function(k){return function(f){return replicate(amount)(_objectSpread({},value,_defineProperty({},k,f(value))));};},link:function(xs){return xs.variation==='Nil'?this:lrprepend(value)((function(){return this.tail.link(xs);}).bind(this));}}:Nil;}).bind(this);}).bind(this);var countBy=(function(step){return (function(start){return {variation:'Cons',head:start,get tail (){var _$TAIL;return _$TAIL=(_$TAIL=this.$TAIL)!==null&&_$TAIL!== void 0?_$TAIL:this.$TAIL=countBy(step)(start+step);},$HEAD:start,get $INIT (){return this;},pipe:function(f){return f(this);},eq:function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'(countBy).eq' traversed too many elements for equality (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(start+step*i))xs=xs.tail;else return false;return false;},bind:function(f){var i=0;var xs=f(start);while(xs.variation==='Nil')if(i===MAXI)error("'(countBy).bind' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else++i,xs=f(start+step*i);return Cons(function(){return xs.head;})(function(){return xs.tail.link(countBy(step)(start+step*i).bind(f));});},fmap:function(f){return Cons(function(){return f(start);})((function(){return this.tail.fmap(f);}).bind(this));},bindto:function(_){return error("'(countBy).bindto' was caught used incorrectly; use the Do syntax");},fmapto:function(_){return error("'(countBy).fmapto' was caught used incorrectly; use the Do syntax");},link:function(_){return this;}};}).bind(this);}).bind(this);var countDown=countBy(-1);var countUp=countBy(1);var naturals=countUp(0);var concat=function(xss){if(xss.variation==='Nil')return Nil;var xs=xss.head;var ys=xss.tail;for(var i=0;xs.variation==='Nil'&&ys.variation==='Cons';++i)if(i===MAXI)error("'concat' couldn't find Cons under the max limit (".concat(MAXI,"); ").concat(STAP));else xs=ys.head,ys=ys.tail;return ys.variation==='Cons'?Cons(function(){return xs.head;})(function(){return xs.tail.link(concat(ys));}):xs;};var all=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'all' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))xs=xs.tail;else return false;return true;};};var any=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'any' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return true;else xs=xs.tail;return false;};};var at=function(index){return function(xs){if(!Number.isInteger(index)||index<0)error("'at' received index '".concat(index,"'; must be a non-negative integer"));var i=0;while(xs.variation==='Cons')if(i===index)return xs.head;else xs=xs.tail,++i;return error("'at' received index '".concat(index,"' for list of length ").concat(i,"; must be a non-negative integer less than ").concat(i));};};var indexing=function(xs){return function(index){if(!Number.isInteger(index)||index<0)error("'indexing' received index '".concat(index,"'; must be a non-negative integer"));var i=0;var ys=xs;while(ys.variation==='Cons')if(i===index)return ys.head;else ys=ys.tail,++i;return error("'indexing' received index '".concat(index,"' for list of length ").concat(i,"; must be a non-negative integer less than ").concat(i));};};var len=function(xs){if(xs.$LEN!==undefined)return xs.$LEN;var i=0;var ys=xs;while(ys.variation==='Cons')if(i===MAXI)error("'len' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else++i,ys=ys.tail;return xs.$LEN=i;};var last=function(xs){if(xs.$LAST!==undefined)return xs.$LAST;if(xs.variation==='Nil')error("'last' received a Nil list");for(var i=0;xs.tail.variation==='Cons';++i)if(i===MAXI)error("'last' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs=xs.tail;return xs.$LAST=xs.head;};var init=function(xs){if(xs.$INIT!==undefined)return xs.$INIT;if(xs.variation==='Nil')error("'init' received a Nil list");return xs.$INIT=xs.tail.variation==='Nil'?Nil:Cons(function(){return xs.head;})(function(){return init(xs.tail);});};var reverse=function(xs){if(xs.$REVERSE!==undefined)return xs.$REVERSE;var ys=Nil;var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'reverse' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;return ys.$REVERSE=xs,xs.$REVERSE=ys;};var map=function(morphism){return function(xs){return xs.fmap(morphism);};};var intersperse=function(delimiter){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return prepend(delimiter)(xs.tail);});};};var foldl=function(operation){return function(initial){return function(xs){var x=initial;for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'foldl' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else x=operation(x)(xs.head),xs=xs.tail;return x;};};};var foldl1=function(operation){return function(xs){if(xs.variation==='Nil')error("'fold1' received a Nil list");var x=xs.head;for(var i=0;(xs=xs.tail).variation==='Cons';++i)if(i===MAXI)error("'foldl1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else x=operation(x)(xs.head);return x;};};var foldr=function(operation){return function(initial){return function(xs){var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'foldr' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var x=initial;while(ys.variation==='Cons')x=operation(ys.head)(x),ys=ys.tail;return x;};};};var foldr1=function(operation){return function(xs){if(xs.variation==='Nil')error("'foldr1' received a Nil list");var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'foldr1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var x=ys.head;while((ys=ys.tail).variation==='Cons')x=operation(ys.head)(x);return x;};};var scanl=function(operation){return function(initial){return function(xs){return xs.variation==='Nil'?singleton(initial):lrprepend(initial)(function(){return scanl(operation)(operation(initial)(xs.head))(xs.tail);});};};};var scanl1=function(operation){return function(xs){return xs.variation==='Nil'||xs.tail.variation==='Nil'?xs:Cons(function(){return xs.head;})(function(){return scanl(operation)(operation(xs.head)(xs.tail.head))(xs.tail.tail);});};};var scanr=function(operation){return function(initial){return function(xs){var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'scanr' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var zs=singleton(initial);while(ys.variation==='Cons')zs=prepend(operation(ys.head)(zs.head))(zs),ys=ys.tail;return zs;};};};var scanr1=function(operation){return function(xs){if(xs.variation==='Nil'||xs.tail.variation==='Nil')return xs;var ys=Nil;if(xs.$REVERSE===undefined){var zs=xs;for(var i=0;zs.variation==='Cons';++i)if(i===MAXI)error("'scanr1' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else ys=prepend(zs.head)(ys),zs=zs.tail;xs.$REVERSE=ys;}else ys=xs.$REVERSE;var zs=singleton(ys.head);while((ys=ys.tail).variation==='Cons')zs=prepend(operation(ys.head)(zs.head))(zs);return zs;};};var take=function(amount){return function(xs){return xs.$LEN<=amount?xs:xs.variation==='Nil'||amount<1?Nil:Cons(function(){return xs.head;})(function(){return take(amount-1)(xs.tail);});};};var drop=function(amount){return function(xs){if(xs.$LEN<=amount)return Nil;for(var i=1;i<=amount&&xs.variation==='Cons';++i)if(i===MAXI)error("'drop' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs=xs.tail;return xs;};};var splitAt=function(index){return function(xs){if(index>=MAXI)error("'splitAt' would be traversing too many elements (".concat(MAXI,"); ").concat(STAP));if(xs.$LEN<=index)return Pair(Nil,xs);if(index<1)return Pair(xs,Nil);var ys=Nil;for(var i=1;i<=index&&xs.variation==='Cons';++i)ys=prepend(xs.head)(ys),xs=xs.tail;var zs=Nil;while(ys.variation==='Cons')zs=prepend(ys.head)(zs),ys=ys.tail;return Pair(zs,xs);};};var takeWhile=function(predicate){return function(xs){return xs.variation==='Cons'&&predicate(xs.head)?lrprepend(xs.head)(function(){return takeWhile(predicate)(xs.tail);}):Nil;};};var dropWhile=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("''dropWhile' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))xs=xs.tail;else return xs;return Nil;};};var span=function(predicate){return function(xs){var ys=Nil;for(var i=0;xs.variation==='Cons'&&predicate(xs.head);++i)if(i===MAXI)error("'span' traversed too many elements ".concat(MAXI,"; ").concat(STAP));else ys=prepend(xs.head)(ys),xs=xs.tail;var zs=Nil;while(ys.variation==='Cons')zs=prepend(ys.head)(zs),ys=ys.tail;return Pair(zs,xs);};};var elem=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'elem' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return true;else xs=xs.tail;return false;};};var nelem=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'nelem' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return false;else xs=xs.tail;return true;};};var filter=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'filter' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return lrprepend(xs.head)(function(){return filter(predicate)(xs.tail);});else xs=xs.tail;return Nil;};};var partition=function(predicate){return function(xs){return Pair(filter(predicate)(xs),filter(notf(predicate))(xs));};};var elemIndices=function(value){return function(xs){var _loop=function(i){if(i===MAXI)error("'elemIndices' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return {v:lrprepend(i)(function(){return elemIndices(value)(xs.tail).fmap(add(i+1));})};else xs=xs.tail;};for(var i=0;xs.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};var findIndices=function(predicate){return function(xs){var _loop=function(i){if(i===MAXI)error("'findIndices' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return {v:lrprepend(i)(function(){return findIndices(predicate)(xs.tail).fmap(add(i+1));})};else xs=xs.tail;};for(var i=0;xs.variation==='Cons';++i){var _ret=_loop(i);if(_typeof(_ret)==="object")return _ret.v;}return Nil;};};var zip=function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return Pair(firsts.head,seconds.head);})(function(){return zip(firsts.tail)(seconds.tail);});};};var zipWith=function(zipper){return function(firsts){return function(seconds){return firsts.variation==='Nil'||seconds.variation==='Nil'?Nil:Cons(function(){return zipper(firsts.head)(seconds.head);})(function(){return zipWith(zipper)(firsts.tail)(seconds.tail);});};};};var unzip=function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));};var unzipWith=function(unzipper){return function(xs){return xs.fmap(unzipper).pipe(function(pairs){return Pair(pairs.fmap(fst),pairs.fmap(snd));});};};var isNothing=function(maybe){return maybe.variation==='Nothing';};var isJust=function(maybe){return maybe.variation==='Just';};var ffromJust=function(fallback){return function(morphism){return function(maybe){return maybe.variation==='Just'?morphism(maybe.value):fallback;};};};var fromJust=function(fallback){return function(maybe){return maybe.variation==='Just'?maybe.value:fallback;};};var extractJust=function(maybe){return maybe.variation==='Just'?maybe.value:error("'extractJust' received a Nothing value");};var ensure=function(predicate){return function(value){return predicate(value)?Just(value):Nothing;};};var fst=function(pair){return pair.fst;};var snd=function(pair){return pair.snd;};var fboth=function(morphism){return function(pair){return Pair(morphism(pair.fst),morphism(pair.snd));};};var ffst=function(morphism){return function(pair){return Pair(morphism(pair.fst),pair.snd);};};var fsnd=function(morphism){return function(pair){return Pair(pair.fst,morphism(pair.snd));};};var swap=function(pair){return Pair(pair.snd,pair.fst);};var same=function(value){return Pair(value,value);};var pick=function(bool){return bool?fst:snd;};var curry=function(f){return function(first){return function(second){return f(Pair(first,second));};};};var uncurry=function(f){return function(parameters){return f(parameters.fst)(parameters.snd);};};var pairToArray=function(pair){return [pair.fst,pair.snd];};var isLeft=function(either){return either.variation==='Left';};var isRight=function(either){return either.variation==='Right';};var mapLeft=function(lf){return function(either){return either.variation==='Left'?Left(lf(either.value)):either;};};var mapRight=function(rf){return function(either){return either.variation==='Right'?Right(rf(either.value)):either;};};var fromEither=function(lf){return function(rf){return function(either){return either.variation==='Left'?lf(either.value):rf(either.value);};};};var fromLeft=function(fallback){return function(either){return either.variation==='Left'?either.value:fallback;};};var fromRight=function(fallback){return function(either){return either.variation==='Right'?either.value:fallback;};};var extractLeft=function(either){return either.variation==='Left'?either.value:error("'fromLeft' received a Right value");};var extractRight=function(either){return either.variation==='Right'?either.value:error("'fromRight' received a Left value");};var V2;(function(V21){V21.zero=Vector2(0,0);V21.half=Vector2(0.5,0.5);V21.unit=Vector2(1,1);V21.promoteV3=function(v){return Vector3(v.x,v.y,0);};V21.promoteV4=function(v){return Vector4(v.x,v.y,0,0);};V21.translateX=function(dx){return function(v){return Vector2(v.x+dx,v.y);};};V21.translateY=function(dy){return function(v){return Vector2(v.x,v.y+dy);};};V21.translateXY=function(dx){return function(dy){return function(v){return Vector2(v.x+dx,v.y+dy);};};};V21.untranslateX=function(dx){return function(v){return Vector2(v.x-dx,v.y);};};V21.untranslateY=function(dy){return function(v){return Vector2(v.x,v.y-dy);};};V21.untranslateXY=function(dx){return function(dy){return function(v){return Vector2(v.x-dx,v.y-dy);};};};V21.scaleX=function(kx){return function(v){return Vector2(v.x*kx,v.y);};};V21.scaleY=function(ky){return function(v){return Vector2(v.x,v.y*ky);};};V21.scaleXY=function(kx){return function(ky){return function(v){return Vector2(v.x*kx,v.y*ky);};};};V21.unscaleX=function(kx){return function(v){return Vector2(v.x/kx,v.y);};};V21.unscaleY=function(ky){return function(v){return Vector2(v.x,v.y/ky);};};V21.unscaleXY=function(kx){return function(ky){return function(v){return Vector2(v.x/kx,v.y/ky);};};};V21.scale=function(k){return function(v){return Vector2(v.x*k,v.y*k);};};V21.unscale=function(k){return function(v){return Vector2(v.x/k,v.y/k);};};V21.translate=function(v){return function(w){return Vector2(v.x+w.x,v.y+w.y);};};V21.untranslate=function(v){return function(w){return Vector2(v.x-w.x,v.y-w.y);};};V21.norm=function(v){return Math.sqrt(v.x**2+v.y**2);};V21.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2);return x===0?V2.zero:Vector2(v.x/x,v.y/x);};V21.dot=function(v){return function(w){return v.x*w.x+v.y*w.y;};};V21.transform=function(m){return function(v){return Vector2(m.ix*v.x+m.jx*v.y,m.iy*v.x+m.jy*v.y);};};})(V2||(V2={}));var V3;(function(V31){V31.zero=Vector3(0,0,0);V31.half=Vector3(0.5,0.5,0.5);V31.unit=Vector3(1,1,1);V31.demoteV2=function(v){return Vector2(v.x,v.y);};V31.promoteV4=function(v){return Vector4(v.x,v.y,v.z,0);};V31.translateX=function(dx){return function(v){return Vector3(v.x+dx,v.y,v.z);};};V31.translateY=function(dy){return function(v){return Vector3(v.x,v.y+dy,v.z);};};V31.translateZ=function(dz){return function(v){return Vector3(v.x,v.y,v.z+dz);};};V31.translateXYZ=function(dx){return function(dy){return function(dz){return function(v){return Vector3(v.x+dx,v.y+dy,v.z+dz);};};};};V31.untranslateX=function(dx){return function(v){return Vector3(v.x-dx,v.y,v.z);};};V31.untranslateY=function(dy){return function(v){return Vector3(v.x,v.y-dy,v.z);};};V31.untranslateZ=function(dz){return function(v){return Vector3(v.x,v.y,v.z-dz);};};V31.untranslateXYZ=function(dx){return function(dy){return function(dz){return function(v){return Vector3(v.x-dx,v.y-dy,v.z-dz);};};};};V31.scaleX=function(kx){return function(v){return Vector3(v.x*kx,v.y,v.z);};};V31.scaleY=function(ky){return function(v){return Vector3(v.x,v.y*ky,v.z);};};V31.scaleZ=function(kz){return function(v){return Vector3(v.x,v.y,v.z*kz);};};V31.scaleXYZ=function(kx){return function(ky){return function(kz){return function(v){return Vector3(v.x*kx,v.y*ky,v.z*kz);};};};};V31.unscaleX=function(kx){return function(v){return Vector3(v.x/kx,v.y,v.z);};};V31.unscaleY=function(ky){return function(v){return Vector3(v.x,v.y/ky,v.z);};};V31.unscaleZ=function(kz){return function(v){return Vector3(v.x,v.y,v.z/kz);};};V31.unscaleXYZ=function(kx){return function(ky){return function(kz){return function(v){return Vector3(v.x/kx,v.y/ky,v.z/kz);};};};};V31.scale=function(k){return function(v){return Vector3(v.x*k,v.y*k,v.z*k);};};V31.unscale=function(k){return function(v){return Vector3(v.x/k,v.y/k,v.z/k);};};V31.translate=function(v){return function(w){return Vector3(v.x+w.x,v.y+w.y,v.z+w.z);};};V31.untranslate=function(v){return function(w){return Vector3(v.x-w.x,v.y-w.y,v.z-w.z);};};V31.norm=function(v){return Math.sqrt(v.x**2+v.y**2+v.z**2);};V31.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2+v.z**2);return x===0?V3.zero:Vector3(v.x/x,v.y/x,v.z/x);};V31.dot=function(v){return function(w){return v.x*w.x+v.y*w.y+v.z*w.z;};};V31.transform=function(m){return function(v){return Vector3(m.ix*v.x+m.jx*v.y+m.kx*v.z,m.iy*v.x+m.jy*v.y+m.ky*v.z,m.iz*v.x+m.jz*v.y+m.kz*v.z);};};})(V3||(V3={}));var V4;(function(V41){V41.zero=Vector4(0,0,0,0);V41.half=Vector4(0.5,0.5,0.5,0.5);V41.unit=Vector4(1,1,1,1);V41.demoteV2=function(v){return Vector2(v.x,v.y);};V41.demoteV4=function(v){return Vector3(v.x,v.y,v.z);};V41.translateX=function(dx){return function(v){return Vector4(v.x+dx,v.y,v.z,v.w);};};V41.translateY=function(dy){return function(v){return Vector4(v.x,v.y+dy,v.z,v.w);};};V41.translateZ=function(dz){return function(v){return Vector4(v.x,v.y,v.z+dz,v.w);};};V41.translateW=function(dw){return function(v){return Vector4(v.x,v.y,v.z,v.w+dw);};};V41.translateXYZW=function(dx){return function(dy){return function(dz){return function(dw){return function(v){return Vector4(v.x+dx,v.y+dy,v.z+dz,v.w+dw);};};};};};V41.untranslateX=function(dx){return function(v){return Vector4(v.x-dx,v.y,v.z,v.w);};};V41.untranslateY=function(dy){return function(v){return Vector4(v.x,v.y-dy,v.z,v.w);};};V41.untranslateZ=function(dz){return function(v){return Vector4(v.x,v.y,v.z-dz,v.w);};};V41.untranslateW=function(dz){return function(v){return Vector4(v.x,v.y,v.z,v.w-dz);};};V41.untranslateXYZW=function(dx){return function(dy){return function(dz){return function(dw){return function(v){return Vector4(v.x-dx,v.y-dy,v.z-dz,v.w-dw);};};};};};V41.scaleX=function(kx){return function(v){return Vector4(v.x*kx,v.y,v.z,v.w);};};V41.scaleY=function(ky){return function(v){return Vector4(v.x,v.y*ky,v.z,v.w);};};V41.scaleZ=function(kz){return function(v){return Vector4(v.x,v.y,v.z*kz,v.w);};};V41.scaleW=function(kw){return function(v){return Vector4(v.x,v.y,v.z,v.w*kw);};};V41.scaleXYZW=function(kx){return function(ky){return function(kz){return function(kw){return function(v){return Vector4(v.x*kx,v.y*ky,v.z*kz,v.w*kw);};};};};};V41.unscaleX=function(kx){return function(v){return Vector4(v.x/kx,v.y,v.z,v.w);};};V41.unscaleY=function(ky){return function(v){return Vector4(v.x,v.y/ky,v.z,v.w);};};V41.unscaleZ=function(kz){return function(v){return Vector4(v.x,v.y,v.z/kz,v.w);};};V41.unscaleW=function(kw){return function(v){return Vector4(v.x,v.y,v.z,v.w/kw);};};V41.unscaleXYZW=function(kx){return function(ky){return function(kz){return function(kw){return function(v){return Vector4(v.x/kx,v.y/ky,v.z/kz,v.w/kw);};};};};};V41.scale=function(k){return function(v){return Vector4(v.x*k,v.y*k,v.z*k,v.w*k);};};V41.unscale=function(k){return function(v){return Vector4(v.x/k,v.y/k,v.z/k,v.w/k);};};V41.translate=function(v){return function(w){return Vector4(v.x+w.x,v.y+w.y,v.z+w.z,v.w+w.w);};};V41.untranslate=function(v){return function(w){return Vector4(v.x-w.x,v.y-w.y,v.z-w.z,v.w-w.w);};};V41.norm=function(v){return Math.sqrt(v.x**2+v.y**2+v.z**2+v.w**2);};V41.normalize=function(v){var x=Math.sqrt(v.x**2+v.y**2+v.z**2+v.w**2);return x===0?V4.zero:Vector4(v.x/x,v.y/x,v.z/x,v.w/x);};V41.dot=function(v){return function(w){return v.x*w.x+v.y*w.y+v.z*w.z+v.w*w.w;};};V41.transform=function(m){return function(v){return Vector4(m.ix*v.x+m.jx*v.y+m.kx*v.z+m.lx*v.w,m.iy*v.x+m.jy*v.y+m.ky*v.z+m.ly*v.w,m.iz*v.x+m.jz*v.y+m.kz*v.z+m.lz*v.w,m.iw*v.x+m.jw*v.y+m.kw*v.z+m.lw*v.w);};};})(V4||(V4={}));var M2;(function(M21){M21.identity=Matrix2(1,0,0,1);M21.basis=function(i,j){return Matrix2(i.x,j.x,i.y,j.y);};M21.compose=function(m){return function(n){return Matrix2(m.ix*n.ix+m.jx*n.iy,m.ix*n.jx+m.jx*n.jy,m.iy*n.ix+m.jy*n.iy,m.iy*n.jx+m.jy*n.jy);};};})(M2||(M2={}));var M3;(function(M31){M31.identity=Matrix3(1,0,0,0,1,0,0,0,1);M31.basis=function(i,j,k){return Matrix3(i.x,j.x,k.x,i.y,j.y,k.y,i.z,j.z,k.z);};M31.compose=function(m){return function(n){return Matrix3(m.ix*n.ix+m.jx*n.iy+m.kx*n.iz,m.ix*n.jx+m.jx*n.jy+m.kx*n.jz,m.ix*n.kx+m.jx*n.ky+m.kx*n.kz,m.iy*n.ix+m.jy*n.iy+m.ky*n.iz,m.iy*n.jx+m.jy*n.jy+m.ky*n.jz,m.iy*n.kx+m.jy*n.ky+m.ky*n.kz,m.iz*n.ix+m.jz*n.iy+m.kz*n.iz,m.iz*n.jx+m.jz*n.jy+m.kz*n.jz,m.iz*n.kx+m.jz*n.ky+m.kz*n.kz);};};})(M3||(M3={}));var M4;(function(M41){M41.identity=Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);M41.fromBasis=function(i,j,k,l){return Matrix4(i.x,j.x,k.x,l.x,i.y,j.y,k.y,l.y,i.z,j.z,k.z,l.z,i.w,j.w,k.w,l.w);};M41.compose=function(m){return function(n){return Matrix4(m.ix*n.ix+m.jx*n.iy+m.kx*n.iz+m.lx*n.iw,m.ix*n.jx+m.jx*n.jy+m.kx*n.jz+m.lx*n.jw,m.ix*n.kx+m.jx*n.ky+m.kx*n.kz+m.lx*n.kw,m.ix*n.lx+m.jx*n.ly+m.kx*n.lz+m.lx*n.lw,m.iy*n.ix+m.jy*n.iy+m.ky*n.iz+m.ly*n.iw,m.iy*n.jx+m.jy*n.jy+m.ky*n.jz+m.ly*n.jw,m.iy*n.kx+m.jy*n.ky+m.ky*n.kz+m.ly*n.kw,m.iy*n.lx+m.jy*n.ly+m.ky*n.lz+m.ly*n.lw,m.iz*n.ix+m.jz*n.iy+m.kz*n.iz+m.lz*n.iw,m.iz*n.jx+m.jz*n.jy+m.kz*n.jz+m.lz*n.jw,m.iz*n.kx+m.jz*n.ky+m.kz*n.kz+m.lz*n.kw,m.iz*n.lx+m.jz*n.ly+m.kz*n.lz+m.lz*n.lw,m.iw*n.ix+m.jw*n.iy+m.kw*n.iz+m.lw*n.iw,m.iw*n.jx+m.jw*n.jy+m.kw*n.jz+m.lw*n.jw,m.iw*n.kx+m.jw*n.ky+m.kw*n.kz+m.lw*n.kw,m.iw*n.lx+m.jw*n.ly+m.kw*n.lz+m.lw*n.lw);};};})(M4||(M4={}));var isDown=function(vertical){return vertical===Vertical.Downward||vertical===Vertical.Down;};var isUp=function(vertical){return vertical===Vertical.Upward||vertical===Vertical.Up;};var relaxVertical=function(vertical){return vertical===Vertical.Downward?Vertical.Down:vertical===Vertical.Upward?Vertical.Up:vertical;};var signVertical=function(vertical){return vertical===Vertical.Downward||vertical===Vertical.Down?-1:vertical===Vertical.Upward||vertical===Vertical.Up?1:0;};var mappingLineCapToHTML5=Mapping([LineCap.Butt,'butt'],[LineCap.Round,'round'],[LineCap.Square,'square']);var mappingLineJoinToHTML5=Mapping([LineJoin.Round,'round'],[LineJoin.Bevel,'bevel'],[LineJoin.Miter,'miter']);var mappingTextAlignToHTML5=Mapping([TextAlign.Center,'center'],[TextAlign.End,'end'],[TextAlign.Leftside,'left'],[TextAlign.Rightside,'right'],[TextAlign.Start,'start']);var mappingTextBaselineToHTML5=Mapping([TextBaseline.Alphabetic,'alphabetic'],[TextBaseline.Bottom,'bottom'],[TextBaseline.Hanging,'hanging'],[TextBaseline.Ideographic,'ideographic'],[TextBaseline.Middle,'middle'],[TextBaseline.Top,'top']);var mappingCompositionToHTML5=Mapping([Composition.SourceOver,'source-over'],[Composition.SourceIn,'source-in'],[Composition.SourceOut,'source-out'],[Composition.SourceAtop,'source-atop'],[Composition.DestinationOver,'destination-over'],[Composition.DestinationIn,'destination-in'],[Composition.DestinationOut,'destination-out'],[Composition.DestinationAtop,'destination-atop'],[Composition.Lighter,'lighter'],[Composition.Copy,'copy'],[Composition.Xor,'xor'],[Composition.Multiply,'multiply'],[Composition.Screen,'screen'],[Composition.Overlay,'overlay'],[Composition.Darken,'darken'],[Composition.Lighten,'lighten'],[Composition.ColorDodge,'color-dodge'],[Composition.ColorBurn,'color-burn'],[Composition.HardLight,'hard-light'],[Composition.SoftLight,'soft-light'],[Composition.Difference,'difference'],[Composition.Exclusion,'exclusion'],[Composition.Hue,'hue'],[Composition.Saturation,'saturation'],[Composition.Color,'color'],[Composition.Luminosity,'luminosity']);var sequenceIOs=function(ios){return IO(function(){return ios.fmap(function(io){return io.effect();});});};var executeIOs=function(ios){return IO(function(){for(var i=0,xs=ios;xs.variation==='Cons';++i)if(i===MAXI)error("'executeIOs' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else xs.head.effect(),xs=xs.tail;return null;});};var maybeHead=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.head);};var maybeLast=function(xs){return xs.variation==='Nil'?Nothing:Just(last(xs));};var maybeTail=function(xs){return xs.variation==='Nil'?Nothing:Just(xs.tail);};var maybeInit=function(xs){return xs.variation==='Nil'?Nothing:Just(init(xs));};var maybeSingleton=function(maybe){return maybe.variation==='Nothing'?Nil:singleton(maybe.value);};var pairToVector=function(pair){return Vector2(pair.fst,pair.snd);};var vectorToPair=function(v){return Pair(v.x,v.y);};var pairOfMaybes=function(pair){return pair.fst.variation==='Just'&&pair.snd.variation==='Just'?Just(Pair(pair.fst.value,pair.snd.value)):Nothing;};var find=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'find' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return Just(xs.head);else xs=xs.tail;return Nothing;};};var elemIndex=function(value){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'elemIndex' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(xs.head.eq(value))return Just(i);else xs=xs.tail;return Nothing;};};var findIndex=function(predicate){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'findIndex' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(predicate(xs.head))return Just(i);else xs=xs.tail;return Nothing;};};var flattenMaybes=function(maybes){for(var i=0;maybes.variation==='Cons';++i)if(i===MAXI)error("'flattenMaybes' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(maybes.head.variation==='Just')return lrprepend(maybes.head.value)(function(){return flattenMaybes(maybes.tail);});else maybes=maybes.tail;return Nil;};var mapMaybe=function(mapping){return function(xs){for(var i=0;xs.variation==='Cons';++i)if(i===MAXI)error("'mapMaybe' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else{var x=mapping(xs.head);if(x.variation==='Just')return lrprepend(x.value)(function(){return mapMaybe(mapping)(xs.tail);});xs=xs.tail;}return Nil;};};var lefts=function(eithers){for(var i=0;eithers.variation==='Cons';++i)if(i===MAXI)error("'lefts' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(eithers.head.variation==='Left')return lrprepend(eithers.head.value)(function(){return lefts(eithers.tail);});else eithers=eithers.tail;return Nil;};var rights=function(eithers){for(var i=0;eithers.variation==='Cons';++i)if(i===MAXI)error("'rights' traversed too many elements (".concat(MAXI,"); ").concat(STAP));else if(eithers.head.variation==='Right')return lrprepend(eithers.head.value)(function(){return rights(eithers.tail);});else eithers=eithers.tail;return Nil;};var maybeAt=function(index){return function(xs){if(index>MAXI)error("'maybeAt' would be traversing too many elements (".concat(MAXI,"); ").concat(STAP));if(index<0|| !Number.isInteger(index))return Nothing;for(var i=0;xs.variation==='Cons';++i)if(i===index)return Just(xs.head);else xs=xs.tail;return Nothing;};};var Do={IO:IO(function(){return Object.create(null);}),Process:Process(function(s){return Pair(s,Object.create(null));}),List:singleton(Object.create(null)),Maybe:Just(Object.create(null))};var keyboardKeysArray=['AltLeft','AltRight','ArrowDown','ArrowLeft','ArrowRight','ArrowUp','Backquote','Backslash','Backspace','BracketLeft','BracketRight','CapsLock','Comma','ControlLeft','ControlRight','Delete','NumpadAdd','NumpadDecimal','NumpadDivide','NumpadEnter','NumpadMultiply','NumpadSubtract','PageUp','Pagedown','Period','Quote','Semicolon','ShiftLeft','ShiftRight','Slash','End','Enter','Equal','Home','Insert','Minus','Space','Tab','Digit0','Digit1','Digit2','Digit3','Digit4','Digit5','Digit6','Digit7','Digit8','Digit9','Numpad0','Numpad1','Numpad2','Numpad3','Numpad4','Numpad5','Numpad6','Numpad7','Numpad8','Numpad9','KeyA','KeyB','KeyC','KeyD','KeyE','KeyF','KeyG','KeyH','KeyI','KeyJ','KeyK','KeyL','KeyM','KeyN','KeyO','KeyP','KeyQ','KeyR','KeyS','KeyT','KeyU','KeyV','KeyW','KeyX','KeyY','KeyZ'];var Ψ={MUTABLE:{},ctxs:[],ctx:undefined,resizeID:undefined,isResized:false,isPointerLocked:false,seed:(Math.random()-0.5)*Date.now(),debugCounter:0,image:Object.create(null),audio:Object.create(null),mouseScreenX:0,mouseScreenY:0,mouseWindowX:0,mouseWindowY:0,mouseCanvasX:0,mouseCanvasY:0,mouseDeltaX:0,mouseDeltaY:0,mouseScroll:Vertical.Rest,mouseButtons:Array(5).fill(Vertical.Up),keyboard:keyboardKeysArray.reduce(function($,k){return _objectSpread({},$,_defineProperty({},k,Vertical.Up));},Object.create(null))};var I;(function(I1){I1.n_mouseScreenX=IO(function(){return Ψ.mouseScreenX/Ψ.ctx.canvas.width;});I1.n_mouseScreenY=IO(function(){return Ψ.mouseScreenY/Ψ.ctx.canvas.height;});I1.n_mouseScreenXY=IO(function(){return Pair(Ψ.mouseScreenX/Ψ.ctx.canvas.width,Ψ.mouseScreenY/Ψ.ctx.canvas.height);});I1.n_mouseScreenV2=IO(function(){return Vector2(Ψ.mouseScreenX/Ψ.ctx.canvas.width,Ψ.mouseScreenY/Ψ.ctx.canvas.height);});I1.n_mouseWindowX=IO(function(){return Ψ.mouseWindowX/Ψ.ctx.canvas.width;});I1.n_mouseWindowY=IO(function(){return Ψ.mouseWindowY/Ψ.ctx.canvas.height;});I1.n_mouseWindowXY=IO(function(){return Pair(Ψ.mouseWindowX/Ψ.ctx.canvas.width,Ψ.mouseWindowY/Ψ.ctx.canvas.height);});I1.n_mouseWindowV2=IO(function(){return Vector2(Ψ.mouseWindowX/Ψ.ctx.canvas.width,Ψ.mouseWindowY/Ψ.ctx.canvas.height);});I1.n_mouseCanvasX=IO(function(){return Ψ.mouseCanvasX/Ψ.ctx.canvas.width;});I1.n_mouseCanvasY=IO(function(){return Ψ.mouseCanvasY/Ψ.ctx.canvas.height;});I1.n_mouseCanvasXY=IO(function(){return Pair(Ψ.mouseCanvasX/Ψ.ctx.canvas.width,Ψ.mouseCanvasY/Ψ.ctx.canvas.height);});I1.n_mouseCanvasV2=IO(function(){return Vector2(Ψ.mouseCanvasX/Ψ.ctx.canvas.width,Ψ.mouseCanvasY/Ψ.ctx.canvas.height);});I1.n_mouseDeltaX=IO(function(){return Ψ.mouseDeltaX/Ψ.ctx.canvas.width;});I1.n_mouseDeltaY=IO(function(){return Ψ.mouseDeltaY/Ψ.ctx.canvas.height;});I1.n_mouseDeltaXY=IO(function(){return Pair(Ψ.mouseDeltaX/Ψ.ctx.canvas.width,Ψ.mouseDeltaY/Ψ.ctx.canvas.height);});I1.n_mouseDeltaV2=IO(function(){return Vector2(Ψ.mouseDeltaX/Ψ.ctx.canvas.width,Ψ.mouseDeltaY/Ψ.ctx.canvas.height);});I1.n_textW=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight)/Ψ.ctx.canvas.width;});};I1.n_textH=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent)/Ψ.ctx.canvas.height;});};I1.n_textWH=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Pair((Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight))/Ψ.ctx.canvas.width,(Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent))/Ψ.ctx.canvas.height);});};I1.n_textV2=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Vector2((Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight))/Ψ.ctx.canvas.width,(Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent))/Ψ.ctx.canvas.height);});};I1.n_lineThickness=IO(function(){return Ψ.ctx.lineWidth/Ψ.ctx.canvas.width;});I1.n_lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash().map(function(x){return x/Ψ.ctx.canvas.width;}));});I1.n_lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset/Ψ.ctx.canvas.width;});I1.n_fontSize=IO(function(){return parseFloat(Ψ.ctx.font)/Ψ.ctx.canvas.width;});I1.n_shadowX=IO(function(){return Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.height;});I1.n_shadowY=IO(function(){return Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height;});I1.n_shadowXY=IO(function(){return Pair(Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height);});I1.n_shadowV2=IO(function(){return Vector2(Ψ.ctx.shadowOffsetX/Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY/Ψ.ctx.canvas.height);});I1.n_isInEvenOddPathXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'evenodd');});};};I1.n_isInEvenOddPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height,'evenodd');});};I1.n_isInNonZeroPathXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height,'nonzero');});};};I1.n_isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height,'nonzero');});};I1.n_isInStrokeXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x/Ψ.ctx.canvas.width,y/Ψ.ctx.canvas.height);});};};I1.n_isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x/Ψ.ctx.canvas.width,v.y/Ψ.ctx.canvas.height);});};I1.n_matrix=IO(function(){var m=Ψ.ctx.getTransform();return Matrix3(m.a,m.c,m.e/Ψ.ctx.canvas.width,m.b,m.d,m.f/Ψ.ctx.canvas.height,0,0,1);});I1.n_wasd=IO(function(){var x=bit(isDown(Ψ.keyboard.KeyD))-bit(isDown(Ψ.keyboard.KeyA));var y=bit(isDown(Ψ.keyboard.KeyS))-bit(isDown(Ψ.keyboard.KeyW));var l=x**2+y**2;return l===0?V2.zero:l===1?Vector2(x,y):Vector2(x*invSqrt2,y*invSqrt2);});I1.n_arrows=IO(function(){var x=bit(isDown(Ψ.keyboard.ArrowRight))-bit(isDown(Ψ.keyboard.ArrowLeft));var y=bit(isDown(Ψ.keyboard.ArrowDown))-bit(isDown(Ψ.keyboard.ArrowUp));var l=x**2+y**2;return l===0?V2.zero:l===1?Vector2(x,y):Vector2(x*invSqrt2,y*invSqrt2);});I1.n_imageW=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width/Ψ.ctx.canvas.width:error("'I.n_imageW' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.n_imageH=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height/Ψ.ctx.canvas.height:error("'I.n_imageH' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.n_imageWH=function(path){return IO(function(){return Ψ.image[path]?Pair(Ψ.image[path].width/Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.ctx.canvas.height):error("'I.n_imageWH' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.n_imageV2=function(path){return IO(function(){return Ψ.image[path]?Vector2(Ψ.image[path].width/Ψ.ctx.canvas.width,Ψ.image[path].height/Ψ.ctx.canvas.height):error("'I.n_imageV2' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.time=IO(Date.now);I1.isWindowResized=IO(function(){return Ψ.isResized;});I1.isPointerLocked=IO(function(){return Ψ.isPointerLocked;});I1.seed=IO(function(){return Ψ.seed;});I1.mouseScreenX=IO(function(){return Ψ.mouseScreenX;});I1.mouseScreenY=IO(function(){return Ψ.mouseScreenY;});I1.mouseScreenXY=IO(function(){return Pair(Ψ.mouseScreenX,Ψ.mouseScreenY);});I1.mouseScreenV2=IO(function(){return Vector2(Ψ.mouseScreenX,Ψ.mouseScreenY);});I1.mouseWindowX=IO(function(){return Ψ.mouseWindowX;});I1.mouseWindowY=IO(function(){return Ψ.mouseWindowY;});I1.mouseWindowXY=IO(function(){return Pair(Ψ.mouseWindowX,Ψ.mouseWindowY);});I1.mouseWindowV2=IO(function(){return Vector2(Ψ.mouseWindowX,Ψ.mouseWindowY);});I1.mouseCanvasX=IO(function(){return Ψ.mouseCanvasX;});I1.mouseCanvasY=IO(function(){return Ψ.mouseCanvasY;});I1.mouseCanvasXY=IO(function(){return Pair(Ψ.mouseCanvasX,Ψ.mouseCanvasY);});I1.mouseCanvasV2=IO(function(){return Vector2(Ψ.mouseCanvasX,Ψ.mouseCanvasY);});I1.mouseDeltaX=IO(function(){return Ψ.mouseDeltaX;});I1.mouseDeltaY=IO(function(){return Ψ.mouseDeltaY;});I1.mouseDeltaXY=IO(function(){return Pair(Ψ.mouseDeltaX,Ψ.mouseDeltaY);});I1.mouseDeltaV2=IO(function(){return Vector2(Ψ.mouseDeltaX,Ψ.mouseDeltaY);});I1.mouseScroll=IO(function(){return Ψ.mouseScroll;});I1.mouseButtonLeft=IO(function(){return Ψ.mouseButtons[0];});I1.mouseButtonMid=IO(function(){return Ψ.mouseButtons[1];});I1.mouseButtonRight=IO(function(){return Ψ.mouseButtons[2];});I1.mouseButtonA=IO(function(){return Ψ.mouseButtons[3];});I1.mouseButtonB=IO(function(){return Ψ.mouseButtons[4];});I1.key=function(keyname){return IO(function(){return Ψ.keyboard[keyname];});};I1.screenW=IO(function(){return screen.width;});I1.screenH=IO(function(){return screen.height;});I1.screenWH=IO(function(){return Pair(screen.width,screen.height);});I1.screenV2=IO(function(){return Vector2(screen.width,screen.height);});I1.windowW=IO(function(){return innerWidth;});I1.windowH=IO(function(){return innerHeight;});I1.windowWH=IO(function(){return Pair(innerWidth,innerHeight);});I1.windowV2=IO(function(){return Vector2(innerWidth,innerHeight);});I1.canvasW=IO(function(){return Ψ.ctx.canvas.width;});I1.canvasH=IO(function(){return Ψ.ctx.canvas.height;});I1.canvasWH=IO(function(){return Pair(Ψ.ctx.canvas.width,Ψ.ctx.canvas.height);});I1.canvasV2=IO(function(){return Vector2(Ψ.ctx.canvas.width,Ψ.ctx.canvas.height);});I1.layer=IO(function(){return Ψ.ctxs.findIndex(function(ctx){return ctx===Ψ.ctx;});});I1.textW=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight);});};I1.textH=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent);});};I1.textWH=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Pair(Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight),Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent));});};I1.textV2=function(text){return IO(function(){var m=Ψ.ctx.measureText(text);return Vector2(Math.abs(m.actualBoundingBoxLeft)+Math.abs(m.actualBoundingBoxRight),Math.abs(m.actualBoundingBoxAscent)+Math.abs(m.actualBoundingBoxDescent));});};I1.lineThickness=IO(function(){return Ψ.ctx.lineWidth;});I1.lineDashPattern=IO(function(){return List.apply(void 0,Ψ.ctx.getLineDash());});I1.lineDashOffset=IO(function(){return Ψ.ctx.lineDashOffset;});I1.miterLimit=IO(function(){return Ψ.ctx.miterLimit;});I1.font=IO(function(){return Ψ.ctx.font;});I1.fontSize=IO(function(){return parseFloat(Ψ.ctx.font);});I1.fontFamily=IO(function(){return Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' ')+1);});I1.shadowBlurAmount=IO(function(){return Ψ.ctx.shadowBlur;});I1.shadowColor=IO(function(){return Ψ.ctx.shadowColor;});I1.shadowX=IO(function(){return Ψ.ctx.shadowOffsetX;});I1.shadowY=IO(function(){return Ψ.ctx.shadowOffsetY;});I1.shadowXY=IO(function(){return Pair(Ψ.ctx.shadowOffsetX,Ψ.ctx.shadowOffsetY);});I1.shadowV2=IO(function(){return Vector2(Ψ.ctx.shadowOffsetX,Ψ.ctx.shadowOffsetY);});I1.isInEvenOddPathXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'evenodd');});};};I1.isInEvenOddPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x,v.y,'evenodd');});};I1.isInNonZeroPathXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInPath(x,y,'nonzero');});};};I1.isInNonZeroPathV2=function(v){return IO(function(){return Ψ.ctx.isPointInPath(v.x,v.y,'nonzero');});};I1.isInStrokeXY=function(x){return function(y){return IO(function(){return Ψ.ctx.isPointInStroke(x,y);});};};I1.isInStrokeV2=function(v){return IO(function(){return Ψ.ctx.isPointInStroke(v.x,v.y);});};I1.matrix=IO(function(){var m=Ψ.ctx.getTransform();return Matrix3(m.a,m.c,m.e,m.b,m.d,m.f,0,0,1);});I1.alpha=IO(function(){return Ψ.ctx.globalAlpha;});I1.lineCap=IO(function(){return mappingLineCapToHTML5.domain(Ψ.ctx.lineCap);});I1.lineJoin=IO(function(){return mappingLineJoinToHTML5.domain(Ψ.ctx.lineJoin);});I1.textAlign=IO(function(){return mappingTextAlignToHTML5.domain(Ψ.ctx.textAlign);});I1.textBaseline=IO(function(){return mappingTextBaselineToHTML5.domain(Ψ.ctx.textBaseline);});I1.composition=IO(function(){return mappingCompositionToHTML5.domain(Ψ.ctx.globalCompositeOperation);});I1.wasd=IO(function(){return Vector2(bit(isDown(Ψ.keyboard.KeyD))-bit(isDown(Ψ.keyboard.KeyA)),bit(isDown(Ψ.keyboard.KeyS))-bit(isDown(Ψ.keyboard.KeyW)));});I1.arrows=IO(function(){return Vector2(bit(isDown(Ψ.keyboard.ArrowRight))-bit(isDown(Ψ.keyboard.ArrowLeft)),bit(isDown(Ψ.keyboard.ArrowDown))-bit(isDown(Ψ.keyboard.ArrowUp)));});I1.imageW=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].width:error("'I.imageW' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.imageH=function(path){return IO(function(){return Ψ.image[path]?Ψ.image[path].height:error("'I.imageH' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.imageWH=function(path){return IO(function(){return Ψ.image[path]?Pair(Ψ.image[path].width,Ψ.image[path].height):error("'I.imageWH' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.imageV2=function(path){return IO(function(){return Ψ.image[path]?Vector2(Ψ.image[path].width,Ψ.image[path].height):error("'I.imageV2' received an unloaded (possibly non-existing) image at path: ".concat(path));});};I1.audioDuration=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].duration:error("'I.audioDuration' received an unloaded (possibly non-existing) audio at path: ".concat(path));});};I1.audioTime=function(path){return IO(function(){return Ψ.audio[path]?Ψ.audio[path].currentTime:error("'I.audioTime' received an unloaded (possibly non-existing) audio at path: ".concat(path));});};})(I||(I={}));var O;(function(O1){O1.n_setCanvasW=function(w){return IO(function(){return Ψ.ctx.canvas.width=w*innerWidth,null;});};O1.n_setCanvasH=function(h){return IO(function(){return Ψ.ctx.canvas.height=h*innerHeight,null;});};O1.n_setCanvasWH=function(w){return function(h){return IO(function(){return Ψ.ctx.canvas.width=w*innerWidth,Ψ.ctx.canvas.height=h*innerHeight,null;});};};O1.n_setCanvasV2=function(wh){return IO(function(){return Ψ.ctx.canvas.width=wh.x*innerWidth,Ψ.ctx.canvas.height=wh.y*innerHeight,null;});};O1.n_setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness*Ψ.ctx.canvas.width,null;});};O1.n_setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern).map(function(x){return x*Ψ.ctx.canvas.width;})),null;});};O1.n_setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset*Ψ.ctx.canvas.width,null;});};O1.n_setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size*Ψ.ctx.canvas.width,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};O1.n_setShadowRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};O1.n_setShadowX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,null;});};O1.n_setShadowY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};O1.n_setShadowXY=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=y*Ψ.ctx.canvas.height,null;});};};O1.n_setShadowV2=function(xy){return IO(function(){return Vector2(Ψ.ctx.shadowOffsetX=xy.x*Ψ.ctx.canvas.width,Ψ.ctx.shadowOffsetY=xy.y*Ψ.ctx.canvas.height),null;});};O1.n_setMatrix=function(m3){return IO(function(){return Ψ.ctx.setTransform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx*Ψ.ctx.canvas.width,m3.ky*Ψ.ctx.canvas.height),null;});};O1.n_setFillRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};O1.n_setFillV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};O1.n_setStrokeRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r*255,",").concat(g*255,",").concat(b*255,",").concat(a,")"),null;});};O1.n_setStrokeV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x*255,",").concat(v.y*255,",").concat(v.z*255,",").concat(v.w,")"),null;});};O1.n_drawImage=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){if(!Ψ.image[path])error("'O.n_drawImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],cx*Ψ.image[path].width,cy*Ψ.image[path].height,cw*Ψ.image[path].width,ch*Ψ.image[path].height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height);return null;});};};};};};};};};};O1.n_drawImageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){if(!Ψ.image[path])error("'O.n_drawImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],cxy.x*Ψ.image[path].width,cxy.y*Ψ.image[path].height,cwh.x*Ψ.image[path].width,cwh.y*Ψ.image[path].height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height);return null;});};};};};};O1.n_drawUncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){if(!Ψ.image[path])error("'O.n_drawUncroppedImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height);return null;});};};};};};O1.n_drawUncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){if(!Ψ.image[path])error("'O.n_drawUncroppedImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height);return null;});};};};O1.n_drawFullImage=function(path){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.n_drawFullImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height);return null;});};};};O1.n_drawFullImageV2=function(path){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.n_drawFullImage' received an unloaded image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height);return null;});};};O1.n_drawFullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.n_drawFullScaledImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,Ψ.image[path].width*k*Ψ.ctx.canvas.width,Ψ.image[path].height*k*Ψ.ctx.canvas.height);return null;});};};};};O1.n_drawFullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.n_drawFullScaledImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,Ψ.image[path].width*k*Ψ.ctx.canvas.width,Ψ.image[path].height*k*Ψ.ctx.canvas.height);return null;});};};};O1.n_drawSquareImage=function(path){return function(k){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.n_drawSquareImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,k*Ψ.ctx.canvas.width,k*Ψ.ctx.canvas.height);return null;});};};};};O1.n_drawSquareImageV2=function(path){return function(k){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.n_drawSquareImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,k*Ψ.ctx.canvas.width,k*Ψ.ctx.canvas.height);return null;});};};};O1.n_clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};O1.n_clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};O1.n_clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};O1.n_clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};O1.n_rotate=function(angle){return IO(function(){return Ψ.ctx.rotate(angle*tau),null;});};O1.n_translateX=function(dx){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,0),null;});};O1.n_translateY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy*Ψ.ctx.canvas.height),null;});};O1.n_translateXY=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx*Ψ.ctx.canvas.width,dy*Ψ.ctx.canvas.height),null;});};};O1.n_translateV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};O1.n_transform2=function(m2){return IO(function(){return Ψ.ctx.transform(m2.ix,m2.iy,m2.jx,m2.jy,0,0),null;});};O1.n_transform3=function(m3){return IO(function(){return Ψ.ctx.transform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx*Ψ.ctx.canvas.width,m3.ky*Ψ.ctx.canvas.height),null;});};O1.n_moveTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};O1.n_moveToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height),null;});};O1.n_bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};};};O1.n_bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};};O1.n_quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx*Ψ.ctx.canvas.width,cy*Ψ.ctx.canvas.height,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};};O1.n_quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x*Ψ.ctx.canvas.width,cxy.y*Ψ.ctx.canvas.height,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};O1.n_arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0*Ψ.ctx.canvas.width,cy0*Ψ.ctx.canvas.height,cx1*Ψ.ctx.canvas.width,cy1*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};};};O1.n_arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x*Ψ.ctx.canvas.width,cxy0.y*Ψ.ctx.canvas.height,cxy1.x*Ψ.ctx.canvas.width,cxy1.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width),null;});};};};O1.n_rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};O1.n_rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};O1.n_fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};O1.n_fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};O1.n_strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),null;});};};};};O1.n_strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),null;});};};O1.n_fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,w*Ψ.ctx.canvas.width,h*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};O1.n_fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,wh.x*Ψ.ctx.canvas.width,wh.y*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.n_area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};O1.n_areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.width,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.width),null;});};};O1.n_fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};O1.n_fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};O1.n_strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),null;});};};};};O1.n_strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),null;});};};O1.n_fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height,(x1-x0)*Ψ.ctx.canvas.width,(y1-y0)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};O1.n_fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height,(xy1.x-xy0.x)*Ψ.ctx.canvas.width,(xy1.y-xy0.y)*Ψ.ctx.canvas.height),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.n_arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};};O1.n_arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),null;});};};};};O1.n_strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};O1.n_strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};O1.n_arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};};O1.n_arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),null;});};};};};O1.n_strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};O1.n_strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};O1.n_circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};};O1.n_circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),null;});};};O1.n_fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};};O1.n_fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),null;});};};O1.n_strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};};O1.n_strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.stroke(),null;});};};O1.n_fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};O1.n_fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x*Ψ.ctx.canvas.width,v.y*Ψ.ctx.canvas.height,r*Ψ.ctx.canvas.width,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.n_elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,a0*tau,a1*tau),null;});};};};};};};};O1.n_ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};O1.n_strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};};};O1.n_strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),Ψ.ctx.stroke(),null;});};};};};};O1.n_ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,a1*tau),null;});};};};};};};};O1.n_ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),null;});};};};};};O1.n_strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.width,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};};};O1.n_strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,a0*tau,(a0+a1)*tau),Ψ.ctx.stroke(),null;});};};};};};O1.n_ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};};};O1.n_ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),null;});};};};O1.n_fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};};};O1.n_fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),null;});};};};O1.n_strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};};};O1.n_strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.stroke(),null;});};};};O1.n_fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height,kx*Ψ.ctx.canvas.width,ky*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};O1.n_fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height,kxy.x*Ψ.ctx.canvas.width,kxy.y*Ψ.ctx.canvas.height,a*tau,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};O1.n_fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};O1.n_fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};O1.n_strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};O1.n_strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};O1.n_fillStrokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),Ψ.ctx.strokeText(text,x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.height),null;});};};};O1.n_fillStrokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),Ψ.ctx.strokeText(text,xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.height),null;});};};O1.n_line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),null;});};};};};O1.n_lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),null;});};};O1.n_strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0*Ψ.ctx.canvas.width,y0*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(x1*Ψ.ctx.canvas.width,y1*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};};};O1.n_strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x*Ψ.ctx.canvas.width,xy0.y*Ψ.ctx.canvas.height),Ψ.ctx.lineTo(xy1.x*Ψ.ctx.canvas.width,xy1.y*Ψ.ctx.canvas.height),Ψ.ctx.stroke(),null;});};};O1.n_vector=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.width),null;});};};};};O1.n_vectorV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.width),null;});};};O1.n_strokeVector=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x*Ψ.ctx.canvas.width,y*Ψ.ctx.canvas.width),Ψ.ctx.lineTo((x+dx)*Ψ.ctx.canvas.width,(y+dy)*Ψ.ctx.canvas.width),Ψ.ctx.stroke(),null;});};};};};O1.n_strokeVectorV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x*Ψ.ctx.canvas.width,xy.y*Ψ.ctx.canvas.width),Ψ.ctx.lineTo((xy.x+dxy.x)*Ψ.ctx.canvas.width,(xy.y+dxy.y)*Ψ.ctx.canvas.width),Ψ.ctx.stroke(),null;});};};O1.requestPointerLock=IO(function(){return onmouseup=function(){return Ψ.isPointerLocked||Ψ.ctx.canvas.requestPointerLock();},null;});O1.deactivatePointerLock=IO(function(){return onmouseup=null;});O1.setCanvasW=function(w){return IO(function(){return Ψ.ctx.canvas.width=w,null;});};O1.setCanvasH=function(h){return IO(function(){return Ψ.ctx.canvas.height=h,null;});};O1.setCanvasWH=function(w){return function(h){return IO(function(){return Ψ.ctx.canvas.width=w,Ψ.ctx.canvas.height=h,null;});};};O1.setCanvasV2=function(wh){return IO(function(){return Ψ.ctx.canvas.width=wh.x,Ψ.ctx.canvas.height=wh.y,null;});};O1.setLayer=function(index){return IO(function(){return index<0||index>Ψ.ctxs.length|| !Number.isInteger(index)?error("'O.setLayer' received index of '".concat(index,"'; must be a integer in interval [0, ").concat(Ψ.ctxs.length,")")):(Ψ.ctx=Ψ.ctxs[index],null);});};O1.setLineThickness=function(thickness){return IO(function(){return Ψ.ctx.lineWidth=thickness,null;});};O1.setLineDashPattern=function(pattern){return IO(function(){return Ψ.ctx.setLineDash(listToArray(pattern)),null;});};O1.setLineDashOffset=function(offset){return IO(function(){return Ψ.ctx.lineDashOffset=offset,null;});};O1.setMiterLimit=function(limit){return IO(function(){return Ψ.ctx.miterLimit=limit,null;});};O1.setFont=function(font){return IO(function(){return Ψ.ctx.font=font,null;});};O1.setFontSize=function(size){return IO(function(){return Ψ.ctx.font="".concat(size,"px").concat(Ψ.ctx.font.slice(Ψ.ctx.font.indexOf(' '))),null;});};O1.setFontFamily=function(family){return IO(function(){return Ψ.ctx.font="".concat(parseFloat(Ψ.ctx.font),"px \"").concat(family,"\""),null;});};O1.setShadowBlurAmount=function(amount){return IO(function(){return Ψ.ctx.shadowBlur=amount,null;});};O1.setShadowColor=function(color){return IO(function(){return Ψ.ctx.shadowColor=color,null;});};O1.setShadowRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};O1.setShadowV4=function(v){return IO(function(){return Ψ.ctx.shadowColor="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};O1.setShadowX=function(x){return IO(function(){return Ψ.ctx.shadowOffsetX=x,null;});};O1.setShadowY=function(y){return IO(function(){return Ψ.ctx.shadowOffsetY=y,null;});};O1.setShadowXY=function(x){return function(y){return IO(function(){return Ψ.ctx.shadowOffsetX=x,Ψ.ctx.shadowOffsetY=y,null;});};};O1.setShadowV2=function(xy){return IO(function(){return Vector2(Ψ.ctx.shadowOffsetX=xy.x,Ψ.ctx.shadowOffsetY=xy.y),null;});};O1.setMatrix=function(m3){return IO(function(){return Ψ.ctx.setTransform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx,m3.ky),null;});};O1.resetMatrix=IO(function(){return Ψ.ctx.resetTransform,null;});O1.setAlpha=function(alpha){return IO(function(){return Ψ.ctx.globalAlpha=alpha,null;});};O1.setFillColor=function(color){return IO(function(){return Ψ.ctx.fillStyle=color,null;});};O1.setFillRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};O1.setFillV4=function(v){return IO(function(){return Ψ.ctx.fillStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};O1.setStrokeColor=function(color){return IO(function(){return Ψ.ctx.strokeStyle=color,null;});};O1.setStrokeRGBA=function(r,g,b,a){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(r,",").concat(g,",").concat(b,",").concat(a,")"),null;});};O1.setStrokeV4=function(v){return IO(function(){return Ψ.ctx.strokeStyle="rgba(".concat(v.x,",").concat(v.y,",").concat(v.z,",").concat(v.w,")"),null;});};O1.setLineCap=function(linecap){return IO(function(){return Ψ.ctx.lineCap=mappingLineCapToHTML5.codomain(linecap),null;});};O1.setLineJoin=function(linejoin){return IO(function(){return Ψ.ctx.lineJoin=mappingLineJoinToHTML5.codomain(linejoin),null;});};O1.setTextAlign=function(alignment){return IO(function(){return Ψ.ctx.textAlign=mappingTextAlignToHTML5.codomain(alignment),null;});};O1.setTextBaseline=function(baseline){return IO(function(){return Ψ.ctx.textBaseline=mappingTextBaselineToHTML5.codomain(baseline),null;});};O1.setComposition=function(composition){return IO(function(){return Ψ.ctx.globalCompositeOperation=mappingCompositionToHTML5.codomain(composition),null;});};O1.setCenterText=IO(function(){return Ψ.ctx.textAlign='center',Ψ.ctx.textBaseline='middle',null;});O1.defaultText=IO(function(){return Ψ.ctx.textAlign='start',Ψ.ctx.textBaseline='alphabetic',null;});O1.resetState=IO(function(){for(var k in Ψ.keyboard)Ψ.keyboard[k]=relaxVertical(Ψ.keyboard[k]);for(var i in Ψ.mouseButtons)Ψ.mouseButtons[i]=relaxVertical(Ψ.mouseButtons[i]);Ψ.mouseDeltaX=Ψ.mouseDeltaY=0;Ψ.mouseScroll=Vertical.Rest;Ψ.isResized=false;return null;});O1.setAudioTime=function(path){return function(time){return IO(function(){if(!Ψ.audio[path])error("'O.setAudioTime' received an unloaded (possibly non-existing) audio at path: '".concat(path,"'"));if(time<0||time>Ψ.audio[path].duration)error("'O.setAudioTime' received '".concat(time,"' as an input; must be in interval [0, ").concat(Ψ.audio[path].duration,"] for audio file: '").concat(path,"'"));Ψ.audio[path].currentTime=time;return null;});};};O1.resetAudio=function(path){return IO(function(){if(!Ψ.audio[path])error("'O.resetAudio' received an unloaded (possibly non-existing) audio at path: '".concat(path,"'"));Ψ.audio[path].pause();Ψ.audio[path].currentTime=0;return null;});};O1.flush=IO(function(){return console.clear(),null;});O1.log=function(message){return IO(function(){return console.log(message),null;});};O1.warning=function(message){return IO(function(){return console.warn(message),null;});};O1.debug=function(count){return function(message){return IO(function(){if((--Ψ.debugCounter)<0)Ψ.debugCounter=count,console.debug(message);return null;});};};O1.count=function(identifier){return IO(function(){return console.count(identifier),null;});};O1.resetCount=function(identifier){return IO(function(){return console.countReset(identifier),null;});};O1.queue=function(effect){return IO(function(){return requestAnimationFrame(effect.effect),null;});};O1.loadImage=function(path){return IO(function(){Ψ.image[path]=new Image;Ψ.image[path].src=path;Ψ.image[path].onerror=function(){return error("'O.loadImage' could not load image at path: '".concat(path,"'"));};return null;});};O1.loadAudio=function(path){return IO(function(){Ψ.audio[path]=new Audio(path);Ψ.audio[path].onerror=function(){return error("'O.loadAudio' could not load audio at path: '".concat(path,"'"));};return null;});};O1.loadFont=function(path){return IO(function(){new FontFace(path.slice(path.lastIndexOf('/')+1,path.lastIndexOf('.')),"url(".concat(path,")")).load().then(function(font){return document.fonts.add(font);}).catch(function(){return error("'loadFont' could not load font at path: '".concat(path,"'"));});return null;});};O1.drawImage=function(path){return function(cx){return function(cy){return function(cw){return function(ch){return function(x){return function(y){return function(w){return function(h){return IO(function(){if(!Ψ.image[path])error("'O.drawImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],cx,cy,cw,ch,x,y,w,h);return null;});};};};};};};};};};O1.drawImageV2=function(path){return function(cxy){return function(cwh){return function(xy){return function(wh){return IO(function(){if(!Ψ.image[path])error("'O.drawImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],cxy.x,cxy.y,cwh.x,cwh.y,xy.x,xy.y,wh.x,wh.y);return null;});};};};};};O1.drawUncroppedImage=function(path){return function(x){return function(y){return function(w){return function(h){return IO(function(){if(!Ψ.image[path])error("'O.drawUncroppedImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x,y,w,h);return null;});};};};};};O1.drawUncroppedImageV2=function(path){return function(xy){return function(wh){return IO(function(){if(!Ψ.image[path])error("'O.drawUncroppedImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,wh.x,wh.y);return null;});};};};O1.drawFullImage=function(path){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.drawFullImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x,y);return null;});};};};O1.drawFullImageV2=function(path){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.drawFullImage' received an unloaded image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y);return null;});};};O1.drawFullScaledImage=function(path){return function(k){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.drawFullScaledImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x,y,Ψ.image[path].width*k,Ψ.image[path].height*k);return null;});};};};};O1.drawFullScaledImageV2=function(path){return function(k){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.drawFullScaledImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,Ψ.image[path].width*k,Ψ.image[path].height*k);return null;});};};};O1.drawSquareImage=function(path){return function(k){return function(x){return function(y){return IO(function(){if(!Ψ.image[path])error("'O.drawSquareImage' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],x,y,k,k);return null;});};};};};O1.drawSquareImageV2=function(path){return function(k){return function(xy){return IO(function(){if(!Ψ.image[path])error("'O.drawSquareImageV2' received an unloaded (possibly non-existing) image at path: '".concat(path,"'"));Ψ.ctx.drawImage(Ψ.image[path],xy.x,xy.y,k,k);return null;});};};};O1.playAudio=function(path){return IO(function(){if(!Ψ.audio[path])error("'O.playAudio' received an unloaded (possibly non-existing) audio at path: '".concat(path,"'"));Ψ.audio[path].play();return null;});};O1.pauseAudio=function(path){return IO(function(){if(!Ψ.audio[path])error("'O.pauseAudio' received an unloaded (possibly non-existing) audio at path: '".concat(path,"'"));Ψ.audio[path].pause();return null;});};O1.playSFX=function(path){return IO(function(){if(Ψ.audio[path])Ψ.audio[path].cloneNode().play();else error("'O.playSFX' received an unloaded (possibly non-existing) audio at path: '".concat(path,"'"));return null;});};O1.clearLayer=IO(function(){return Ψ.ctx.clearRect(0,0,Ψ.ctx.canvas.width,Ψ.ctx.canvas.height),null;});O1.clearCanvas=IO(function(){return Ψ.ctxs.forEach(function(ctx){return ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}),null;});O1.clearRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.clearRect(x,y,w,h),null;});};};};};O1.clearRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.clearRect(xy.x,xy.y,wh.x,wh.y),null;});};};O1.clearArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.clearRect(x0,y0,x1-x0,y1-y0),null;});};};};};O1.clearAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.clearRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};O1.fill=IO(function(){return Ψ.ctx.fill(),null;});O1.stroke=IO(function(){return Ψ.ctx.stroke(),null;});O1.save=IO(function(){return Ψ.ctx.save(),null;});O1.restore=IO(function(){return Ψ.ctx.restore(),null;});O1.clipEvenOdd=IO(function(){return Ψ.ctx.clip('evenodd'),null;});O1.clipNonZero=IO(function(){return Ψ.ctx.clip('nonzero'),null;});O1.rotate=function(angle){return IO(function(){return Ψ.ctx.rotate(angle),null;});};O1.scaleX=function(kx){return IO(function(){return Ψ.ctx.scale(kx,1),null;});};O1.scaleY=function(ky){return IO(function(){return Ψ.ctx.scale(1,ky),null;});};O1.scaleXY=function(kx){return function(ky){return IO(function(){return Ψ.ctx.scale(kx,ky),null;});};};O1.scaleV2=function(v){return IO(function(){return Ψ.ctx.scale(v.x,v.y),null;});};O1.translateX=function(dx){return IO(function(){return Ψ.ctx.translate(dx,0),null;});};O1.translateY=function(dy){return IO(function(){return Ψ.ctx.translate(0,dy),null;});};O1.translateXY=function(dx){return function(dy){return IO(function(){return Ψ.ctx.translate(dx,dy),null;});};};O1.translateV2=function(v){return IO(function(){return Ψ.ctx.translate(v.x,v.y),null;});};O1.transform2=function(m2){return IO(function(){return Ψ.ctx.transform(m2.ix,m2.iy,m2.jx,m2.jy,0,0),null;});};O1.transform3=function(m3){return IO(function(){return Ψ.ctx.transform(m3.ix,m3.iy,m3.jx,m3.jy,m3.kx,m3.ky),null;});};O1.beginPath=IO(function(){return Ψ.ctx.beginPath(),null;});O1.closePath=IO(function(){return Ψ.ctx.closePath(),null;});O1.moveTo=function(x){return function(y){return IO(function(){return Ψ.ctx.moveTo(x,y),null;});};};O1.moveToV2=function(v){return IO(function(){return Ψ.ctx.moveTo(v.x,v.y),null;});};O1.bezierCurveTo=function(cx0){return function(cy0){return function(cx1){return function(cy1){return function(x){return function(y){return IO(function(){return Ψ.ctx.bezierCurveTo(cx0,cy0,cx1,cy1,x,y),null;});};};};};};};O1.bezierCurveToV2=function(cxy0){return function(cxy1){return function(xy){return IO(function(){return Ψ.ctx.bezierCurveTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,xy.x,xy.y),null;});};};};O1.quadraticCurveTo=function(cx){return function(cy){return function(x){return function(y){return IO(function(){return Ψ.ctx.quadraticCurveTo(cx,cy,x,y),null;});};};};};O1.quadraticCurveToV2=function(cxy){return function(xy){return IO(function(){return Ψ.ctx.quadraticCurveTo(cxy.x,cxy.y,xy.x,xy.y),null;});};};O1.arcTo=function(r){return function(cx0){return function(cy0){return function(cx1){return function(cy1){return IO(function(){return Ψ.ctx.arcTo(cx0,cy0,cx1,cy1,r),null;});};};};};};O1.arcToV2=function(r){return function(cxy0){return function(cxy1){return IO(function(){return Ψ.ctx.arcTo(cxy0.x,cxy0.y,cxy1.x,cxy1.y,r),null;});};};};O1.rect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),null;});};};};};O1.rectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),null;});};};O1.fillRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.fillRect(x,y,w,h),null;});};};};};O1.fillRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.fillRect(xy.x,xy.y,wh.x,wh.y),null;});};};O1.strokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.strokeRect(x,y,w,h),null;});};};};};O1.strokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.strokeRect(xy.x,xy.y,wh.x,wh.y),null;});};};O1.fillStrokeRect=function(x){return function(y){return function(w){return function(h){return IO(function(){return Ψ.ctx.rect(x,y,w,h),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};O1.fillStrokeRectV2=function(xy){return function(wh){return IO(function(){return Ψ.ctx.rect(xy.x,xy.y,wh.x,wh.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.area=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),null;});};};};};O1.areaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};O1.fillArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.fillRect(x0,y0,x1-x0,y1-y0),null;});};};};};O1.fillAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.fillRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};O1.strokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.strokeRect(x0,y0,x1-x0,y1-y0),null;});};};};};O1.strokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.strokeRect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),null;});};};O1.fillStrokeArea=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.rect(x0,y0,x1-x0,y1-y0),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};O1.fillStrokeAreaV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.rect(xy0.x,xy0.y,xy1.x-xy0.x,xy1.y-xy0.y),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.arc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),null;});};};};};};O1.arcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),null;});};};};};O1.strokeArc=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};};O1.strokeArcV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a1),Ψ.ctx.stroke(),null;});};};};};O1.arcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),null;});};};};};};O1.arcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),null;});};};};};O1.strokeArcSection=function(r){return function(a0){return function(a1){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};O1.strokeArcSectionV2=function(r){return function(a0){return function(a1){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};O1.circle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),null;});};};};O1.circleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),null;});};};O1.fillCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),null;});};};};O1.fillCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),null;});};};O1.strokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.stroke(),null;});};};};O1.strokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.stroke(),null;});};};O1.fillStrokeCircle=function(r){return function(x){return function(y){return IO(function(){return Ψ.ctx.arc(x,y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};O1.fillStrokeCircleV2=function(r){return function(v){return IO(function(){return Ψ.ctx.arc(v.x,v.y,r,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};O1.elliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),null;});};};};};};};};O1.ellipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),null;});};};};};};O1.strokeElliptic=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};};};O1.strokeEllipticV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a1),Ψ.ctx.stroke(),null;});};};};};};O1.ellipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),null;});};};};};};};};O1.ellipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),null;});};};};};};O1.strokeEllipticSection=function(a){return function(a0){return function(a1){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};};};O1.strokeEllipticSectionV2=function(a){return function(a0){return function(a1){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,a0,a0+a1),Ψ.ctx.stroke(),null;});};};};};};O1.ellipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),null;});};};};};};O1.ellipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),null;});};};};O1.fillEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),null;});};};};};};O1.fillEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),null;});};};};O1.strokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.stroke(),null;});};};};};};O1.strokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.stroke(),null;});};};};O1.fillStrokeEllipse=function(a){return function(kx){return function(ky){return function(x){return function(y){return IO(function(){return Ψ.ctx.ellipse(x,y,kx,ky,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};};};O1.fillStrokeEllipseV2=function(a){return function(kxy){return function(xy){return IO(function(){return Ψ.ctx.ellipse(xy.x,xy.y,kxy.x,kxy.y,a,0,tau),Ψ.ctx.fill(),Ψ.ctx.stroke(),null;});};};};O1.fillText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),null;});};};};O1.fillTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),null;});};};O1.strokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.strokeText(text,x,y),null;});};};};O1.strokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};O1.fillStrokeText=function(text){return function(x){return function(y){return IO(function(){return Ψ.ctx.fillText(text,x,y),Ψ.ctx.strokeText(text,x,y),null;});};};};O1.fillStrokeTextV2=function(text){return function(xy){return IO(function(){return Ψ.ctx.fillText(text,xy.x,xy.y),Ψ.ctx.strokeText(text,xy.x,xy.y),null;});};};O1.line=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),null;});};};};};O1.lineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),null;});};};O1.strokeLine=function(x0){return function(y0){return function(x1){return function(y1){return IO(function(){return Ψ.ctx.moveTo(x0,y0),Ψ.ctx.lineTo(x1,y1),Ψ.ctx.stroke(),null;});};};};};O1.strokeLineV2=function(xy0){return function(xy1){return IO(function(){return Ψ.ctx.moveTo(xy0.x,xy0.y),Ψ.ctx.lineTo(xy1.x,xy1.y),Ψ.ctx.stroke(),null;});};};O1.vector=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),null;});};};};};O1.vectorV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),null;});};};O1.strokeVector=function(x){return function(y){return function(dx){return function(dy){return IO(function(){return Ψ.ctx.moveTo(x,y),Ψ.ctx.lineTo(x+dx,y+dy),Ψ.ctx.stroke(),null;});};};};};O1.strokeVectorV2=function(xy){return function(dxy){return IO(function(){return Ψ.ctx.moveTo(xy.x,xy.y),Ψ.ctx.lineTo(xy.x+dxy.x,xy.y+dxy.y),Ψ.ctx.stroke(),null;});};};})(O||(O={}));onload=function(){Ψ.ctxs=Array.from(document.querySelectorAll('canvas')).map(function(x){return x.getContext('2d');});Ψ.ctx=Ψ.ctxs[0];onresize=function(){return clearTimeout(Ψ.resizeID),Ψ.resizeID=setTimeout(function(){return Ψ.isResized=true;},250);};onmousedown=function(ev){return Ψ.mouseButtons[ev.button]=Vertical.Downward;};onmouseup=function(ev){return Ψ.mouseButtons[ev.button]=Vertical.Upward;};onkeyup=function(ev){return Ψ.keyboard[ev.code]=Vertical.Upward;};onkeydown=function(ev){return Ψ.keyboard[ev.code]=ev.repeat?Ψ.keyboard[ev.code]:Vertical.Downward;};onwheel=function(ev){return Ψ.mouseScroll=ev.deltaY<0?Vertical.Up:ev.deltaY>0?Vertical.Down:Vertical.Rest;};onmousemove=function(ev){Ψ.mouseWindowX=ev.x,Ψ.mouseWindowY=ev.y,Ψ.mouseCanvasX=ev.clientX-Ψ.ctx.canvas.offsetLeft,Ψ.mouseCanvasY=ev.clientY-Ψ.ctx.canvas.offsetTop,Ψ.mouseScreenX=ev.screenX,Ψ.mouseScreenY=ev.screenY,Ψ.mouseDeltaX=ev.movementX,Ψ.mouseDeltaY=ev.movementY;};document.onpointerlockchange=function(){return Ψ.isPointerLocked=document.pointerLockElement===Ψ.ctx.canvas;};if(main)main.effect();};
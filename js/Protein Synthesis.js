var STD;(function(STD1){STD1.refreshRate=15;STD1.aspectRatio=16/9;STD1.resizeThreshold=5;STD1.resizeSpeed=0.25;STD1.mainmenu_game_tspeed=0.0075;STD1.mainmenu_instructions_tspeed=0.03;STD1.mainmenu_credits_tspeed=0.03;STD1.game_t_game_speed=0.005;STD1.game_t_ending_speed=0.005;STD1.ending_t_mainmenu_speed=0.01;STD1.palette=['#e76f51','#f4a261','#e9c46a','#2a9d8f','#264653','#f77767'];var MM;(function(MM1){MM1.arc_xy=Vector2(0.2,0.65);MM1.arc_r=0.15;MM1.arc_min_vel=0.01;MM1.arc_accl=0.3;MM1.arc_elasticity=0.2;MM1.arc_drag=0.05;MM1.selection_button_texts=List("START","INSTRUCTIONS","CREDITS");MM1.selection_button_xy=Vector2(0.35,0.5);MM1.selection_button_wh=Vector2(0.65,0.3);MM1.selection_button_fadein=0.15;MM1.selection_button_fadeout=0.75;MM1.game_index=0;MM1.instructions_index=1;MM1.credits_index=2;MM1.back_button_xy=Vector2(0.05,0.75);MM1.back_button_wh=Vector2(0.2,0.15);MM1.back_button_text_xy=Vector2(0.1475,0.835);})(MM||(MM={}));var G;(function(G1){G1.questions=List(Pair("What is the first stage of protein synthesis?","TRANSCRIPTION"),Pair("What is the second stage of protein synthesis?","TRANSLATION"),Pair("What organelle does transcription occur in?","NUCLEUS"),Pair("What breaks the hydrogen bonds of DNA?","HELICASE"),Pair("Where does the mRNA travel to after being made?","RIBOSOMES"),Pair("Where does the assembly of proteins take place?","RIBOSOMES"),Pair("What carries amino acids to make proteins?","TRNA"),Pair("Translation ends when the (?) codon is reached.","STOP"),Pair("Translation begins when the (?) codon is reached.","START"),Pair("The 'm' in mRNA is short for (?).","MESSENGER"),Pair("The 't' in tRNA is short for (?).","TRANSFER"),Pair("What are proteins made of?","POLYPEPTIDE"),Pair("What nucleotide is unique to RNA?","URACIL"),Pair("What nucleotide is unique to DNA?","THYMINE"),Pair("RNA has the shape of what?","SINGLEHELIX"),Pair("DNA has the shape of what?","DOUBLEHELIX"),Pair("If a codon is UUC, then what is its anti-codon?","AAG"),Pair("What performs the assembly of amino acids?","RRNA"),Pair("What bond does the helicase break in DNA?","HYDROGEN"),Pair("Where DNA splits into two strands is called (?).","REPLICATIONFORK"),Pair("After the mRNA is done, the two DNA strands (?).","REBOND"),Pair("What does tRNA carry around?","AMINOACIDS"),Pair("RNA can exit/enter the nucleus while (?) cannot.","DNA"));G1.letter_amount=25;G1.lifespeed_lerp_speed=0.25;G1.letter_lifespeed_range=Pair(0.001,0.005);G1.letter_lifespeed_max=0.025;G1.letter_radius=0.035;G1.letter_max_vel=0.005;G1.letter_max_vel_ampped=5;G1.gravity_strength=0.0005;G1.pull_strength=0.01;G1.question_amount=8;})(G||(G={}));var END;(function(END1){END1.back_button_y=0.79;END1.back_button_wh=Vector2(0.5,0.125);END1.back_button_xy=Vector2(0.5-END.back_button_wh.x/2,END.back_button_y);END1.back_button_text_y=0.855;})(END||(END={}));STD1.MM=MM,STD1.G=G,STD1.END=END;})(STD||(STD={}));var initialMainmenu={variation:'Mainmenu',bgVelocity:0,bgOffset:0,arcVelocity:STD.MM.arc_min_vel,offset:0,subarcIndex:Nothing,buttonOpacities:replicate(3)(0)};var randomLetter=function(game){return game.variation==='Game'?Do.Process_Random.bindto('lifeSpeed')(function(_){return uncurry(randomFloatRange)(STD.G.letter_lifespeed_range);}).bindto('character')(function(_){return randomChance(0.75).bind(function(chance){return chance?randomChar(head(game.questions).snd):randomUppercase;});}).bindto('position')(function(_){return randomPaddedVector;}).bindto('target')(function(_){return randomPaddedVector;}).bindto('velocity')(function(_){return randomDirectionV2.fmap(V2.scale(STD.G.letter_max_vel));}).bindto('colorIndex')(function(_){return randomIntRange(1)(5);}).fmap(function($){return {variation:'Letter',character:$.character,lifetime:0,lifeSpeed:$.lifeSpeed,staticSpeed:$.lifeSpeed,position:$.position,velocity:$.velocity,target:$.target,colorIndex:$.colorIndex};}):never;};var iterateLetter=function(isFast){return function(letter){return letter.lifetime>1?Nothing:Just({variation:'Letter',character:letter.character,target:letter.target,staticSpeed:letter.staticSpeed,lifetime:letter.lifetime+letter.lifeSpeed,lifeSpeed:lerp(STD.G.lifespeed_lerp_speed)(letter.lifeSpeed)(letter.staticSpeed+(isFast?STD.G.letter_lifespeed_max:0)),position:V2.each(lerp(STD.G.pull_strength))(V2.translate(letter.position)(letter.velocity))(letter.target),velocity:V2.each(lerp(STD.G.gravity_strength))(letter.velocity)(letter.target.pipe(V2.untranslate(letter.position)).pipe(V2.scale(isFast?STD.G.letter_max_vel_ampped:1))),colorIndex:letter.colorIndex});};};var distIndexToOffset=function(index){return function(offset){return ((index-2.75)%9+offset*3).pipe(function(n){return abs(n)>1.5?sign(n)-n/3:-n/3;});};};var nearestSubarcIndex=function(offset){return roundInt(2.75-offset*3)%3;};var transitionCurve=function(x){return quarticCurve(x)*1.01-0.005;};var isSelectionTextInRange=function(index){return function(offset){return abs(distIndexToOffset(index)(offset))<0.05;};};var isOnSelectionButton=V2.isInRect(STD.MM.selection_button_xy)(STD.MM.selection_button_wh);var isOnBackButton=V2.isInRect(STD.MM.back_button_xy)(STD.MM.back_button_wh);var randomPaddedVector=randomV2.fmap(V2.scale(0.7)).fmap(V2.translateXY(0.15)(0.15));var isOnLetter=function(position){return function(letter){return V2.isInCircle(STD.G.letter_radius)(V2.unscaleY(STD.aspectRatio)(letter.position))(V2.unscaleY(STD.aspectRatio)(position));};};var main=Do.IO.bindto('seed')(function(_){return seed;}).bindto('nextPresentTime')(function(_){return time;}).bindto('idealCanvasWidth')(function(_){return windowDimensions.fmap(vectorToPair).fmap(fsnd(mul(STD.aspectRatio))).fmap(uncurry(min));}).also(function($){return setCanvasDimensions($.idealCanvasWidth)($.idealCanvasWidth/STD.aspectRatio);}).side(loadFont('./font/RobotoMono.ttf')).side(loadFont('./font/Hyperlegible.ttf')).side(loadFont('./font/Hyperlegible-Italic.ttf')).side(loadImage('./image/crosshair.png')).side(loadAudio('./audio/gunshot.mp3')).bind(function($){return loop({variation:'Global',presentTime:$.nextPresentTime,deltaTime:0,refreshTime:0,canvasWidth:$.idealCanvasWidth,seed:$.seed,isRefresh:false,isResizing:false})(initialMainmenu);});var loop=function(global){return function(local){return Do.IO.bindto('nextPresentTime')(function(_){return time;}).bindto('maxCanvasWidth')(function(_){return windowDimensions.fmap(vectorToPair).fmap(fsnd(mul(STD.aspectRatio))).fmap(uncurry(min));}).bindto('nextIsResizing')(function($){return isWindowResized.fmap(function(b){return (b||global.isResizing)&&napprox(STD.resizeThreshold)($.maxCanvasWidth)(global.canvasWidth);});}).fmapto('nextDeltaTime')(function($){return $.nextPresentTime-global.presentTime;}).fmapto('nextRefreshTime')(function($){return (global.isRefresh?0:global.refreshTime)+$.nextDeltaTime;}).fmapto('nextIsRefresh')(function($){return $.nextRefreshTime>STD.refreshRate;}).fmapto('nextGlobal')(function($){return {variation:'Global',presentTime:$.nextPresentTime,deltaTime:$.nextDeltaTime,refreshTime:$.nextRefreshTime,canvasWidth:$.nextIsResizing&&$.nextIsRefresh?lerp(STD.resizeSpeed)(global.canvasWidth)($.maxCanvasWidth):global.canvasWidth,seed:uncurry(add)(random.computation(global.seed)),isRefresh:$.nextIsRefresh,isResizing:$.nextIsResizing};}).bindto('nextLocal')(function($){return update($.nextGlobal)(local);}).also(function($){return $.nextIsResizing&&$.nextIsRefresh?setCanvasDimensions($.nextGlobal.canvasWidth)($.nextGlobal.canvasWidth/STD.aspectRatio):idle;}).side(mouseLeft.fmap(eq(Vertical.Downward)).bind(function(isDown){return isDown?playSFX('./audio/gunshot.mp3'):idle;})).also(function($){return clearCanvas;}).also(function($){return render($.nextGlobal)($.nextLocal);}).bind(function($){return queueIO(loop($.nextGlobal)($.nextLocal));});};};var update=function(global){return function(local){return local.variation==='Mainmenu'?n_mouseLeftClickCoordinates.bind(function(coordinatesMaybe){return checkMaybe(isOnSelectionButton)(coordinatesMaybe)?send(branch_Mainmenu_Selection(global)(local)):update_Mainmenu(global)(local);}):local.variation==='Game'?local.answerLength<head(local.questions).snd.length?update_Game(global)(local):send(tail(local.questions).variation==='Nil'?{variation:'Game_T_Ending',keytime:0,game:local,ending:{variation:'Ending',bgOffset:0}}:{variation:'Game_T_Game',keytime:0,preGame:local,postGame:{variation:'Game',answerLength:0,letters:Nil,questions:tail(local.questions)}}):local.variation==='Instructions'?n_mouseLeftClickCoordinates.fmap(function(coordinatesMaybe){return checkMaybe(isOnBackButton)(coordinatesMaybe)?{variation:'Instructions_T_Mainmenu',keytime:0,mainmenu:initialMainmenu,instructions:local}:{variation:'Instructions',bgOffset:global.isRefresh?local.bgOffset+0.001:local.bgOffset};}):local.variation==='Credits'?n_mouseLeftClickCoordinates.fmap(function(coordinatesMaybe){return checkMaybe(isOnBackButton)(coordinatesMaybe)?{variation:'Credits_T_Mainmenu',keytime:0,mainmenu:initialMainmenu,credits:local}:{variation:'Credits',bgOffset:global.isRefresh?local.bgOffset+0.001:local.bgOffset};}):local.variation==='Ending'?n_mouseLeftClickCoordinates.fmap(function(coordinatesMaybe){return checkMaybe(V2.isInRect(STD.END.back_button_xy)(STD.END.back_button_wh))(coordinatesMaybe)?{variation:'Ending_T_Mainmenu',keytime:0,ending:local,mainmenu:initialMainmenu}:{variation:'Ending',bgOffset:local.bgOffset+0.01};}):local.variation==='Mainmenu_T_Game'?local.keytime>1?send(local.game):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Mainmenu_T_Game',keytime:global.isRefresh?local.keytime+STD.mainmenu_game_tspeed:local.keytime,mainmenu:nextMainmenu,game:local.game};}):local.variation==='Mainmenu_T_Instructions'?local.keytime>1?send(local.instructions):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Mainmenu_T_Instructions',keytime:global.isRefresh?local.keytime+STD.mainmenu_instructions_tspeed:local.keytime,mainmenu:nextMainmenu,instructions:local.instructions.variation==='Instructions'?{variation:'Instructions',bgOffset:global.isRefresh?local.instructions.bgOffset+0.001:local.instructions.bgOffset}:never};}):local.variation==='Mainmenu_T_Credits'?local.keytime>1?send(local.credits):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Mainmenu_T_Credits',keytime:global.isRefresh?local.keytime+STD.mainmenu_credits_tspeed:local.keytime,mainmenu:nextMainmenu,credits:local.credits.variation==='Credits'?{variation:'Credits',bgOffset:global.isRefresh?local.credits.bgOffset+0.001:local.credits.bgOffset}:never};}):local.variation==='Instructions_T_Mainmenu'?local.keytime>1?send(local.mainmenu):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Instructions_T_Mainmenu',keytime:global.isRefresh?local.keytime+STD.mainmenu_instructions_tspeed:local.keytime,mainmenu:nextMainmenu,instructions:local.instructions.variation==='Instructions'?{variation:'Instructions',bgOffset:global.isRefresh?local.instructions.bgOffset+0.001:local.instructions.bgOffset}:never};}):local.variation==='Credits_T_Mainmenu'?local.keytime>1?send(local.mainmenu):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Credits_T_Mainmenu',keytime:global.isRefresh?local.keytime+STD.mainmenu_credits_tspeed:local.keytime,mainmenu:nextMainmenu,credits:local.credits.variation==='Credits'?{variation:'Credits',bgOffset:global.isRefresh?local.credits.bgOffset+0.001:local.credits.bgOffset}:never};}):local.variation==='Game_T_Game'?local.keytime>1?send(local.postGame):Do.IO.bindto('nextPreGame')(function(_){return update_Game(global)(local.preGame);}).bindto('nextPostGame')(function(_){return update_Game(global)(local.postGame);}).fmap(function($){return {variation:'Game_T_Game',keytime:global.isRefresh?local.keytime+STD.game_t_game_speed:local.keytime,preGame:$.nextPreGame,postGame:$.nextPostGame};}):local.variation==='Game_T_Ending'?local.keytime>1?send(local.ending):update_Game(global)(local.game).fmap(function(nextGame){return {variation:'Game_T_Ending',keytime:global.isRefresh?local.keytime+STD.game_t_ending_speed:local.keytime,game:nextGame,ending:{variation:'Ending',bgOffset:local.ending.variation==='Ending'?global.isRefresh?local.ending.bgOffset+0.01:local.ending.bgOffset:never}};}):local.variation==='Ending_T_Mainmenu'?local.keytime>1?send(local.mainmenu):update_Mainmenu(global)(local.mainmenu).fmap(function(nextMainmenu){return {variation:'Ending_T_Mainmenu',keytime:global.isRefresh?local.keytime+STD.ending_t_mainmenu_speed:local.keytime,ending:local.ending.variation==='Ending'?{variation:'Ending',bgOffset:local.ending.bgOffset+0.01}:never,mainmenu:nextMainmenu};}):never;};};var render=function(global){return function(local){return local.variation==='Mainmenu'?render_Mainmenu(global)(local):local.variation==='Game'?render_Game(global)(local):local.variation==='Instructions'?render_Instructions(global)(local):local.variation==='Credits'?render_Credits(global)(local):local.variation==='Ending'?render_Ending(global)(local):local.variation==='Mainmenu_T_Game'?local.keytime<0.25?executing(render_Mainmenu(global)(local.mainmenu),setFillColor('Black'),beginPath,n_fillCircle(quadraticCurve(local.keytime*4))(0.5)(0.5)):local.keytime<0.5?executing(render_Game(global)(local.game),render_QuestionIndex(local.game),setFillColor('Black'),beginPath,n_fillCircle(1-quadraticCurve(local.keytime*4-1))(0.5)(0.5)):executing(render_Game(global)(local.game),setAlpha(1-quarticCurve(local.keytime*2-1)),render_QuestionIndex(local.game),setAlpha(1)):local.variation==='Mainmenu_T_Instructions'?render_T_Mainmenu_Instructions(global)(local.mainmenu)(local.instructions)(transitionCurve(local.keytime)):local.variation==='Mainmenu_T_Credits'?render_T_Mainmenu_Credits(global)(local.mainmenu)(local.credits)(transitionCurve(local.keytime)):local.variation==='Instructions_T_Mainmenu'?render_T_Mainmenu_Instructions(global)(local.mainmenu)(local.instructions)(1-transitionCurve(local.keytime)):local.variation==='Credits_T_Mainmenu'?render_T_Mainmenu_Credits(global)(local.mainmenu)(local.credits)(transitionCurve(1-local.keytime)):local.variation==='Game_T_Game'?render_Game_T_Game(global)(local.preGame)(local.postGame)(quadraticCurve(local.keytime)):local.variation==='Game_T_Ending'?local.keytime<0.5?executing(render_Game(global)(local.game),setAlpha(min(1)(local.keytime*32)),render_ThatsRight,setAlpha(1),setStrokeColor('Black'),beginPath,n_strokeVectorLine(0.5)(0)(0)(quarticCurve(local.keytime*2))):executing(saveCanvasState,beginPath,n_area(0)(0)(0.5-quarticCurve(local.keytime*2-1)/2)(1),n_area(0.5+quarticCurve(local.keytime*2-1)/2)(0)(1)(1),clipEvenOdd,render_Game(global)(local.game),setAlpha(min(1)(local.keytime*32)),render_ThatsRight,setAlpha(1),restoreCanvasState,saveCanvasState,beginPath,n_area(0.5+quarticCurve(local.keytime*2-1)/2)(0)(0.5-quarticCurve(local.keytime*2-1)/2)(1),clipEvenOdd,render_Ending(global)(local.ending),restoreCanvasState,setStrokeColor('Black'),beginPath,n_strokeVectorLine(0.5-1.01*quarticCurve(local.keytime*2-1)/2)(0)(0)(1),n_strokeVectorLine(0.5+1.01*quarticCurve(local.keytime*2-1)/2)(0)(0)(1)):local.variation==='Ending_T_Mainmenu'?local.keytime<0.5?executing(render_Ending(global)(local.ending),setFillColor('Black'),beginPath,n_fillCircle(quadraticCurve(local.keytime*2))(0.5)(0.5)):executing(render_Mainmenu(global)(local.mainmenu),setFillColor('Black'),beginPath,n_fillCircle(1-quadraticCurve(local.keytime*2-1))(0.5)(0.5)):never;};};var branch_Mainmenu_Selection=function(global){return function(mainmenu){return mainmenu.variation==='Mainmenu'?mainmenu.subarcIndex.variation==='Just'?mainmenu.subarcIndex.value===STD.MM.game_index?{variation:'Mainmenu_T_Game',keytime:0,mainmenu:mainmenu,game:{variation:'Game',answerLength:0,letters:Nil,questions:strictRandomShuffle(STD.G.questions).computation(global.seed).snd.pipe(take(STD.G.question_amount))}}:mainmenu.subarcIndex.value===STD.MM.instructions_index?{variation:'Mainmenu_T_Instructions',keytime:0,mainmenu:mainmenu,instructions:{variation:'Instructions',bgOffset:pi}}:mainmenu.subarcIndex.value===STD.MM.credits_index?{variation:'Mainmenu_T_Credits',keytime:0,mainmenu:mainmenu,credits:{variation:'Credits',bgOffset:tau}}:never:mainmenu:never;};};var update_Mainmenu=function(global){return function(mainmenu){return mainmenu.variation==='Mainmenu'?Do.IO.bindto('mouseScroll')(function(__){return mouseScroll;}).bindto('isMouseOnSelectionButton')(function($){return n_mouseCanvasPosition.fmap(V2.isInRect(STD.MM.selection_button_xy)(STD.MM.selection_button_wh));}).fmapto('nextSubarcIndex')(function($){return $.isMouseOnSelectionButton?mainmenu.subarcIndex.variation==='Nothing'?Just(nearestSubarcIndex(mainmenu.offset)):isSelectionTextInRange(mainmenu.subarcIndex.value)(mainmenu.offset)?mainmenu.subarcIndex.fmap(add(signVertical($.mouseScroll))).fmap(rmodulo(3)):mainmenu.subarcIndex:Nothing;}).fmapto('nextArcVelocity')(function($){return global.isRefresh?$.nextSubarcIndex.variation==='Nothing'?lerp(STD.MM.arc_drag)(mainmenu.arcVelocity)(STD.MM.arc_min_vel):lerp(STD.MM.arc_accl)(mainmenu.arcVelocity)(distIndexToOffset($.nextSubarcIndex.value)(mainmenu.offset)*STD.MM.arc_elasticity):mainmenu.arcVelocity;}).fmapto('nextBackgroundVelocity')(function($){return global.isRefresh?$.nextSubarcIndex.variation==='Just'?lerp(0.1)(mainmenu.bgVelocity)(0.0005):lerp(0.25)(mainmenu.bgVelocity)(0.0125):mainmenu.bgVelocity;}).fmap(function($){return {variation:'Mainmenu',arcVelocity:$.nextArcVelocity,subarcIndex:$.nextSubarcIndex,bgVelocity:$.nextBackgroundVelocity,bgOffset:global.isRefresh?mainmenu.bgOffset+$.nextBackgroundVelocity:mainmenu.bgOffset,offset:global.isRefresh?modulo(mainmenu.offset+$.nextArcVelocity)(1):mainmenu.offset,buttonOpacities:global.isRefresh?$.nextSubarcIndex.variation==='Just'?mainmenu.buttonOpacities.pipe(imap(function(index){return function(opacity){return extractJust($.nextSubarcIndex)===index?lerp(STD.MM.selection_button_fadein)(opacity)(1):opacity*STD.MM.selection_button_fadeout;};})):mainmenu.buttonOpacities.fmap(mul(STD.MM.selection_button_fadeout)):mainmenu.buttonOpacities};}):never;};};var update_Game=function(global){return function(game){return game.variation==='Game'?Do.IO.bindto('mouseClickCoordinates')(function(_){return n_mouseLeftClickCoordinates;}).bindto('isShiftDown')(function(_){return keyboardKey('ShiftLeft').fmap(isDown);}).fmapto('iteratedLetters')(function($){return global.isRefresh?game.letters.pipe(mapMaybe(iterateLetter($.isShiftDown))):game.letters;}).fmapto('pickedLetters')(function($){return $.mouseClickCoordinates.fmap(function(coordinates){return pickOut(isOnLetter(coordinates))($.iteratedLetters);}).pipe(fromJust(Pair(Nothing,$.iteratedLetters)));}).fmap(function($){return {variation:'Game',questions:game.questions,answerLength:game.answerLength<head(game.questions).snd.length&&checkMaybe(function(letter){return letter.character===head(game.questions).snd[game.answerLength];})($.pickedLetters.fst)?game.answerLength+1:game.answerLength,letters:len($.pickedLetters.snd)>STD.G.letter_amount?$.pickedLetters.snd:$.pickedLetters.snd.link(processToList(randomLetter(game))(global.seed)).pipe(take(STD.G.letter_amount))};}):never;};};var render_Mainmenu=function(global){return function(mainmenu){return mainmenu.variation==='Mainmenu'?executing(setFillColor(STD.palette[0]),n_fillRect(0)(0)(1)(1),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),setLineCap(LineCap.Round),render_MainmenuSubarcs(mainmenu.bgOffset)(1.2),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.75)(1.35),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.5)(1.45),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_MainmenuSubarcs(mainmenu.bgOffset*0.25)(1.55),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),render_MainmenuSubarcs(mainmenu.bgOffset*0.2)(1.85),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.15)(2.2),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.125)(2.5),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_MainmenuSubarcs(mainmenu.bgOffset*0.12)(2.75),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),render_MainmenuSubarcs(mainmenu.bgOffset*0.1)(3.5),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.0875)(4),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*0.05)(4.5),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_MainmenuSubarcs(mainmenu.bgOffset*0.025)(5),saveCanvasState,setComposition(Composition.DestinationOut),beginPath,n_fillCircleV2(STD.MM.arc_r)(STD.MM.arc_xy),restoreCanvasState,setFontFamily('RobotoMono'),setTextAlign(TextAlign.Leftside),setTextBaseline(TextBaseline.Middle),n_setFontSize(0.08),n_setLineThickness(0.01),setFillColor('White'),setStrokeColor('Black'),n_translateV2(STD.MM.arc_xy),n_rotate(mainmenu.offset+1/12),zip(STD.MM.selection_button_texts)(mainmenu.buttonOpacities).fmap(function(zipped){return executing(setAlpha(zipped.snd),n_strokeFillText(zipped.fst)(STD.MM.arc_r+0.025)(0),n_rotate(1/3));}).pipe(executeIOs),resetTransformation,setAlpha(1),setFontFamily('Hyperlegible'),setTextBaseline(TextBaseline.Hanging),n_setLineThickness(0.0125),n_setFontSize(0.1),setMiterLimit(2),beginPath,n_strokeFillText("HANGMAN'S GAMBIT")(0.01)(0.05),setFontFamily('Hyperlegible-Italic'),n_setFontSize(0.05),n_setLineThickness(0.007),beginPath,n_strokeFillText("Protein Synthesis")(0.575)(0.19),n_setLineThickness(0.01),setStrokeColor('Black'),beginPath,n_strokeCircleV2(STD.MM.arc_r)(STD.MM.arc_xy),n_setLineThickness(0.025),setLineCap(LineCap.Round),render_MainmenuSubarcs(mainmenu.offset)(1),n_setLineThickness(0.01),render_MainmenuSubarcs(mainmenu.bgOffset*1.1)(0.75),render_MainmenuSubarcs(mainmenu.bgOffset*1.2)(0.5),render_MainmenuSubarcs(mainmenu.bgOffset*1.3)(0.25),render_Crosshair):never;};};var render_Game=function(global){return function(game){return game.variation==='Game'?executing(setFillColor(STD.palette[0]),n_fillRect(0)(0)(1)(1),setToCenterText,setMiterLimit(2.5),n_setLineThickness(0.007),n_setFontSize(0.0425),setFontFamily('Hyperlegible'),setStrokeColor('Black'),setFillColor('White'),n_strokeFillText(head(game.questions).fst)(0.5)(0.1),n_setFontSize(0.05),setFontFamily('RobotoMono'),head(game.questions).snd.slice(0,game.answerLength).padEnd(head(game.questions).snd.length,'_').split('').join(' ').pipe(function(currentAnswer){return n_strokeFillText(currentAnswer)(0.5)(0.9);}),n_setFontSize(0.05),n_setLineThickness(0.0075),game.letters.pipe(reverse).fmap(render_Letter).pipe(executeIOs),setAlpha(1),render_Crosshair):never;};};var render_Instructions=function(global){return function(instructions){return instructions.variation==='Instructions'?executing(setFillColor(STD.palette[5]),n_fillRect(0)(0)(1)(1),render_InstructionsBgArcs(instructions.bgOffset*1.25)(0.1)(1),render_InstructionsBgArcs(instructions.bgOffset*1.65)(0.23)(2),render_InstructionsBgArcs(instructions.bgOffset*1.75)(0.3)(3),render_InstructionsBgArcs(instructions.bgOffset*4.15)(0.12)(4),render_InstructionsBgArcs(instructions.bgOffset*4.25)(0.5)(1),render_InstructionsBgArcs(instructions.bgOffset*4.15)(0.7)(2),render_InstructionsBgArcs(instructions.bgOffset*2.5)(0.75)(3),render_InstructionsBgArcs(instructions.bgOffset*3)(0.55)(4),setToCenterText,setFontFamily('Hyperlegible'),n_setFontSize(0.125),n_setLineThickness(0.015),setMiterLimit(2.5),setFillColor('White'),setStrokeColor('Black'),n_strokeFillText("INSTRUCTIONS")(0.5)(0.15),setToDefaultText,n_setFontSize(0.035),n_setLineThickness(0.006),setFillColor('White'),setStrokeColor('Black'),n_strokeFillMultilineText("- A question will appear on top\n"+"- Each question is about Protein Synthesis\n"+"- Letters will float across the screen\n"+"- Shoot down the letters to answer\n"+"- Press SHIFT to go through letters faster\n"+"- Solve each question successfully to save Ralph the Cat!")(0.065)(0.03)(0.3),n_setLineThickness(0.01),beginPath,n_strokeFillRectV2(STD.MM.back_button_xy)(STD.MM.back_button_wh),n_setFontSize(0.075),setFontFamily('RobotoMono'),setToCenterText,beginPath,n_strokeFillTextV2("BACK")(STD.MM.back_button_text_xy),render_Crosshair):never;};};var render_Credits=function(global){return function(credits){return credits.variation==='Credits'?executing(setFillColor(STD.palette[5]),n_fillRect(0)(0)(1)(1),render_CreditsBgArcs(credits.bgOffset*2.1)(0.05)(1),render_CreditsBgArcs(credits.bgOffset*2.2)(0.1)(2),render_CreditsBgArcs(credits.bgOffset*2.3)(0.15)(3),render_CreditsBgArcs(credits.bgOffset*2.4)(0.2)(4),render_CreditsBgArcs(credits.bgOffset*2.5)(0.25)(1),render_CreditsBgArcs(credits.bgOffset*2.6)(0.3)(2),render_CreditsBgArcs(credits.bgOffset*2.7)(0.35)(3),render_CreditsBgArcs(credits.bgOffset*2.8)(0.4)(4),setToCenterText,setFontFamily('Hyperlegible'),n_setFontSize(0.125),n_setLineThickness(0.015),setMiterLimit(2.5),setFillColor('White'),setStrokeColor('Black'),n_strokeFillText("CREDITS")(0.5)(0.15),setToDefaultText,n_setFontSize(0.035),n_setLineThickness(0.006),setFillColor('White'),setStrokeColor('Black'),n_strokeFillMultilineText("| Developed by Phuc Doan (KittyGorey)\n"+"| Made with the LoveLace framework\n"+"| Used SWC, Typescript, and ESLint\n"+"| Check out the LoveLace repository at:\n")(0.065)(0.03)(0.3),setToCenterText,setFontFamily('Hyperlegible-Italic'),n_setFontSize(0.0525),n_strokeFillText("https://github.com/kittygorey/LoveLace")(0.5)(0.625),n_setLineThickness(0.01),beginPath,n_strokeFillRectV2(STD.MM.back_button_xy)(STD.MM.back_button_wh),n_setFontSize(0.075),setFontFamily('RobotoMono'),setToCenterText,beginPath,n_strokeFillTextV2("BACK")(STD.MM.back_button_text_xy),render_Crosshair):never;};};var render_Ending=function(global){return function(ending){return ending.variation==='Ending'?executing(setFillColor(STD.palette[0]),n_fillRect(0)(0)(1)(1),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),setLineCap(LineCap.Round),render_EndingSubarcs(ending.bgOffset)(1.2),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.75)(1.35),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.5)(1.45),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_EndingSubarcs(ending.bgOffset*0.25)(1.55),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),render_EndingSubarcs(ending.bgOffset*0.2)(1.85),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.15)(2.2),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.125)(2.5),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_EndingSubarcs(ending.bgOffset*0.12)(2.75),setStrokeColor(STD.palette[1]),n_setLineThickness(0.02),render_EndingSubarcs(ending.bgOffset*0.1)(3.5),setStrokeColor(STD.palette[2]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.0875)(4),setStrokeColor(STD.palette[3]),n_setLineThickness(0.01),render_EndingSubarcs(ending.bgOffset*0.05)(4.5),setStrokeColor(STD.palette[4]),n_setLineThickness(0.005),render_EndingSubarcs(ending.bgOffset*0.025)(5),setStrokeColor('Black'),setToCenterText,n_setLineThickness(0.01),n_setFontSize(0.1),setFontFamily('Hyperlegible-Italic'),setFillColor('White'),n_strokeFillText("YOU SAVED RALPH!")(0.5)(0.125),n_setLineThickness(0.005),n_setFontSize(0.03),setFontFamily('Hyperlegible'),n_strokeFillText("(somehow)")(0.5)(0.225),n_setLineThickness(0.0065),n_setFontSize(0.0375),n_strokeFillMultilineText("Thanks for playing Hangman's Gambit: Protein Synthesis!\n"+"This game was made as a demo for LoveLace\n"+"and to spread awareness for Ralph the Tuxedo Cat.\n"+"In memory of him, here's a quote:\n")(0.075)(0.5)(0.35),n_setFontSize(0.045),setFontFamily('Times New Roman'),n_strokeFillText("\"maow\" - Ralph the Tuxedo Cat")(0.5)(0.68),n_setLineThickness(0.01),beginPath,n_strokeFillRectV2(STD.END.back_button_xy)(STD.END.back_button_wh),n_setLineThickness(0.0075),n_setFontSize(0.05),setFontFamily('RobotoMono'),setToCenterText,beginPath,n_strokeFillText("BACK TO MAINMENU")(0.5)(STD.END.back_button_text_y),render_Crosshair):never;};};var render_T_Mainmenu_Instructions=function(global){return function(mainmenu){return function(instructions){return function(t){return executing(saveCanvasState,beginPath,n_area(0)(0)(t)(1),clipEvenOdd,render_Instructions(global)(instructions),restoreCanvasState,saveCanvasState,beginPath,n_area(t)(0)(1)(1),clipEvenOdd,render_Mainmenu(global)(mainmenu),restoreCanvasState,setStrokeColor('Black'),n_setLineThickness(0.01),beginPath,n_line(t)(0)(t)(1),stroke,render_Crosshair);};};};};var render_T_Mainmenu_Credits=function(global){return function(mainmenu){return function(credits){return function(t){return executing(saveCanvasState,beginPath,n_area(0)(0)(1-t)(1),clipEvenOdd,render_Mainmenu(global)(mainmenu),restoreCanvasState,saveCanvasState,beginPath,n_area(1-t)(0)(1)(1),clipEvenOdd,render_Credits(global)(credits),restoreCanvasState,setStrokeColor('Black'),n_setLineThickness(0.01),beginPath,n_line(1-t)(0)(1-t)(1),stroke,render_Crosshair);};};};};var render_Game_T_Game=function(global){return function(preGame){return function(postGame){return function(t){return preGame.variation==='Game'&&postGame.variation==='Game'?t<0.25?executing(render_Game(global)(preGame),setAlpha(min(1)(128*t)),render_ThatsRight,setAlpha(1)):t<0.75?executing(saveCanvasState,beginPath,n_area(0)(0)(2*quadraticCurve(t)-0.5)(1),clipEvenOdd,render_Game(global)(postGame),render_QuestionIndex(postGame),restoreCanvasState,saveCanvasState,beginPath,n_area(2*quadraticCurve(t)-0.5)(0)(1)(1),clipEvenOdd,render_Game(global)(preGame),render_ThatsRight,restoreCanvasState,setStrokeColor('Black'),n_setLineThickness(0.01),beginPath,n_vectorLine(2*quadraticCurve(t)-0.5)(0)(0)(1),stroke):executing(render_Game(global)(postGame),setAlpha(bound(0)(1)(1-quadraticCurve(t*4-3))),render_QuestionIndex(postGame),setAlpha(1)):never;};};};};var render_ThatsRight=executing(n_setLineThickness(0.015),setStrokeColor('Black'),setFillColor('LightGreen'),beginPath,n_strokeFillRect(0)(0.4)(1)(0.2),setMiterLimit(2.5),n_setLineThickness(0.01),n_setFontSize(0.085),setFillColor('White'),setFontFamily('Hyperlegible'),beginPath,n_strokeFillText("THAT'S RIGHT!")(0.5)(0.515));var render_QuestionIndex=function(game){return game.variation==='Game'?executing(n_setLineThickness(0.015),setStrokeColor('Black'),setFillColor('Orange'),beginPath,n_strokeFillRect(0)(0.4)(1)(0.2),setMiterLimit(2.5),n_setLineThickness(0.01),n_setFontSize(0.085),setFontFamily('Hyperlegible'),setFillColor('White'),beginPath,n_strokeFillText("QUESTION #".concat(STD.G.question_amount-len(game.questions)+1,"/").concat(STD.G.question_amount))(0.5)(0.515)):never;};var render_Crosshair=Do.IO.bindto('position')(function(_){return n_mouseCanvasPosition;}).bindto('dimensions')(function(_){return n_imageDimensions('./image/crosshair.png');}).bind(function($){return n_squareImageV2('./image/crosshair.png')(0.05)(V2.untranslateXY(0.025)(0.025*STD.aspectRatio)($.position));});var render_InstructionsBgArcs=function(d){return function(r){return function(i){return executing(setStrokeColor(STD.palette[i]),beginPath,n_strokeArcSection(r)(d)(1/6)(0)(0),beginPath,n_strokeArcSection(r)(d)(1/6)(1)(1));};};};var render_CreditsBgArcs=function(d){return function(r){return function(i){return executing(setStrokeColor(STD.palette[i]),beginPath,n_strokeArcSection(r)(d)(1/6)(0.5)(0),beginPath,n_strokeArcSection(r)(d)(1/6)(0.5)(1),beginPath,n_strokeArcSection(r)(d)(1/6)(0)(0.5),beginPath,n_strokeArcSection(r)(d)(1/6)(1)(0.5));};};};var render_MainmenuSubarcs=function(d){return function(k){return executing(beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d)(1/6)(STD.MM.arc_xy),beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d+1/3)(1/6)(STD.MM.arc_xy),beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d+2/3)(1/6)(STD.MM.arc_xy));};};var render_EndingSubarcs=function(d){return function(k){return executing(beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d)(1/6)(V2.half),beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d+1/3)(1/6)(V2.half),beginPath,n_strokeArcSectionV2(STD.MM.arc_r*k)(d+2/3)(1/6)(V2.half));};};var render_Letter=function(letter){return executing(setFillColor(STD.palette[letter.colorIndex]),setAlpha(bound(0)(1)(4*(letter.lifetime-letter.lifetime**2))),beginPath,n_strokeFillCircleV2(STD.G.letter_radius)(letter.position),setFillColor('White'),n_strokeFillTextV2(letter.character)(letter.position),beginPath,n_strokeArcSectionV2(STD.G.letter_radius*1.25)(letter.lifetime)(1/6)(letter.position));};